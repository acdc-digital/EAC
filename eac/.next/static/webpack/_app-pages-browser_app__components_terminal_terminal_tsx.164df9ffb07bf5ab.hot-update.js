"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_app__components_terminal_terminal_tsx",{

/***/ "(app-pages-browser)/./app/_components/terminal/_components/chatMessages.tsx":
/*!***************************************************************!*\
  !*** ./app/_components/terminal/_components/chatMessages.tsx ***!
  \***************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatMessages: () => (/* binding */ ChatMessages)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../node_modules/.pnpm/next@15.3.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _convex_generated_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/convex/_generated/api */ \"(app-pages-browser)/./convex/_generated/api.js\");\n/* harmony import */ var _lib_hooks_useChat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/hooks/useChat */ \"(app-pages-browser)/./lib/hooks/useChat.ts\");\n/* harmony import */ var _lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/hooks/useInstructions */ \"(app-pages-browser)/./lib/hooks/useInstructions.ts\");\n/* harmony import */ var _lib_hooks_useMCP__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/hooks/useMCP */ \"(app-pages-browser)/./lib/hooks/useMCP.ts\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/store */ \"(app-pages-browser)/./store/index.ts\");\n/* harmony import */ var _store_terminal_chat__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/store/terminal/chat */ \"(app-pages-browser)/./store/terminal/chat.ts\");\n/* harmony import */ var _store_terminal_session__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/store/terminal/session */ \"(app-pages-browser)/./store/terminal/session.ts\");\n/* harmony import */ var _clerk_nextjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @clerk/nextjs */ \"(app-pages-browser)/../node_modules/.pnpm/@clerk+clerk-react@5.38.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@clerk/clerk-react/dist/index.mjs\");\n/* harmony import */ var convex_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! convex/react */ \"(app-pages-browser)/../node_modules/.pnpm/convex@1.25.4_@clerk+clerk-react@5.38.0_react-dom@18.3.1_react@18.3.1__react@18.3.1__react@18.3.1/node_modules/convex/dist/esm/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../node_modules/.pnpm/next@15.3.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);\n// Simplified Chat Messages Component - No Slash Commands\n// /Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\n/* __next_internal_client_entry_do_not_use__ ChatMessages auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\nfunction ChatMessages() {\n    _s();\n    const scrollRef = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n    const processedOperations = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(new Set());\n    const [message, setMessage] = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(\"\");\n    const { user, isLoaded } = (0,_clerk_nextjs__WEBPACK_IMPORTED_MODULE_10__.useUser)();\n    const { initializeUserSession, addTerminalFeedback, setSessionId } = (0,_store_terminal_chat__WEBPACK_IMPORTED_MODULE_6__.useChatStore)();\n    const { activeSessionId } = (0,_store_terminal_session__WEBPACK_IMPORTED_MODULE_7__.useSessionStore)();\n    const { messages, isLoading: chatLoading, sendMessage, sendMessageWithStreaming, sessionId, storeChatMessage, addTerminalFeedback: useTerminalFeedback, streamingThinking, isStreamingThinking, messageCount, isNearSessionLimit, isAtSessionLimit, canAddMessages, getSessionStatus, startNewSession } = (0,_lib_hooks_useChat__WEBPACK_IMPORTED_MODULE_2__.useChat)();\n    const { isConnected: mcpConnected, isLoading: mcpLoading, error: mcpError, availableTools, processNaturalLanguage } = (0,_lib_hooks_useMCP__WEBPACK_IMPORTED_MODULE_4__.useMCP)();\n    // Agent execution and mutations\n    const { agents, activeAgentId, setActiveAgent, executeAgentTool } = (0,_store__WEBPACK_IMPORTED_MODULE_5__.useAgentStore)();\n    const createInstruction = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.createInstructionFile);\n    const ensureInstructionsProject = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.projects.ensureInstructionsProject);\n    const upsertPost = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.socialPosts.upsertPost);\n    const schedulePost = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.socialPosts.schedulePost);\n    const createContentCreationFile = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.createContentCreationFile);\n    const createProject = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.projects.createProject);\n    const createFile = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.createFile);\n    const allPosts = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.socialPosts.getAllPosts, {});\n    const allProjects = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.projects.getProjects, {});\n    const instructionContext = (0,_lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructionContext)();\n    const { isLoading: instructionsLoading } = (0,_lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructions)();\n    const { createNewFile } = (0,_store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore)();\n    const isLoading = chatLoading || mcpLoading || instructionsLoading;\n    // Auto-scroll to bottom when new messages arrive\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (scrollRef.current) {\n                scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        messages\n    ]);\n    // Initialize user session when component mounts and user is loaded\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (isLoaded && user && !sessionId) {\n                console.log(\"🔄 Initializing user session...\", {\n                    userId: user.id\n                });\n                initializeUserSession(user.id);\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        user,\n        isLoaded,\n        sessionId,\n        initializeUserSession\n    ]);\n    // Sync session ID if active session changes\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (activeSessionId && activeSessionId !== sessionId) {\n                console.log(\"🔄 Syncing to active session:\", activeSessionId);\n                setSessionId(activeSessionId);\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        activeSessionId,\n        sessionId,\n        setSessionId\n    ]);\n    // DISABLED: Process messages with operations to create UI files\n    // This is now handled by useFileLoad hook which syncs from Convex to local store\n    /*\n  useEffect(() => {\n    if (!messages) return;\n    \n    console.log('🔍 Processing messages for operations:', {\n      totalMessages: messages.length,\n      recentMessagesCount: messages.slice(-10).length,\n      processedCount: processedOperations.current.size\n    });\n    \n    // Look for messages with operations that need UI processing\n    const recentMessages = messages.slice(-10); // Check last 10 messages\n    \n    recentMessages.forEach((message: any, index) => {\n      console.log(`🔍 Message ${index}:`, {\n        id: message._id,\n        role: message.role,\n        hasOperation: !!message.operation,\n        operationType: message.operation?.type,\n        operationDetails: message.operation?.details,\n        contentPreview: message.content?.substring(0, 100),\n        alreadyProcessed: processedOperations.current.has(message._id)\n      });\n      \n      if (message.operation?.type === 'file_created' && message._id) {\n        // Skip if already processed\n        if (processedOperations.current.has(message._id)) {\n          console.log(`⏭️ Skipping already processed message: ${message._id}`);\n          return;\n        }\n        \n        const { fileName, fileType, content, platformData, agentType } = message.operation.details;\n        \n        console.log('🔍 File creation operation found:', {\n          fileName,\n          fileType,\n          agentType,\n          hasContent: !!content,\n          contentLength: content?.length || 0,\n          willProcess: agentType === 'twitter' && content\n        });\n        \n        // Only process Twitter agent files for UI creation that have content\n        if (agentType === 'twitter' && content) {\n          console.log('🔄 Processing social file operation:', {\n            fileName,\n            fileType,\n            content: content,\n            contentLength: content?.length || 0,\n            contentType: typeof content,\n            messageId: message._id,\n            platformData: platformData,\n            allDetails: message.operation.details\n          });\n          \n          // Mark as processed FIRST to prevent race conditions\n          processedOperations.current.add(message._id);\n          \n          // Parse the platform data with error handling\n          let platformDataObj;\n          try {\n            platformDataObj = platformData ? JSON.parse(platformData) : {};\n          } catch (error) {\n            console.warn('⚠️ Failed to parse platform data, using defaults:', error);\n            platformDataObj = {\n              replySettings: 'following',\n              scheduledDate: '',\n              scheduledTime: '',\n              isThread: false\n            };\n          }\n          \n          // Create the content for the Twitter post file in the expected format\n          const postContent = `# ${fileName.replace(/\\.[^/.]+$/, \"\")} - X (Twitter) Post\nPlatform: X (Twitter)\nCreated: ${new Date().toLocaleDateString()}\n\n## Post Content\n${content}\n\n## Settings\n- Reply Settings: ${platformDataObj.replySettings || 'following'}\n- Schedule: ${platformDataObj.scheduledDate && platformDataObj.scheduledTime ? `${platformDataObj.scheduledDate} ${platformDataObj.scheduledTime}` : 'Now'}\n- Thread: ${platformDataObj.isThread ? 'Multi-tweet Thread' : 'Single Tweet'}\n\n## Media\n- Images: []\n- Videos: []\n\n## Analytics\n- Impressions: 0\n- Engagements: 0\n- Likes: 0\n- Shares: 0`;\n\n          // Get the createNewFile function from the store at execution time\n          const { createNewFile, projectFolders } = useEditorStore.getState();\n          \n          // Find the Content Creation folder ID\n          const contentCreationFolder = projectFolders.find(folder => \n            folder.name === 'Content Creation'\n          );\n          \n          if (contentCreationFolder) {\n            // Create the file in the Content Creation folder\n            createNewFile(\n              fileName,\n              'x', // Use 'x' type for Twitter files\n              'project',\n              contentCreationFolder.id,\n              postContent\n            );\n            \n            console.log('✅ Created social file in UI:', fileName);\n          } else {\n            console.warn('⚠️ Content Creation folder not found');\n            \n            // Create without folder ID if folder not found\n            createNewFile(\n              fileName,\n              'x',\n              'project',\n              undefined,\n              postContent\n            );\n          }\n        }\n      }\n    });\n  }, [messages]); // Removed createNewFile from dependencies to prevent re-runs on panel switches\n  */ // Helper function to strip markdown formatting\n    const stripMarkdown = (text)=>{\n        return text.replace(/#{1,6}\\s*/g, '') // Remove headers\n        .replace(/\\*\\*(.*?)\\*\\*/g, '$1') // Remove **bold**\n        .replace(/\\*(.*?)\\*/g, '$1') // Remove *italic*\n        .replace(/`([^`]+)`/g, '$1') // Remove `code`\n        .replace(/^\\s*[-*+]\\s+/gm, '• ') // Convert markdown lists to bullet points\n        .replace(/^\\s*\\d+\\.\\s+/gm, '• ') // Convert numbered lists to bullet points\n        .replace(/\\n\\s*\\n\\s*\\n/g, '\\n\\n') // Reduce multiple blank lines to double\n        .split('\\n') // Split into lines for processing\n        .map((line)=>{\n            // Add spacing after section headers (lines that don't start with bullet points)\n            if (line.trim() && !line.startsWith('•') && !line.startsWith(' ') && line.length > 0) {\n                return line + '\\n'; // Add extra newline after headers\n            }\n            return line;\n        }).join('\\n').replace(/\\n{3,}/g, '\\n\\n') // Clean up excessive newlines\n        .trim();\n    };\n    // Helper function to detect MCP-related queries (excluding direct tool commands)\n    const isMCPQuery = (text)=>{\n        // Don't treat direct tool commands as NLP queries\n        if (text.startsWith('/')) return false;\n        // Look for keywords that suggest MCP analysis would be helpful\n        const mcpKeywords = [\n            'analyze',\n            'examine',\n            'review',\n            'explain',\n            'understand',\n            'architecture',\n            'structure',\n            'code',\n            'component',\n            'function',\n            'implementation',\n            'pattern',\n            'best practice',\n            'issue',\n            'bug',\n            'error',\n            'performance',\n            'optimization',\n            'refactor',\n            'improvement',\n            'documentation',\n            'overview',\n            'summary',\n            'how does',\n            'what is',\n            'why is',\n            'where is',\n            'when is',\n            'which'\n        ];\n        const lowerText = text.toLowerCase();\n        return mcpKeywords.some((keyword)=>lowerText.includes(keyword));\n    };\n    const handleToolSelectorClose = ()=>{\n        var _inputRef_current;\n        setMessage(\"\");\n        (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n    };\n    // Helper function to create convexMutations object for agents\n    const createConvexMutations = ()=>{\n        return {\n            ensureInstructionsProject,\n            createInstructionFile: createInstruction,\n            upsertPost,\n            schedulePost,\n            createContentCreationFile,\n            createProject: async (params)=>{\n                return await createProject({\n                    name: params.name,\n                    description: params.description,\n                    status: params.status || 'active',\n                    budget: params.budget\n                });\n            },\n            getProjects: async ()=>{\n                return allProjects || [];\n            },\n            createFile: async (params)=>{\n                return await createFile({\n                    name: params.name,\n                    type: params.type,\n                    projectId: params.projectId,\n                    content: params.content,\n                    extension: params.extension,\n                    platform: params.platform,\n                    size: params.size\n                });\n            },\n            getAllPosts: async ()=>{\n                return allPosts || [];\n            }\n        };\n    };\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        // Check session limit before processing\n        if (!canAddMessages()) {\n            console.warn(\"Cannot send message: Session limit reached\");\n            // Add a terminal feedback message about the limit\n            await storeChatMessage({\n                role: \"terminal\",\n                content: \"[\".concat(new Date().toLocaleTimeString('en-US', {\n                    hour12: false,\n                    hour: '2-digit',\n                    minute: '2-digit',\n                    second: '2-digit'\n                }), \"] \\uD83D\\uDEA8 Message not sent: Session limit reached (500 messages)\\nPlease start a new session to continue chatting.\"),\n                sessionId\n            });\n            return;\n        }\n        if (message.trim() && !isLoading) {\n            const messageContent = message.trim();\n            setMessage(\"\");\n            // Check if this is an agent command when an agent is active\n            if (activeAgentId && !messageContent.startsWith('/')) {\n                try {\n                    console.log(\"\\uD83E\\uDD16 Executing agent \".concat(activeAgentId, \" with message: \").concat(messageContent));\n                    // Create convex mutations for the agent\n                    const convexMutations = createConvexMutations();\n                    // Find the active agent and its default tool\n                    const activeAgent = agents.find((agent)=>agent.id === activeAgentId);\n                    if (activeAgent && activeAgent.tools.length > 0) {\n                        const defaultTool = activeAgent.tools[0]; // Use the first tool as default\n                        // Execute the agent tool\n                        const result = await executeAgentTool(activeAgentId, defaultTool.id, messageContent, convexMutations);\n                        // Store both user message and agent result\n                        await storeChatMessage({\n                            role: \"user\",\n                            content: messageContent,\n                            sessionId\n                        });\n                        await storeChatMessage({\n                            role: \"assistant\",\n                            content: \"\\uD83E\\uDD16 **\".concat(activeAgent.name, \" Agent Result:**\\n\\n\").concat(result),\n                            sessionId\n                        });\n                        return;\n                    }\n                } catch (error) {\n                    console.error('Agent execution error:', error);\n                    // Store the user message and error\n                    await storeChatMessage({\n                        role: \"user\",\n                        content: messageContent,\n                        sessionId\n                    });\n                    await storeChatMessage({\n                        role: \"assistant\",\n                        content: \"❌ Agent execution failed: \".concat(error instanceof Error ? error.message : 'Unknown error'),\n                        sessionId\n                    });\n                    return;\n                }\n            }\n            // Check if this looks like a natural language MCP query\n            if (mcpConnected && isMCPQuery(messageContent)) {\n                try {\n                    const mcpResponse = await processNaturalLanguage(messageContent);\n                    if (mcpResponse.success && mcpResponse.content && mcpResponse.content.length > 0) {\n                        // Extract the actual text content from the MCP response\n                        const textContent = mcpResponse.content[0].text;\n                        // Strip markdown formatting and convert to plain text\n                        const plainText = stripMarkdown(textContent);\n                        // Send the MCP response with clean text content\n                        await sendMessage(\"\\uD83E\\uDD16 MCP Analysis:\\n\\n\".concat(plainText));\n                    } else {\n                        await sendMessage(messageContent);\n                    }\n                } catch (error) {\n                    console.error('MCP Error:', error);\n                    // Fall back to regular chat\n                    await sendMessage(messageContent);\n                }\n            } else {\n                // Regular chat message - add instruction context if available\n                let contextualMessage = messageContent;\n                if (instructionContext) {\n                    contextualMessage = \"\".concat(instructionContext, \"\\n\\n---\\n\\n\").concat(messageContent);\n                }\n                // Always use streaming thinking for all messages (thinking enabled by default)\n                await sendMessageWithStreaming(contextualMessage, messageContent);\n            }\n        }\n    };\n    const handleKeyDown = (e)=>{\n        if (e.key === 'Enter' && !e.shiftKey) {\n            e.preventDefault();\n            handleSubmit(e);\n        }\n    };\n    const handleInputChange = (e)=>{\n        const value = e.target.value;\n        setMessage(value);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex-1 flex flex-col min-h-0\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: scrollRef,\n                className: \"flex-1 overflow-y-auto bg-[#0e0e0e] p-2 pb-8 min-h-0 scrollbar-hidden\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"font-mono text-xs space-y-2 min-h-full\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-[#cccccc] space-y-1 mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: \"EAC Financial Dashboard - AI Assistant\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 445,\n                                    columnNumber: 13\n                                }, this),\n                                mcpError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#f48771] text-xs\",\n                                    children: [\n                                        \"MCP Error: \",\n                                        mcpError\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 447,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#858585] mt-2\",\n                                    children: \"AI Assistant ready for EAC project questions.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 449,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#858585] text-xs\",\n                                    children: [\n                                        \"Session: \",\n                                        sessionId.slice(-8)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 450,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#858585] text-xs\",\n                                    children: [\n                                        \"Messages: \",\n                                        messageCount,\n                                        \"/500\",\n                                        isNearSessionLimit && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-[#f48771] ml-2\",\n                                            children: \"⚠️ Approaching limit\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                            lineNumber: 456,\n                                            columnNumber: 17\n                                        }, this),\n                                        isAtSessionLimit && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-[#f48771] ml-2\",\n                                            children: \"\\uD83D\\uDEA8 Session full\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                            lineNumber: 459,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 453,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 444,\n                            columnNumber: 11\n                        }, this),\n                        messages.map((msg, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1\",\n                                children: [\n                                    msg.role === 'user' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#007acc]\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[#007acc]\",\n                                                children: \"$ user:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 471,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"ml-1 text-[#cccccc]\",\n                                                children: msg.content\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 472,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 470,\n                                        columnNumber: 17\n                                    }, this),\n                                    msg.role === 'assistant' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#4ec9b0]\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[#4ec9b0]\",\n                                                children: \"\\uD83E\\uDD16 assistant:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 477,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"ml-1 text-[#cccccc] whitespace-pre-wrap\",\n                                                children: msg.content\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 478,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 476,\n                                        columnNumber: 17\n                                    }, this),\n                                    msg.role === 'thinking' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#d4d4aa]\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[#d4d4aa]\",\n                                                children: \"\\uD83E\\uDDE0 thinking:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 483,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"ml-1 text-[#cccccc] whitespace-pre-wrap text-xs font-mono italic\",\n                                                children: msg.content\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 484,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 482,\n                                        columnNumber: 17\n                                    }, this),\n                                    msg.role === 'terminal' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#858585]\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-[#585858] whitespace-pre-wrap bg-[#1a1a1a] p-1 rounded text-[10px] border-l-2 border-[#333]\",\n                                            children: msg.content\n                                        }, void 0, false, {\n                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                            lineNumber: 491,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 490,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, index, true, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 468,\n                                columnNumber: 13\n                            }, this)),\n                        isStreamingThinking && streamingThinking && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-1\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-[#d4d4aa]\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[#d4d4aa]\",\n                                        children: \"\\uD83E\\uDDE0 thinking:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 503,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"ml-1 text-[#cccccc] whitespace-pre-wrap text-xs font-mono italic\",\n                                        children: streamingThinking\n                                    }, void 0, false, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 504,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 502,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 501,\n                            columnNumber: 13\n                        }, this),\n                        isLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-[#4ec9b0]\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-[#4ec9b0]\",\n                                    children: \"\\uD83E\\uDD16 assistant:\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 514,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"ml-1 text-[#858585]\",\n                                    children: \"thinking...\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 515,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 513,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                    lineNumber: 442,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                lineNumber: 438,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-[#0e0e0e] p-2 font-mono text-xs flex-shrink-0\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-[#007acc]\",\n                            children: \"$ user:\"\n                        }, void 0, false, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 524,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                            onSubmit: handleSubmit,\n                            className: \"flex-1 ml-1\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                ref: inputRef,\n                                type: \"text\",\n                                value: message,\n                                onChange: handleInputChange,\n                                onKeyDown: handleKeyDown,\n                                placeholder: isAtSessionLimit ? \"Session limit reached - Start new session to continue...\" : isLoading ? \"AI is thinking...\" : \"Ask about your EAC project...\",\n                                disabled: isLoading || isAtSessionLimit,\n                                className: \"w-full bg-transparent border-none outline-none placeholder:text-[#858585] disabled:opacity-50 disabled:cursor-not-allowed caret-[#cccccc] \".concat(isAtSessionLimit ? 'text-[#f48771]' : 'text-[#cccccc]')\n                            }, void 0, false, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 526,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 525,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                    lineNumber: 523,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                lineNumber: 522,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n        lineNumber: 437,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatMessages, \"DgIluMCbxJ/UOTHsD1CiJo5CEaw=\", false, function() {\n    return [\n        _clerk_nextjs__WEBPACK_IMPORTED_MODULE_10__.useUser,\n        _store_terminal_chat__WEBPACK_IMPORTED_MODULE_6__.useChatStore,\n        _store_terminal_session__WEBPACK_IMPORTED_MODULE_7__.useSessionStore,\n        _lib_hooks_useChat__WEBPACK_IMPORTED_MODULE_2__.useChat,\n        _lib_hooks_useMCP__WEBPACK_IMPORTED_MODULE_4__.useMCP,\n        _store__WEBPACK_IMPORTED_MODULE_5__.useAgentStore,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery,\n        _lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructionContext,\n        _lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructions,\n        _store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore\n    ];\n});\n_c = ChatMessages;\nvar _c;\n$RefreshReg$(_c, \"ChatMessages\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9fY29tcG9uZW50cy90ZXJtaW5hbC9fY29tcG9uZW50cy9jaGF0TWVzc2FnZXMudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSx5REFBeUQ7QUFDekQsNkZBQTZGOzs7QUFJL0M7QUFDQTtBQUN1QztBQUN6QztBQUNZO0FBQ0g7QUFDTTtBQUNuQjtBQUNhO0FBQ007QUFFcEQsU0FBU2dCOztJQUNkLE1BQU1DLFlBQVlILDZDQUFNQSxDQUFpQjtJQUN6QyxNQUFNSSxXQUFXSiw2Q0FBTUEsQ0FBbUI7SUFDMUMsTUFBTUssc0JBQXNCTCw2Q0FBTUEsQ0FBYyxJQUFJTTtJQUNwRCxNQUFNLENBQUNDLFNBQVNDLFdBQVcsR0FBR1AsK0NBQVFBLENBQUM7SUFHdkMsTUFBTSxFQUFFUSxJQUFJLEVBQUVDLFFBQVEsRUFBRSxHQUFHZix1REFBT0E7SUFDbEMsTUFBTSxFQUFFZ0IscUJBQXFCLEVBQUVDLG1CQUFtQixFQUFFQyxZQUFZLEVBQUUsR0FBR3BCLGtFQUFZQTtJQUNqRixNQUFNLEVBQUVxQixlQUFlLEVBQUUsR0FBR3BCLHdFQUFlQTtJQUMzQyxNQUFNLEVBQ0pxQixRQUFRLEVBQ1JDLFdBQVdDLFdBQVcsRUFDdEJDLFdBQVcsRUFDWEMsd0JBQXdCLEVBQ3hCQyxTQUFTLEVBQ1RDLGdCQUFnQixFQUNoQlQscUJBQXFCVSxtQkFBbUIsRUFDeENDLGlCQUFpQixFQUNqQkMsbUJBQW1CLEVBQ25CQyxZQUFZLEVBQ1pDLGtCQUFrQixFQUNsQkMsZ0JBQWdCLEVBQ2hCQyxjQUFjLEVBQ2RDLGdCQUFnQixFQUNoQkMsZUFBZSxFQUNoQixHQUFHM0MsMkRBQU9BO0lBQ1gsTUFBTSxFQUNKNEMsYUFBYUMsWUFBWSxFQUN6QmhCLFdBQVdpQixVQUFVLEVBQ3JCQyxPQUFPQyxRQUFRLEVBQ2ZDLGNBQWMsRUFDZEMsc0JBQXNCLEVBQ3ZCLEdBQUcvQyx5REFBTUE7SUFFVixnQ0FBZ0M7SUFDaEMsTUFBTSxFQUFF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aEQxQlUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXR0aGV3c2ltb24vUHJvamVjdHMvZWFjL2VhYy9hcHAvX2NvbXBvbmVudHMvdGVybWluYWwvX2NvbXBvbmVudHMvY2hhdE1lc3NhZ2VzLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTaW1wbGlmaWVkIENoYXQgTWVzc2FnZXMgQ29tcG9uZW50IC0gTm8gU2xhc2ggQ29tbWFuZHNcbi8vIC9Vc2Vycy9tYXR0aGV3c2ltb24vUHJvamVjdHMvZWFjL2VhYy9hcHAvX2NvbXBvbmVudHMvdGVybWluYWwvX2NvbXBvbmVudHMvY2hhdE1lc3NhZ2VzLnRzeFxuXG5cInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgYXBpIH0gZnJvbSBcIkAvY29udmV4L19nZW5lcmF0ZWQvYXBpXCI7XG5pbXBvcnQgeyB1c2VDaGF0IH0gZnJvbSBcIkAvbGliL2hvb2tzL3VzZUNoYXRcIjtcbmltcG9ydCB7IHVzZUluc3RydWN0aW9uQ29udGV4dCwgdXNlSW5zdHJ1Y3Rpb25zIH0gZnJvbSBcIkAvbGliL2hvb2tzL3VzZUluc3RydWN0aW9uc1wiO1xuaW1wb3J0IHsgdXNlTUNQIH0gZnJvbSBcIkAvbGliL2hvb2tzL3VzZU1DUFwiO1xuaW1wb3J0IHsgdXNlQWdlbnRTdG9yZSwgdXNlRWRpdG9yU3RvcmUgfSBmcm9tIFwiQC9zdG9yZVwiO1xuaW1wb3J0IHsgdXNlQ2hhdFN0b3JlIH0gZnJvbSBcIkAvc3RvcmUvdGVybWluYWwvY2hhdFwiO1xuaW1wb3J0IHsgdXNlU2Vzc2lvblN0b3JlIH0gZnJvbSBcIkAvc3RvcmUvdGVybWluYWwvc2Vzc2lvblwiO1xuaW1wb3J0IHsgdXNlVXNlciB9IGZyb20gXCJAY2xlcmsvbmV4dGpzXCI7XG5pbXBvcnQgeyB1c2VNdXRhdGlvbiwgdXNlUXVlcnkgfSBmcm9tIFwiY29udmV4L3JlYWN0XCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBDaGF0TWVzc2FnZXMoKSB7XG4gIGNvbnN0IHNjcm9sbFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IGlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBwcm9jZXNzZWRPcGVyYXRpb25zID0gdXNlUmVmPFNldDxzdHJpbmc+PihuZXcgU2V0KCkpO1xuICBjb25zdCBbbWVzc2FnZSwgc2V0TWVzc2FnZV0gPSB1c2VTdGF0ZShcIlwiKTtcblxuICBcbiAgY29uc3QgeyB1c2VyLCBpc0xvYWRlZCB9ID0gdXNlVXNlcigpO1xuICBjb25zdCB7IGluaXRpYWxpemVVc2VyU2Vzc2lvbiwgYWRkVGVybWluYWxGZWVkYmFjaywgc2V0U2Vzc2lvbklkIH0gPSB1c2VDaGF0U3RvcmUoKTtcbiAgY29uc3QgeyBhY3RpdmVTZXNzaW9uSWQgfSA9IHVzZVNlc3Npb25TdG9yZSgpO1xuICBjb25zdCB7IFxuICAgIG1lc3NhZ2VzLCBcbiAgICBpc0xvYWRpbmc6IGNoYXRMb2FkaW5nLCBcbiAgICBzZW5kTWVzc2FnZSwgXG4gICAgc2VuZE1lc3NhZ2VXaXRoU3RyZWFtaW5nLFxuICAgIHNlc3Npb25JZCwgXG4gICAgc3RvcmVDaGF0TWVzc2FnZSwgXG4gICAgYWRkVGVybWluYWxGZWVkYmFjazogdXNlVGVybWluYWxGZWVkYmFjayxcbiAgICBzdHJlYW1pbmdUaGlua2luZyxcbiAgICBpc1N0cmVhbWluZ1RoaW5raW5nLFxuICAgIG1lc3NhZ2VDb3VudCxcbiAgICBpc05lYXJTZXNzaW9uTGltaXQsXG4gICAgaXNBdFNlc3Npb25MaW1pdCxcbiAgICBjYW5BZGRNZXNzYWdlcyxcbiAgICBnZXRTZXNzaW9uU3RhdHVzLFxuICAgIHN0YXJ0TmV3U2Vzc2lvblxuICB9ID0gdXNlQ2hhdCgpO1xuICBjb25zdCB7XG4gICAgaXNDb25uZWN0ZWQ6IG1jcENvbm5lY3RlZCxcbiAgICBpc0xvYWRpbmc6IG1jcExvYWRpbmcsXG4gICAgZXJyb3I6IG1jcEVycm9yLFxuICAgIGF2YWlsYWJsZVRvb2xzLFxuICAgIHByb2Nlc3NOYXR1cmFsTGFuZ3VhZ2UsXG4gIH0gPSB1c2VNQ1AoKTtcbiAgXG4gIC8vIEFnZW50IGV4ZWN1dGlvbiBhbmQgbXV0YXRpb25zXG4gIGNvbnN0IHsgYWdlbnRzLCBhY3RpdmVBZ2VudElkLCBzZXRBY3RpdmVBZ2VudCwgZXhlY3V0ZUFnZW50VG9vbCB9ID0gdXNlQWdlbnRTdG9yZSgpO1xuICBjb25zdCBjcmVhdGVJbnN0cnVjdGlvbiA9IHVzZU11dGF0aW9uKGFwaS5maWxlcy5jcmVhdGVJbnN0cnVjdGlvbkZpbGUpO1xuICBjb25zdCBlbnN1cmVJbnN0cnVjdGlvbnNQcm9qZWN0ID0gdXNlTXV0YXRpb24oYXBpLnByb2plY3RzLmVuc3VyZUluc3RydWN0aW9uc1Byb2plY3QpO1xuICBjb25zdCB1cHNlcnRQb3N0ID0gdXNlTXV0YXRpb24oYXBpLnNvY2lhbFBvc3RzLnVwc2VydFBvc3QpO1xuICBjb25zdCBzY2hlZHVsZVBvc3QgPSB1c2VNdXRhdGlvbihhcGkuc29jaWFsUG9zdHMuc2NoZWR1bGVQb3N0KTtcbiAgY29uc3QgY3JlYXRlQ29udGVudENyZWF0aW9uRmlsZSA9IHVzZU11dGF0aW9uKGFwaS5maWxlcy5jcmVhdGVDb250ZW50Q3JlYXRpb25GaWxlKTtcbiAgY29uc3QgY3JlYXRlUHJvamVjdCA9IHVzZU11dGF0aW9uKGFwaS5wcm9qZWN0cy5jcmVhdGVQcm9qZWN0KTtcbiAgY29uc3QgY3JlYXRlRmlsZSA9IHVzZU11dGF0aW9uKGFwaS5maWxlcy5jcmVhdGVGaWxlKTtcbiAgY29uc3QgYWxsUG9zdHMgPSB1c2VRdWVyeShhcGkuc29jaWFsUG9zdHMuZ2V0QWxsUG9zdHMsIHt9KTtcbiAgY29uc3QgYWxsUHJvamVjdHMgPSB1c2VRdWVyeShhcGkucHJvamVjdHMuZ2V0UHJvamVjdHMsIHt9KTtcbiAgY29uc3QgaW5zdHJ1Y3Rpb25Db250ZXh0ID0gdXNlSW5zdHJ1Y3Rpb25Db250ZXh0KCk7XG4gIGNvbnN0IHsgaXNMb2FkaW5nOiBpbnN0cnVjdGlvbnNMb2FkaW5nIH0gPSB1c2VJbnN0cnVjdGlvbnMoKTtcbiAgY29uc3QgeyBjcmVhdGVOZXdGaWxlIH0gPSB1c2VFZGl0b3JTdG9yZSgpO1xuXG4gIGNvbnN0IGlzTG9hZGluZyA9IGNoYXRMb2FkaW5nIHx8IG1jcExvYWRpbmcgfHwgaW5zdHJ1Y3Rpb25zTG9hZGluZztcblxuICAvLyBBdXRvLXNjcm9sbCB0byBib3R0b20gd2hlbiBuZXcgbWVzc2FnZXMgYXJyaXZlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNjcm9sbFJlZi5jdXJyZW50KSB7XG4gICAgICBzY3JvbGxSZWYuY3VycmVudC5zY3JvbGxUb3AgPSBzY3JvbGxSZWYuY3VycmVudC5zY3JvbGxIZWlnaHQ7XG4gICAgfVxuICB9LCBbbWVzc2FnZXNdKTtcblxuICAvLyBJbml0aWFsaXplIHVzZXIgc2Vzc2lvbiB3aGVuIGNvbXBvbmVudCBtb3VudHMgYW5kIHVzZXIgaXMgbG9hZGVkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzTG9hZGVkICYmIHVzZXIgJiYgIXNlc3Npb25JZCkge1xuICAgICAgY29uc29sZS5sb2coXCLwn5SEIEluaXRpYWxpemluZyB1c2VyIHNlc3Npb24uLi5cIiwgeyB1c2VySWQ6IHVzZXIuaWQgfSk7XG4gICAgICBpbml0aWFsaXplVXNlclNlc3Npb24odXNlci5pZCk7XG4gICAgfVxuICB9LCBbdXNlciwgaXNMb2FkZWQsIHNlc3Npb25JZCwgaW5pdGlhbGl6ZVVzZXJTZXNzaW9uXSk7XG5cbiAgLy8gU3luYyBzZXNzaW9uIElEIGlmIGFjdGl2ZSBzZXNzaW9uIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWN0aXZlU2Vzc2lvbklkICYmIGFjdGl2ZVNlc3Npb25JZCAhPT0gc2Vzc2lvbklkKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIvCflIQgU3luY2luZyB0byBhY3RpdmUgc2Vzc2lvbjpcIiwgYWN0aXZlU2Vzc2lvbklkKTtcbiAgICAgIHNldFNlc3Npb25JZChhY3RpdmVTZXNzaW9uSWQpO1xuICAgIH1cbiAgfSwgW2FjdGl2ZVNlc3Npb25JZCwgc2Vzc2lvbklkLCBzZXRTZXNzaW9uSWRdKTtcblxuICAvLyBESVNBQkxFRDogUHJvY2VzcyBtZXNzYWdlcyB3aXRoIG9wZXJhdGlvbnMgdG8gY3JlYXRlIFVJIGZpbGVzXG4gIC8vIFRoaXMgaXMgbm93IGhhbmRsZWQgYnkgdXNlRmlsZUxvYWQgaG9vayB3aGljaCBzeW5jcyBmcm9tIENvbnZleCB0byBsb2NhbCBzdG9yZVxuICAvKlxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghbWVzc2FnZXMpIHJldHVybjtcbiAgICBcbiAgICBjb25zb2xlLmxvZygn8J+UjSBQcm9jZXNzaW5nIG1lc3NhZ2VzIGZvciBvcGVyYXRpb25zOicsIHtcbiAgICAgIHRvdGFsTWVzc2FnZXM6IG1lc3NhZ2VzLmxlbmd0aCxcbiAgICAgIHJlY2VudE1lc3NhZ2VzQ291bnQ6IG1lc3NhZ2VzLnNsaWNlKC0xMCkubGVuZ3RoLFxuICAgICAgcHJvY2Vzc2VkQ291bnQ6IHByb2Nlc3NlZE9wZXJhdGlvbnMuY3VycmVudC5zaXplXG4gICAgfSk7XG4gICAgXG4gICAgLy8gTG9vayBmb3IgbWVzc2FnZXMgd2l0aCBvcGVyYXRpb25zIHRoYXQgbmVlZCBVSSBwcm9jZXNzaW5nXG4gICAgY29uc3QgcmVjZW50TWVzc2FnZXMgPSBtZXNzYWdlcy5zbGljZSgtMTApOyAvLyBDaGVjayBsYXN0IDEwIG1lc3NhZ2VzXG4gICAgXG4gICAgcmVjZW50TWVzc2FnZXMuZm9yRWFjaCgobWVzc2FnZTogYW55LCBpbmRleCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coYPCflI0gTWVzc2FnZSAke2luZGV4fTpgLCB7XG4gICAgICAgIGlkOiBtZXNzYWdlLl9pZCxcbiAgICAgICAgcm9sZTogbWVzc2FnZS5yb2xlLFxuICAgICAgICBoYXNPcGVyYXRpb246ICEhbWVzc2FnZS5vcGVyYXRpb24sXG4gICAgICAgIG9wZXJhdGlvblR5cGU6IG1lc3NhZ2Uub3BlcmF0aW9uPy50eXBlLFxuICAgICAgICBvcGVyYXRpb25EZXRhaWxzOiBtZXNzYWdlLm9wZXJhdGlvbj8uZGV0YWlscyxcbiAgICAgICAgY29udGVudFByZXZpZXc6IG1lc3NhZ2UuY29udGVudD8uc3Vic3RyaW5nKDAsIDEwMCksXG4gICAgICAgIGFscmVhZHlQcm9jZXNzZWQ6IHByb2Nlc3NlZE9wZXJhdGlvbnMuY3VycmVudC5oYXMobWVzc2FnZS5faWQpXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKG1lc3NhZ2Uub3BlcmF0aW9uPy50eXBlID09PSAnZmlsZV9jcmVhdGVkJyAmJiBtZXNzYWdlLl9pZCkge1xuICAgICAgICAvLyBTa2lwIGlmIGFscmVhZHkgcHJvY2Vzc2VkXG4gICAgICAgIGlmIChwcm9jZXNzZWRPcGVyYXRpb25zLmN1cnJlbnQuaGFzKG1lc3NhZ2UuX2lkKSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDij63vuI8gU2tpcHBpbmcgYWxyZWFkeSBwcm9jZXNzZWQgbWVzc2FnZTogJHttZXNzYWdlLl9pZH1gKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHsgZmlsZU5hbWUsIGZpbGVUeXBlLCBjb250ZW50LCBwbGF0Zm9ybURhdGEsIGFnZW50VHlwZSB9ID0gbWVzc2FnZS5vcGVyYXRpb24uZGV0YWlscztcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEZpbGUgY3JlYXRpb24gb3BlcmF0aW9uIGZvdW5kOicsIHtcbiAgICAgICAgICBmaWxlTmFtZSxcbiAgICAgICAgICBmaWxlVHlwZSxcbiAgICAgICAgICBhZ2VudFR5cGUsXG4gICAgICAgICAgaGFzQ29udGVudDogISFjb250ZW50LFxuICAgICAgICAgIGNvbnRlbnRMZW5ndGg6IGNvbnRlbnQ/Lmxlbmd0aCB8fCAwLFxuICAgICAgICAgIHdpbGxQcm9jZXNzOiBhZ2VudFR5cGUgPT09ICd0d2l0dGVyJyAmJiBjb250ZW50XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gT25seSBwcm9jZXNzIFR3aXR0ZXIgYWdlbnQgZmlsZXMgZm9yIFVJIGNyZWF0aW9uIHRoYXQgaGF2ZSBjb250ZW50XG4gICAgICAgIGlmIChhZ2VudFR5cGUgPT09ICd0d2l0dGVyJyAmJiBjb250ZW50KSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgUHJvY2Vzc2luZyBzb2NpYWwgZmlsZSBvcGVyYXRpb246Jywge1xuICAgICAgICAgICAgZmlsZU5hbWUsXG4gICAgICAgICAgICBmaWxlVHlwZSxcbiAgICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsXG4gICAgICAgICAgICBjb250ZW50TGVuZ3RoOiBjb250ZW50Py5sZW5ndGggfHwgMCxcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiB0eXBlb2YgY29udGVudCxcbiAgICAgICAgICAgIG1lc3NhZ2VJZDogbWVzc2FnZS5faWQsXG4gICAgICAgICAgICBwbGF0Zm9ybURhdGE6IHBsYXRmb3JtRGF0YSxcbiAgICAgICAgICAgIGFsbERldGFpbHM6IG1lc3NhZ2Uub3BlcmF0aW9uLmRldGFpbHNcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBNYXJrIGFzIHByb2Nlc3NlZCBGSVJTVCB0byBwcmV2ZW50IHJhY2UgY29uZGl0aW9uc1xuICAgICAgICAgIHByb2Nlc3NlZE9wZXJhdGlvbnMuY3VycmVudC5hZGQobWVzc2FnZS5faWQpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFBhcnNlIHRoZSBwbGF0Zm9ybSBkYXRhIHdpdGggZXJyb3IgaGFuZGxpbmdcbiAgICAgICAgICBsZXQgcGxhdGZvcm1EYXRhT2JqO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwbGF0Zm9ybURhdGFPYmogPSBwbGF0Zm9ybURhdGEgPyBKU09OLnBhcnNlKHBsYXRmb3JtRGF0YSkgOiB7fTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gRmFpbGVkIHRvIHBhcnNlIHBsYXRmb3JtIGRhdGEsIHVzaW5nIGRlZmF1bHRzOicsIGVycm9yKTtcbiAgICAgICAgICAgIHBsYXRmb3JtRGF0YU9iaiA9IHtcbiAgICAgICAgICAgICAgcmVwbHlTZXR0aW5nczogJ2ZvbGxvd2luZycsXG4gICAgICAgICAgICAgIHNjaGVkdWxlZERhdGU6ICcnLFxuICAgICAgICAgICAgICBzY2hlZHVsZWRUaW1lOiAnJyxcbiAgICAgICAgICAgICAgaXNUaHJlYWQ6IGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDcmVhdGUgdGhlIGNvbnRlbnQgZm9yIHRoZSBUd2l0dGVyIHBvc3QgZmlsZSBpbiB0aGUgZXhwZWN0ZWQgZm9ybWF0XG4gICAgICAgICAgY29uc3QgcG9zdENvbnRlbnQgPSBgIyAke2ZpbGVOYW1lLnJlcGxhY2UoL1xcLlteLy5dKyQvLCBcIlwiKX0gLSBYIChUd2l0dGVyKSBQb3N0XG5QbGF0Zm9ybTogWCAoVHdpdHRlcilcbkNyZWF0ZWQ6ICR7bmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKX1cblxuIyMgUG9zdCBDb250ZW50XG4ke2NvbnRlbnR9XG5cbiMjIFNldHRpbmdzXG4tIFJlcGx5IFNldHRpbmdzOiAke3BsYXRmb3JtRGF0YU9iai5yZXBseVNldHRpbmdzIHx8ICdmb2xsb3dpbmcnfVxuLSBTY2hlZHVsZTogJHtwbGF0Zm9ybURhdGFPYmouc2NoZWR1bGVkRGF0ZSAmJiBwbGF0Zm9ybURhdGFPYmouc2NoZWR1bGVkVGltZSA/IGAke3BsYXRmb3JtRGF0YU9iai5zY2hlZHVsZWREYXRlfSAke3BsYXRmb3JtRGF0YU9iai5zY2hlZHVsZWRUaW1lfWAgOiAnTm93J31cbi0gVGhyZWFkOiAke3BsYXRmb3JtRGF0YU9iai5pc1RocmVhZCA/ICdNdWx0aS10d2VldCBUaHJlYWQnIDogJ1NpbmdsZSBUd2VldCd9XG5cbiMjIE1lZGlhXG4tIEltYWdlczogW11cbi0gVmlkZW9zOiBbXVxuXG4jIyBBbmFseXRpY3Ncbi0gSW1wcmVzc2lvbnM6IDBcbi0gRW5nYWdlbWVudHM6IDBcbi0gTGlrZXM6IDBcbi0gU2hhcmVzOiAwYDtcblxuICAgICAgICAgIC8vIEdldCB0aGUgY3JlYXRlTmV3RmlsZSBmdW5jdGlvbiBmcm9tIHRoZSBzdG9yZSBhdCBleGVjdXRpb24gdGltZVxuICAgICAgICAgIGNvbnN0IHsgY3JlYXRlTmV3RmlsZSwgcHJvamVjdEZvbGRlcnMgfSA9IHVzZUVkaXRvclN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRmluZCB0aGUgQ29udGVudCBDcmVhdGlvbiBmb2xkZXIgSURcbiAgICAgICAgICBjb25zdCBjb250ZW50Q3JlYXRpb25Gb2xkZXIgPSBwcm9qZWN0Rm9sZGVycy5maW5kKGZvbGRlciA9PiBcbiAgICAgICAgICAgIGZvbGRlci5uYW1lID09PSAnQ29udGVudCBDcmVhdGlvbidcbiAgICAgICAgICApO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChjb250ZW50Q3JlYXRpb25Gb2xkZXIpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgZmlsZSBpbiB0aGUgQ29udGVudCBDcmVhdGlvbiBmb2xkZXJcbiAgICAgICAgICAgIGNyZWF0ZU5ld0ZpbGUoXG4gICAgICAgICAgICAgIGZpbGVOYW1lLFxuICAgICAgICAgICAgICAneCcsIC8vIFVzZSAneCcgdHlwZSBmb3IgVHdpdHRlciBmaWxlc1xuICAgICAgICAgICAgICAncHJvamVjdCcsXG4gICAgICAgICAgICAgIGNvbnRlbnRDcmVhdGlvbkZvbGRlci5pZCxcbiAgICAgICAgICAgICAgcG9zdENvbnRlbnRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgQ3JlYXRlZCBzb2NpYWwgZmlsZSBpbiBVSTonLCBmaWxlTmFtZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIENvbnRlbnQgQ3JlYXRpb24gZm9sZGVyIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDcmVhdGUgd2l0aG91dCBmb2xkZXIgSUQgaWYgZm9sZGVyIG5vdCBmb3VuZFxuICAgICAgICAgICAgY3JlYXRlTmV3RmlsZShcbiAgICAgICAgICAgICAgZmlsZU5hbWUsXG4gICAgICAgICAgICAgICd4JyxcbiAgICAgICAgICAgICAgJ3Byb2plY3QnLFxuICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIHBvc3RDb250ZW50XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9LCBbbWVzc2FnZXNdKTsgLy8gUmVtb3ZlZCBjcmVhdGVOZXdGaWxlIGZyb20gZGVwZW5kZW5jaWVzIHRvIHByZXZlbnQgcmUtcnVucyBvbiBwYW5lbCBzd2l0Y2hlc1xuICAqL1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBzdHJpcCBtYXJrZG93biBmb3JtYXR0aW5nXG4gIGNvbnN0IHN0cmlwTWFya2Rvd24gPSAodGV4dDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICByZXR1cm4gdGV4dFxuICAgICAgLnJlcGxhY2UoLyN7MSw2fVxccyovZywgJycpIC8vIFJlbW92ZSBoZWFkZXJzXG4gICAgICAucmVwbGFjZSgvXFwqXFwqKC4qPylcXCpcXCovZywgJyQxJykgLy8gUmVtb3ZlICoqYm9sZCoqXG4gICAgICAucmVwbGFjZSgvXFwqKC4qPylcXCovZywgJyQxJykgLy8gUmVtb3ZlICppdGFsaWMqXG4gICAgICAucmVwbGFjZSgvYChbXmBdKylgL2csICckMScpIC8vIFJlbW92ZSBgY29kZWBcbiAgICAgIC5yZXBsYWNlKC9eXFxzKlstKitdXFxzKy9nbSwgJ+KAoiAnKSAvLyBDb252ZXJ0IG1hcmtkb3duIGxpc3RzIHRvIGJ1bGxldCBwb2ludHNcbiAgICAgIC5yZXBsYWNlKC9eXFxzKlxcZCtcXC5cXHMrL2dtLCAn4oCiICcpIC8vIENvbnZlcnQgbnVtYmVyZWQgbGlzdHMgdG8gYnVsbGV0IHBvaW50c1xuICAgICAgLnJlcGxhY2UoL1xcblxccypcXG5cXHMqXFxuL2csICdcXG5cXG4nKSAvLyBSZWR1Y2UgbXVsdGlwbGUgYmxhbmsgbGluZXMgdG8gZG91YmxlXG4gICAgICAuc3BsaXQoJ1xcbicpIC8vIFNwbGl0IGludG8gbGluZXMgZm9yIHByb2Nlc3NpbmdcbiAgICAgIC5tYXAobGluZSA9PiB7XG4gICAgICAgIC8vIEFkZCBzcGFjaW5nIGFmdGVyIHNlY3Rpb24gaGVhZGVycyAobGluZXMgdGhhdCBkb24ndCBzdGFydCB3aXRoIGJ1bGxldCBwb2ludHMpXG4gICAgICAgIGlmIChsaW5lLnRyaW0oKSAmJiAhbGluZS5zdGFydHNXaXRoKCfigKInKSAmJiAhbGluZS5zdGFydHNXaXRoKCcgJykgJiYgbGluZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIGxpbmUgKyAnXFxuJzsgLy8gQWRkIGV4dHJhIG5ld2xpbmUgYWZ0ZXIgaGVhZGVyc1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaW5lO1xuICAgICAgfSlcbiAgICAgIC5qb2luKCdcXG4nKVxuICAgICAgLnJlcGxhY2UoL1xcbnszLH0vZywgJ1xcblxcbicpIC8vIENsZWFuIHVwIGV4Y2Vzc2l2ZSBuZXdsaW5lc1xuICAgICAgLnRyaW0oKTtcbiAgfTtcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZGV0ZWN0IE1DUC1yZWxhdGVkIHF1ZXJpZXMgKGV4Y2x1ZGluZyBkaXJlY3QgdG9vbCBjb21tYW5kcylcbiAgY29uc3QgaXNNQ1BRdWVyeSA9ICh0ZXh0OiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICAvLyBEb24ndCB0cmVhdCBkaXJlY3QgdG9vbCBjb21tYW5kcyBhcyBOTFAgcXVlcmllc1xuICAgIGlmICh0ZXh0LnN0YXJ0c1dpdGgoJy8nKSkgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIC8vIExvb2sgZm9yIGtleXdvcmRzIHRoYXQgc3VnZ2VzdCBNQ1AgYW5hbHlzaXMgd291bGQgYmUgaGVscGZ1bFxuICAgIGNvbnN0IG1jcEtleXdvcmRzID0gW1xuICAgICAgJ2FuYWx5emUnLCAnZXhhbWluZScsICdyZXZpZXcnLCAnZXhwbGFpbicsICd1bmRlcnN0YW5kJywgJ2FyY2hpdGVjdHVyZScsXG4gICAgICAnc3RydWN0dXJlJywgJ2NvZGUnLCAnY29tcG9uZW50JywgJ2Z1bmN0aW9uJywgJ2ltcGxlbWVudGF0aW9uJywgJ3BhdHRlcm4nLFxuICAgICAgJ2Jlc3QgcHJhY3RpY2UnLCAnaXNzdWUnLCAnYnVnJywgJ2Vycm9yJywgJ3BlcmZvcm1hbmNlJywgJ29wdGltaXphdGlvbicsXG4gICAgICAncmVmYWN0b3InLCAnaW1wcm92ZW1lbnQnLCAnZG9jdW1lbnRhdGlvbicsICdvdmVydmlldycsICdzdW1tYXJ5JyxcbiAgICAgICdob3cgZG9lcycsICd3aGF0IGlzJywgJ3doeSBpcycsICd3aGVyZSBpcycsICd3aGVuIGlzJywgJ3doaWNoJ1xuICAgIF07XG4gICAgXG4gICAgY29uc3QgbG93ZXJUZXh0ID0gdGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiBtY3BLZXl3b3Jkcy5zb21lKGtleXdvcmQgPT4gbG93ZXJUZXh0LmluY2x1ZGVzKGtleXdvcmQpKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVUb29sU2VsZWN0b3JDbG9zZSA9ICgpID0+IHtcbiAgICBzZXRNZXNzYWdlKFwiXCIpO1xuICAgIGlucHV0UmVmLmN1cnJlbnQ/LmZvY3VzKCk7XG4gIH07XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSBjb252ZXhNdXRhdGlvbnMgb2JqZWN0IGZvciBhZ2VudHNcbiAgY29uc3QgY3JlYXRlQ29udmV4TXV0YXRpb25zID0gKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBlbnN1cmVJbnN0cnVjdGlvbnNQcm9qZWN0LFxuICAgICAgY3JlYXRlSW5zdHJ1Y3Rpb25GaWxlOiBjcmVhdGVJbnN0cnVjdGlvbixcbiAgICAgIHVwc2VydFBvc3QsXG4gICAgICBzY2hlZHVsZVBvc3QsXG4gICAgICBjcmVhdGVDb250ZW50Q3JlYXRpb25GaWxlLFxuICAgICAgY3JlYXRlUHJvamVjdDogYXN5bmMgKHBhcmFtczogYW55KSA9PiB7XG4gICAgICAgIHJldHVybiBhd2FpdCBjcmVhdGVQcm9qZWN0KHtcbiAgICAgICAgICBuYW1lOiBwYXJhbXMubmFtZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogcGFyYW1zLmRlc2NyaXB0aW9uLFxuICAgICAgICAgIHN0YXR1czogcGFyYW1zLnN0YXR1cyB8fCAnYWN0aXZlJyxcbiAgICAgICAgICBidWRnZXQ6IHBhcmFtcy5idWRnZXQsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGdldFByb2plY3RzOiBhc3luYyAoKSA9PiB7XG4gICAgICAgIHJldHVybiBhbGxQcm9qZWN0cyB8fCBbXTtcbiAgICAgIH0sXG4gICAgICBjcmVhdGVGaWxlOiBhc3luYyAocGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGNyZWF0ZUZpbGUoe1xuICAgICAgICAgIG5hbWU6IHBhcmFtcy5uYW1lLFxuICAgICAgICAgIHR5cGU6IHBhcmFtcy50eXBlLFxuICAgICAgICAgIHByb2plY3RJZDogcGFyYW1zLnByb2plY3RJZCwgLy8gVGhpcyBzaG91bGQgYmUgYW4gSWQ8XCJwcm9qZWN0c1wiPiBmcm9tIHRoZSBhY3R1YWwgcHJvamVjdCBjcmVhdGlvblxuICAgICAgICAgIGNvbnRlbnQ6IHBhcmFtcy5jb250ZW50LFxuICAgICAgICAgIGV4dGVuc2lvbjogcGFyYW1zLmV4dGVuc2lvbixcbiAgICAgICAgICBwbGF0Zm9ybTogcGFyYW1zLnBsYXRmb3JtLFxuICAgICAgICAgIHNpemU6IHBhcmFtcy5zaXplLFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBnZXRBbGxQb3N0czogYXN5bmMgKCkgPT4ge1xuICAgICAgICByZXR1cm4gYWxsUG9zdHMgfHwgW107XG4gICAgICB9LFxuICAgIH07XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKGU6IFJlYWN0LkZvcm1FdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBcbiAgICAvLyBDaGVjayBzZXNzaW9uIGxpbWl0IGJlZm9yZSBwcm9jZXNzaW5nXG4gICAgaWYgKCFjYW5BZGRNZXNzYWdlcygpKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJDYW5ub3Qgc2VuZCBtZXNzYWdlOiBTZXNzaW9uIGxpbWl0IHJlYWNoZWRcIik7XG4gICAgICAvLyBBZGQgYSB0ZXJtaW5hbCBmZWVkYmFjayBtZXNzYWdlIGFib3V0IHRoZSBsaW1pdFxuICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgIHJvbGU6IFwidGVybWluYWxcIixcbiAgICAgICAgY29udGVudDogYFske25ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCdlbi1VUycsIHsgXG4gICAgICAgICAgaG91cjEyOiBmYWxzZSwgXG4gICAgICAgICAgaG91cjogJzItZGlnaXQnLCBcbiAgICAgICAgICBtaW51dGU6ICcyLWRpZ2l0JywgXG4gICAgICAgICAgc2Vjb25kOiAnMi1kaWdpdCcgXG4gICAgICAgIH0pfV0g8J+aqCBNZXNzYWdlIG5vdCBzZW50OiBTZXNzaW9uIGxpbWl0IHJlYWNoZWQgKDUwMCBtZXNzYWdlcylcblBsZWFzZSBzdGFydCBhIG5ldyBzZXNzaW9uIHRvIGNvbnRpbnVlIGNoYXR0aW5nLmAsXG4gICAgICAgIHNlc3Npb25JZCxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBpZiAobWVzc2FnZS50cmltKCkgJiYgIWlzTG9hZGluZykge1xuICAgICAgY29uc3QgbWVzc2FnZUNvbnRlbnQgPSBtZXNzYWdlLnRyaW0oKTtcbiAgICAgIHNldE1lc3NhZ2UoXCJcIik7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYW4gYWdlbnQgY29tbWFuZCB3aGVuIGFuIGFnZW50IGlzIGFjdGl2ZVxuICAgICAgaWYgKGFjdGl2ZUFnZW50SWQgJiYgIW1lc3NhZ2VDb250ZW50LnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn6SWIEV4ZWN1dGluZyBhZ2VudCAke2FjdGl2ZUFnZW50SWR9IHdpdGggbWVzc2FnZTogJHttZXNzYWdlQ29udGVudH1gKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDcmVhdGUgY29udmV4IG11dGF0aW9ucyBmb3IgdGhlIGFnZW50XG4gICAgICAgICAgY29uc3QgY29udmV4TXV0YXRpb25zID0gY3JlYXRlQ29udmV4TXV0YXRpb25zKCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRmluZCB0aGUgYWN0aXZlIGFnZW50IGFuZCBpdHMgZGVmYXVsdCB0b29sXG4gICAgICAgICAgY29uc3QgYWN0aXZlQWdlbnQgPSBhZ2VudHMuZmluZChhZ2VudCA9PiBhZ2VudC5pZCA9PT0gYWN0aXZlQWdlbnRJZCk7XG4gICAgICAgICAgaWYgKGFjdGl2ZUFnZW50ICYmIGFjdGl2ZUFnZW50LnRvb2xzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRUb29sID0gYWN0aXZlQWdlbnQudG9vbHNbMF07IC8vIFVzZSB0aGUgZmlyc3QgdG9vbCBhcyBkZWZhdWx0XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIGFnZW50IHRvb2xcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVBZ2VudFRvb2woXG4gICAgICAgICAgICAgIGFjdGl2ZUFnZW50SWQsXG4gICAgICAgICAgICAgIGRlZmF1bHRUb29sLmlkLFxuICAgICAgICAgICAgICBtZXNzYWdlQ29udGVudCxcbiAgICAgICAgICAgICAgY29udmV4TXV0YXRpb25zXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTdG9yZSBib3RoIHVzZXIgbWVzc2FnZSBhbmQgYWdlbnQgcmVzdWx0XG4gICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2VDb250ZW50LFxuICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6IGDwn6SWICoqJHthY3RpdmVBZ2VudC5uYW1lfSBBZ2VudCBSZXN1bHQ6KipcXG5cXG4ke3Jlc3VsdH1gLFxuICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdBZ2VudCBleGVjdXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFN0b3JlIHRoZSB1c2VyIG1lc3NhZ2UgYW5kIGVycm9yXG4gICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2VDb250ZW50LFxuICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IGDinYwgQWdlbnQgZXhlY3V0aW9uIGZhaWxlZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gLFxuICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGxvb2tzIGxpa2UgYSBuYXR1cmFsIGxhbmd1YWdlIE1DUCBxdWVyeVxuICAgICAgaWYgKG1jcENvbm5lY3RlZCAmJiBpc01DUFF1ZXJ5KG1lc3NhZ2VDb250ZW50KSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IG1jcFJlc3BvbnNlID0gYXdhaXQgcHJvY2Vzc05hdHVyYWxMYW5ndWFnZShtZXNzYWdlQ29udGVudCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKG1jcFJlc3BvbnNlLnN1Y2Nlc3MgJiYgbWNwUmVzcG9uc2UuY29udGVudCAmJiBtY3BSZXNwb25zZS5jb250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgdGhlIGFjdHVhbCB0ZXh0IGNvbnRlbnQgZnJvbSB0aGUgTUNQIHJlc3BvbnNlXG4gICAgICAgICAgICBjb25zdCB0ZXh0Q29udGVudCA9IG1jcFJlc3BvbnNlLmNvbnRlbnRbMF0udGV4dDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU3RyaXAgbWFya2Rvd24gZm9ybWF0dGluZyBhbmQgY29udmVydCB0byBwbGFpbiB0ZXh0XG4gICAgICAgICAgICBjb25zdCBwbGFpblRleHQgPSBzdHJpcE1hcmtkb3duKHRleHRDb250ZW50KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2VuZCB0aGUgTUNQIHJlc3BvbnNlIHdpdGggY2xlYW4gdGV4dCBjb250ZW50XG4gICAgICAgICAgICBhd2FpdCBzZW5kTWVzc2FnZShg8J+kliBNQ1AgQW5hbHlzaXM6XFxuXFxuJHtwbGFpblRleHR9YCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHNlbmRNZXNzYWdlKG1lc3NhZ2VDb250ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignTUNQIEVycm9yOicsIGVycm9yKTtcbiAgICAgICAgICAvLyBGYWxsIGJhY2sgdG8gcmVndWxhciBjaGF0XG4gICAgICAgICAgYXdhaXQgc2VuZE1lc3NhZ2UobWVzc2FnZUNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZWd1bGFyIGNoYXQgbWVzc2FnZSAtIGFkZCBpbnN0cnVjdGlvbiBjb250ZXh0IGlmIGF2YWlsYWJsZVxuICAgICAgICBsZXQgY29udGV4dHVhbE1lc3NhZ2UgPSBtZXNzYWdlQ29udGVudDtcbiAgICAgICAgaWYgKGluc3RydWN0aW9uQ29udGV4dCkge1xuICAgICAgICAgIGNvbnRleHR1YWxNZXNzYWdlID0gYCR7aW5zdHJ1Y3Rpb25Db250ZXh0fVxcblxcbi0tLVxcblxcbiR7bWVzc2FnZUNvbnRlbnR9YDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQWx3YXlzIHVzZSBzdHJlYW1pbmcgdGhpbmtpbmcgZm9yIGFsbCBtZXNzYWdlcyAodGhpbmtpbmcgZW5hYmxlZCBieSBkZWZhdWx0KVxuICAgICAgICBhd2FpdCBzZW5kTWVzc2FnZVdpdGhTdHJlYW1pbmcoY29udGV4dHVhbE1lc3NhZ2UsIG1lc3NhZ2VDb250ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBoYW5kbGVTdWJtaXQoZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUlucHV0Q2hhbmdlID0gKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICBzZXRNZXNzYWdlKHZhbHVlKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggZmxleC1jb2wgbWluLWgtMFwiPlxuICAgICAgPGRpdiBcbiAgICAgICAgcmVmPXtzY3JvbGxSZWZ9IFxuICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIGJnLVsjMGUwZTBlXSBwLTIgcGItOCBtaW4taC0wIHNjcm9sbGJhci1oaWRkZW5cIlxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbW9ubyB0ZXh0LXhzIHNwYWNlLXktMiBtaW4taC1mdWxsXCI+XG4gICAgICAgICAgey8qIFRlcm1pbmFsIFdlbGNvbWUgVGV4dCAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyNjY2NjY2NdIHNwYWNlLXktMSBtYi00XCI+XG4gICAgICAgICAgICA8ZGl2PkVBQyBGaW5hbmNpYWwgRGFzaGJvYXJkIC0gQUkgQXNzaXN0YW50PC9kaXY+XG4gICAgICAgICAgICB7bWNwRXJyb3IgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyNmNDg3NzFdIHRleHQteHNcIj5NQ1AgRXJyb3I6IHttY3BFcnJvcn08L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyM4NTg1ODVdIG10LTJcIj5BSSBBc3Npc3RhbnQgcmVhZHkgZm9yIEVBQyBwcm9qZWN0IHF1ZXN0aW9ucy48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bIzg1ODU4NV0gdGV4dC14c1wiPlNlc3Npb246IHtzZXNzaW9uSWQuc2xpY2UoLTgpfTwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogU2Vzc2lvbiBTdGF0dXMgYW5kIExpbWl0cyAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bIzg1ODU4NV0gdGV4dC14c1wiPlxuICAgICAgICAgICAgICBNZXNzYWdlczoge21lc3NhZ2VDb3VudH0vNTAwXG4gICAgICAgICAgICAgIHtpc05lYXJTZXNzaW9uTGltaXQgJiYgKFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWyNmNDg3NzFdIG1sLTJcIj7imqDvuI8gQXBwcm9hY2hpbmcgbGltaXQ8L3NwYW4+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHtpc0F0U2Vzc2lvbkxpbWl0ICYmIChcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjZjQ4NzcxXSBtbC0yXCI+8J+aqCBTZXNzaW9uIGZ1bGw8L3NwYW4+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuXG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogTWVzc2FnZXMgKi99XG4gICAgICAgICAge21lc3NhZ2VzLm1hcCgobXNnLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAge21zZy5yb2xlID09PSAndXNlcicgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bIzAwN2FjY11cIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWyMwMDdhY2NdXCI+JCB1c2VyOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTEgdGV4dC1bI2NjY2NjY11cIj57bXNnLmNvbnRlbnR9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7bXNnLnJvbGUgPT09ICdhc3Npc3RhbnQnICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyM0ZWM5YjBdXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjNGVjOWIwXVwiPvCfpJYgYXNzaXN0YW50Ojwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWwtMSB0ZXh0LVsjY2NjY2NjXSB3aGl0ZXNwYWNlLXByZS13cmFwXCI+e21zZy5jb250ZW50fTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7bXNnLnJvbGUgPT09ICd0aGlua2luZycgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bI2Q0ZDRhYV1cIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWyNkNGQ0YWFdXCI+8J+noCB0aGlua2luZzo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1sLTEgdGV4dC1bI2NjY2NjY10gd2hpdGVzcGFjZS1wcmUtd3JhcCB0ZXh0LXhzIGZvbnQtbW9ubyBpdGFsaWNcIj5cbiAgICAgICAgICAgICAgICAgICAge21zZy5jb250ZW50fVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHttc2cucm9sZSA9PT0gJ3Rlcm1pbmFsJyAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjODU4NTg1XVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjNTg1ODU4XSB3aGl0ZXNwYWNlLXByZS13cmFwIGJnLVsjMWExYTFhXSBwLTEgcm91bmRlZCB0ZXh0LVsxMHB4XSBib3JkZXItbC0yIGJvcmRlci1bIzMzM11cIj5cbiAgICAgICAgICAgICAgICAgICAge21zZy5jb250ZW50fVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApKX1cblxuICAgICAgICAgIHsvKiBTdHJlYW1pbmcgVGhpbmtpbmcgRGlzcGxheSAqL31cbiAgICAgICAgICB7aXNTdHJlYW1pbmdUaGlua2luZyAmJiBzdHJlYW1pbmdUaGlua2luZyAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyNkNGQ0YWFdXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bI2Q0ZDRhYV1cIj7wn6egIHRoaW5raW5nOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1sLTEgdGV4dC1bI2NjY2NjY10gd2hpdGVzcGFjZS1wcmUtd3JhcCB0ZXh0LXhzIGZvbnQtbW9ubyBpdGFsaWNcIj5cbiAgICAgICAgICAgICAgICAgIHtzdHJlYW1pbmdUaGlua2luZ31cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgey8qIExvYWRpbmcgaW5kaWNhdG9yICovfVxuICAgICAgICAgIHtpc0xvYWRpbmcgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjNGVjOWIwXVwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjNGVjOWIwXVwiPvCfpJYgYXNzaXN0YW50Ojwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMSB0ZXh0LVsjODU4NTg1XVwiPnRoaW5raW5nLi4uPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIElucHV0IGFyZWEgLSBOb3cgb3V0c2lkZSB0aGUgc2Nyb2xsYWJsZSBjb250YWluZXIgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLVsjMGUwZTBlXSBwLTIgZm9udC1tb25vIHRleHQteHMgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bIzAwN2FjY11cIj4kIHVzZXI6PC9zcGFuPlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT1cImZsZXgtMSBtbC0xXCI+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgcmVmPXtpbnB1dFJlZn1cbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICB2YWx1ZT17bWVzc2FnZX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUlucHV0Q2hhbmdlfVxuICAgICAgICAgICAgICBvbktleURvd249e2hhbmRsZUtleURvd259XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtcbiAgICAgICAgICAgICAgICBpc0F0U2Vzc2lvbkxpbWl0IFxuICAgICAgICAgICAgICAgICAgPyBcIlNlc3Npb24gbGltaXQgcmVhY2hlZCAtIFN0YXJ0IG5ldyBzZXNzaW9uIHRvIGNvbnRpbnVlLi4uXCIgXG4gICAgICAgICAgICAgICAgICA6IGlzTG9hZGluZyBcbiAgICAgICAgICAgICAgICAgICAgPyBcIkFJIGlzIHRoaW5raW5nLi4uXCIgXG4gICAgICAgICAgICAgICAgICAgIDogXCJBc2sgYWJvdXQgeW91ciBFQUMgcHJvamVjdC4uLlwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZyB8fCBpc0F0U2Vzc2lvbkxpbWl0fVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgYmctdHJhbnNwYXJlbnQgYm9yZGVyLW5vbmUgb3V0bGluZS1ub25lIHBsYWNlaG9sZGVyOnRleHQtWyM4NTg1ODVdIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIGNhcmV0LVsjY2NjY2NjXSAke1xuICAgICAgICAgICAgICAgIGlzQXRTZXNzaW9uTGltaXQgPyAndGV4dC1bI2Y0ODc3MV0nIDogJ3RleHQtWyNjY2NjY2NdJ1xuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSJdLCJuYW1lcyI6WyJhcGkiLCJ1c2VDaGF0IiwidXNlSW5zdHJ1Y3Rpb25Db250ZXh0IiwidXNlSW5zdHJ1Y3Rpb25zIiwidXNlTUNQIiwidXNlQWdlbnRTdG9yZSIsInVzZUVkaXRvclN0b3JlIiwidXNlQ2hhdFN0b3JlIiwidXNlU2Vzc2lvblN0b3JlIiwidXNlVXNlciIsInVzZU11dGF0aW9uIiwidXNlUXVlcnkiLCJSZWFjdCIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwiQ2hhdE1lc3NhZ2VzIiwic2Nyb2xsUmVmIiwiaW5wdXRSZWYiLCJwcm9jZXNzZWRPcGVyYXRpb25zIiwiU2V0IiwibWVzc2FnZSIsInNldE1lc3NhZ2UiLCJ1c2VyIiwiaXNMb2FkZWQiLCJpbml0aWFsaXplVXNlclNlc3Npb24iLCJhZGRUZXJtaW5hbEZlZWRiYWNrIiwic2V0U2Vzc2lvbklkIiwiYWN0aXZlU2Vzc2lvbklkIiwibWVzc2FnZXMiLCJpc0xvYWRpbmciLCJjaGF0TG9hZGluZyIsInNlbmRNZXNzYWdlIiwic2VuZE1lc3NhZ2VXaXRoU3RyZWFtaW5nIiwic2Vzc2lvbklkIiwic3RvcmVDaGF0TWVzc2FnZSIsInVzZVRlcm1pbmFsRmVlZGJhY2siLCJzdHJlYW1pbmdUaGlua2luZyIsImlzU3RyZWFtaW5nVGhpbmtpbmciLCJtZXNzYWdlQ291bnQiLCJpc05lYXJTZXNzaW9uTGltaXQiLCJpc0F0U2Vzc2lvbkxpbWl0IiwiY2FuQWRkTWVzc2FnZXMiLCJnZXRTZXNzaW9uU3RhdHVzIiwic3RhcnROZXdTZXNzaW9uIiwiaXNDb25uZWN0ZWQiLCJtY3BDb25uZWN0ZWQiLCJtY3BMb2FkaW5nIiwiZXJyb3IiLCJtY3BFcnJvciIsImF2YWlsYWJsZVRvb2xzIiwicHJvY2Vzc05hdHVyYWxMYW5ndWFnZSIsImFnZW50cyIsImFjdGl2ZUFnZW50SWQiLCJzZXRBY3RpdmVBZ2VudCIsImV4ZWN1dGVBZ2VudFRvb2wiLCJjcmVhdGVJbnN0cnVjdGlvbiIsImZpbGVzIiwiY3JlYXRlSW5zdHJ1Y3Rpb25GaWxlIiwiZW5zdXJlSW5zdHJ1Y3Rpb25zUHJvamVjdCIsInByb2plY3RzIiwidXBzZXJ0UG9zdCIsInNvY2lhbFBvc3RzIiwic2NoZWR1bGVQb3N0IiwiY3JlYXRlQ29udGVudENyZWF0aW9uRmlsZSIsImNyZWF0ZVByb2plY3QiLCJjcmVhdGVGaWxlIiwiYWxsUG9zdHMiLCJnZXRBbGxQb3N0cyIsImFsbFByb2plY3RzIiwiZ2V0UHJvamVjdHMiLCJpbnN0cnVjdGlvbkNvbnRleHQiLCJpbnN0cnVjdGlvbnNMb2FkaW5nIiwiY3JlYXRlTmV3RmlsZSIsImN1cnJlbnQiLCJzY3JvbGxUb3AiLCJzY3JvbGxIZWlnaHQiLCJjb25zb2xlIiwibG9nIiwidXNlcklkIiwiaWQiLCJzdHJpcE1hcmtkb3duIiwidGV4dCIsInJlcGxhY2UiLCJzcGxpdCIsIm1hcCIsImxpbmUiLCJ0cmltIiwic3RhcnRzV2l0aCIsImxlbmd0aCIsImpvaW4iLCJpc01DUFF1ZXJ5IiwibWNwS2V5d29yZHMiLCJsb3dlclRleHQiLCJ0b0xvd2VyQ2FzZSIsInNvbWUiLCJrZXl3b3JkIiwiaW5jbHVkZXMiLCJoYW5kbGVUb29sU2VsZWN0b3JDbG9zZSIsImZvY3VzIiwiY3JlYXRlQ29udmV4TXV0YXRpb25zIiwicGFyYW1zIiwibmFtZSIsImRlc2NyaXB0aW9uIiwic3RhdHVzIiwiYnVkZ2V0IiwidHlwZSIsInByb2plY3RJZCIsImNvbnRlbnQiLCJleHRlbnNpb24iLCJwbGF0Zm9ybSIsInNpemUiLCJoYW5kbGVTdWJtaXQiLCJlIiwicHJldmVudERlZmF1bHQiLCJ3YXJuIiwicm9sZSIsIkRhdGUiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyMTIiLCJob3VyIiwibWludXRlIiwic2Vjb25kIiwibWVzc2FnZUNvbnRlbnQiLCJjb252ZXhNdXRhdGlvbnMiLCJhY3RpdmVBZ2VudCIsImZpbmQiLCJhZ2VudCIsInRvb2xzIiwiZGVmYXVsdFRvb2wiLCJyZXN1bHQiLCJFcnJvciIsIm1jcFJlc3BvbnNlIiwic3VjY2VzcyIsInRleHRDb250ZW50IiwicGxhaW5UZXh0IiwiY29udGV4dHVhbE1lc3NhZ2UiLCJoYW5kbGVLZXlEb3duIiwia2V5Iiwic2hpZnRLZXkiLCJoYW5kbGVJbnB1dENoYW5nZSIsInZhbHVlIiwidGFyZ2V0IiwiZGl2IiwiY2xhc3NOYW1lIiwicmVmIiwic2xpY2UiLCJzcGFuIiwibXNnIiwiaW5kZXgiLCJmb3JtIiwib25TdWJtaXQiLCJpbnB1dCIsIm9uQ2hhbmdlIiwib25LZXlEb3duIiwicGxhY2Vob2xkZXIiLCJkaXNhYmxlZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/_components/terminal/_components/chatMessages.tsx\n"));

/***/ })

});