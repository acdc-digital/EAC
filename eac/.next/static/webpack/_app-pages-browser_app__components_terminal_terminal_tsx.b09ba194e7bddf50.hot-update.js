"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_app__components_terminal_terminal_tsx",{

/***/ "(app-pages-browser)/./app/_components/terminal/_components/chatMessages.tsx":
/*!***************************************************************!*\
  !*** ./app/_components/terminal/_components/chatMessages.tsx ***!
  \***************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatMessages: () => (/* binding */ ChatMessages)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../node_modules/.pnpm/next@15.3.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _convex_generated_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/convex/_generated/api */ \"(app-pages-browser)/./convex/_generated/api.js\");\n/* harmony import */ var _lib_hooks_useChat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/hooks/useChat */ \"(app-pages-browser)/./lib/hooks/useChat.ts\");\n/* harmony import */ var _lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/hooks/useInstructions */ \"(app-pages-browser)/./lib/hooks/useInstructions.ts\");\n/* harmony import */ var _lib_hooks_useMCP__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/hooks/useMCP */ \"(app-pages-browser)/./lib/hooks/useMCP.ts\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/store */ \"(app-pages-browser)/./store/index.ts\");\n/* harmony import */ var _store_terminal_chat__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/store/terminal/chat */ \"(app-pages-browser)/./store/terminal/chat.ts\");\n/* harmony import */ var _store_terminal_session__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/store/terminal/session */ \"(app-pages-browser)/./store/terminal/session.ts\");\n/* harmony import */ var _clerk_nextjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @clerk/nextjs */ \"(app-pages-browser)/../node_modules/.pnpm/@clerk+clerk-react@5.38.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@clerk/clerk-react/dist/index.mjs\");\n/* harmony import */ var convex_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! convex/react */ \"(app-pages-browser)/../node_modules/.pnpm/convex@1.25.4_@clerk+clerk-react@5.38.0_react-dom@18.3.1_react@18.3.1__react@18.3.1__react@18.3.1/node_modules/convex/dist/esm/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../node_modules/.pnpm/next@15.3.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);\n// Simplified Chat Messages Component - No Slash Commands\n// /Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\n/* __next_internal_client_entry_do_not_use__ ChatMessages auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\nfunction ChatMessages() {\n    _s();\n    const scrollRef = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n    const processedOperations = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(new Set());\n    const [message, setMessage] = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(\"\");\n    const { user, isLoaded } = (0,_clerk_nextjs__WEBPACK_IMPORTED_MODULE_10__.useUser)();\n    const { initializeUserSession, addTerminalFeedback, setSessionId } = (0,_store_terminal_chat__WEBPACK_IMPORTED_MODULE_6__.useChatStore)();\n    const { activeSessionId } = (0,_store_terminal_session__WEBPACK_IMPORTED_MODULE_7__.useSessionStore)();\n    const { messages, isLoading: chatLoading, sendMessage, sendMessageWithStreaming, sessionId, storeChatMessage, addTerminalFeedback: useTerminalFeedback, streamingThinking, isStreamingThinking, messageCount, isNearSessionLimit, isAtSessionLimit, canAddMessages, getSessionStatus, startNewSession } = (0,_lib_hooks_useChat__WEBPACK_IMPORTED_MODULE_2__.useChat)();\n    const { isConnected: mcpConnected, isLoading: mcpLoading, error: mcpError, availableTools, processNaturalLanguage } = (0,_lib_hooks_useMCP__WEBPACK_IMPORTED_MODULE_4__.useMCP)();\n    // Agent execution and mutations\n    const { agents, activeAgentId, setActiveAgent, executeAgentTool } = (0,_store__WEBPACK_IMPORTED_MODULE_5__.useAgentStore)();\n    const createInstruction = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.instructions.createInstructionFile);\n    const ensureInstructionsProject = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.instructions.ensureInstructionsProject);\n    const upsertPost = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.socialPosts.upsertPost);\n    const schedulePost = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.socialPosts.schedulePost);\n    const createContentCreationFile = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.createContentCreationFile);\n    const createProject = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.projects.createProject);\n    const createFile = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.createFile);\n    const allPosts = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.socialPosts.getAllPosts, {});\n    const instructionContext = (0,_lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructionContext)();\n    const { isLoading: instructionsLoading } = (0,_lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructions)();\n    const { createNewFile } = (0,_store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore)();\n    const isLoading = chatLoading || mcpLoading || instructionsLoading;\n    // Auto-scroll to bottom when new messages arrive\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (scrollRef.current) {\n                scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        messages\n    ]);\n    // Initialize user session when component mounts and user is loaded\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (isLoaded && user && !sessionId) {\n                console.log(\"🔄 Initializing user session...\", {\n                    userId: user.id\n                });\n                initializeUserSession(user.id);\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        user,\n        isLoaded,\n        sessionId,\n        initializeUserSession\n    ]);\n    // Sync session ID if active session changes\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (activeSessionId && activeSessionId !== sessionId) {\n                console.log(\"🔄 Syncing to active session:\", activeSessionId);\n                setSessionId(activeSessionId);\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        activeSessionId,\n        sessionId,\n        setSessionId\n    ]);\n    // DISABLED: Process messages with operations to create UI files\n    // This is now handled by useFileLoad hook which syncs from Convex to local store\n    /*\n  useEffect(() => {\n    if (!messages) return;\n    \n    console.log('🔍 Processing messages for operations:', {\n      totalMessages: messages.length,\n      recentMessagesCount: messages.slice(-10).length,\n      processedCount: processedOperations.current.size\n    });\n    \n    // Look for messages with operations that need UI processing\n    const recentMessages = messages.slice(-10); // Check last 10 messages\n    \n    recentMessages.forEach((message: any, index) => {\n      console.log(`🔍 Message ${index}:`, {\n        id: message._id,\n        role: message.role,\n        hasOperation: !!message.operation,\n        operationType: message.operation?.type,\n        operationDetails: message.operation?.details,\n        contentPreview: message.content?.substring(0, 100),\n        alreadyProcessed: processedOperations.current.has(message._id)\n      });\n      \n      if (message.operation?.type === 'file_created' && message._id) {\n        // Skip if already processed\n        if (processedOperations.current.has(message._id)) {\n          console.log(`⏭️ Skipping already processed message: ${message._id}`);\n          return;\n        }\n        \n        const { fileName, fileType, content, platformData, agentType } = message.operation.details;\n        \n        console.log('🔍 File creation operation found:', {\n          fileName,\n          fileType,\n          agentType,\n          hasContent: !!content,\n          contentLength: content?.length || 0,\n          willProcess: agentType === 'twitter' && content\n        });\n        \n        // Only process Twitter agent files for UI creation that have content\n        if (agentType === 'twitter' && content) {\n          console.log('🔄 Processing social file operation:', {\n            fileName,\n            fileType,\n            content: content,\n            contentLength: content?.length || 0,\n            contentType: typeof content,\n            messageId: message._id,\n            platformData: platformData,\n            allDetails: message.operation.details\n          });\n          \n          // Mark as processed FIRST to prevent race conditions\n          processedOperations.current.add(message._id);\n          \n          // Parse the platform data with error handling\n          let platformDataObj;\n          try {\n            platformDataObj = platformData ? JSON.parse(platformData) : {};\n          } catch (error) {\n            console.warn('⚠️ Failed to parse platform data, using defaults:', error);\n            platformDataObj = {\n              replySettings: 'following',\n              scheduledDate: '',\n              scheduledTime: '',\n              isThread: false\n            };\n          }\n          \n          // Create the content for the Twitter post file in the expected format\n          const postContent = `# ${fileName.replace(/\\.[^/.]+$/, \"\")} - X (Twitter) Post\nPlatform: X (Twitter)\nCreated: ${new Date().toLocaleDateString()}\n\n## Post Content\n${content}\n\n## Settings\n- Reply Settings: ${platformDataObj.replySettings || 'following'}\n- Schedule: ${platformDataObj.scheduledDate && platformDataObj.scheduledTime ? `${platformDataObj.scheduledDate} ${platformDataObj.scheduledTime}` : 'Now'}\n- Thread: ${platformDataObj.isThread ? 'Multi-tweet Thread' : 'Single Tweet'}\n\n## Media\n- Images: []\n- Videos: []\n\n## Analytics\n- Impressions: 0\n- Engagements: 0\n- Likes: 0\n- Shares: 0`;\n\n          // Get the createNewFile function from the store at execution time\n          const { createNewFile, projectFolders } = useEditorStore.getState();\n          \n          // Find the Content Creation folder ID\n          const contentCreationFolder = projectFolders.find(folder => \n            folder.name === 'Content Creation'\n          );\n          \n          if (contentCreationFolder) {\n            // Create the file in the Content Creation folder\n            createNewFile(\n              fileName,\n              'x', // Use 'x' type for Twitter files\n              'project',\n              contentCreationFolder.id,\n              postContent\n            );\n            \n            console.log('✅ Created social file in UI:', fileName);\n          } else {\n            console.warn('⚠️ Content Creation folder not found');\n            \n            // Create without folder ID if folder not found\n            createNewFile(\n              fileName,\n              'x',\n              'project',\n              undefined,\n              postContent\n            );\n          }\n        }\n      }\n    });\n  }, [messages]); // Removed createNewFile from dependencies to prevent re-runs on panel switches\n  */ // Helper function to strip markdown formatting\n    const stripMarkdown = (text)=>{\n        return text.replace(/#{1,6}\\s*/g, '') // Remove headers\n        .replace(/\\*\\*(.*?)\\*\\*/g, '$1') // Remove **bold**\n        .replace(/\\*(.*?)\\*/g, '$1') // Remove *italic*\n        .replace(/`([^`]+)`/g, '$1') // Remove `code`\n        .replace(/^\\s*[-*+]\\s+/gm, '• ') // Convert markdown lists to bullet points\n        .replace(/^\\s*\\d+\\.\\s+/gm, '• ') // Convert numbered lists to bullet points\n        .replace(/\\n\\s*\\n\\s*\\n/g, '\\n\\n') // Reduce multiple blank lines to double\n        .split('\\n') // Split into lines for processing\n        .map((line)=>{\n            // Add spacing after section headers (lines that don't start with bullet points)\n            if (line.trim() && !line.startsWith('•') && !line.startsWith(' ') && line.length > 0) {\n                return line + '\\n'; // Add extra newline after headers\n            }\n            return line;\n        }).join('\\n').replace(/\\n{3,}/g, '\\n\\n') // Clean up excessive newlines\n        .trim();\n    };\n    // Helper function to detect MCP-related queries (excluding direct tool commands)\n    const isMCPQuery = (text)=>{\n        // Don't treat direct tool commands as NLP queries\n        if (text.startsWith('/')) return false;\n        // Look for keywords that suggest MCP analysis would be helpful\n        const mcpKeywords = [\n            'analyze',\n            'examine',\n            'review',\n            'explain',\n            'understand',\n            'architecture',\n            'structure',\n            'code',\n            'component',\n            'function',\n            'implementation',\n            'pattern',\n            'best practice',\n            'issue',\n            'bug',\n            'error',\n            'performance',\n            'optimization',\n            'refactor',\n            'improvement',\n            'documentation',\n            'overview',\n            'summary',\n            'how does',\n            'what is',\n            'why is',\n            'where is',\n            'when is',\n            'which'\n        ];\n        const lowerText = text.toLowerCase();\n        return mcpKeywords.some((keyword)=>lowerText.includes(keyword));\n    };\n    const handleToolSelectorClose = ()=>{\n        var _inputRef_current;\n        setMessage(\"\");\n        (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n    };\n    // Helper function to create convexMutations object for agents\n    const createConvexMutations = ()=>{\n        return {\n            ensureInstructionsProject,\n            createInstructionFile: createInstruction,\n            upsertPost,\n            schedulePost,\n            createContentCreationFile,\n            getAllPosts: async ()=>{\n                return allPosts || [];\n            }\n        };\n    };\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        // Check session limit before processing\n        if (!canAddMessages()) {\n            console.warn(\"Cannot send message: Session limit reached\");\n            // Add a terminal feedback message about the limit\n            await storeChatMessage({\n                role: \"terminal\",\n                content: \"[\".concat(new Date().toLocaleTimeString('en-US', {\n                    hour12: false,\n                    hour: '2-digit',\n                    minute: '2-digit',\n                    second: '2-digit'\n                }), \"] \\uD83D\\uDEA8 Message not sent: Session limit reached (500 messages)\\nPlease start a new session to continue chatting.\"),\n                sessionId\n            });\n            return;\n        }\n        if (message.trim() && !isLoading) {\n            const messageContent = message.trim();\n            setMessage(\"\");\n            // Check if this is an agent command when an agent is active\n            if (activeAgentId && !messageContent.startsWith('/')) {\n                try {\n                    console.log(\"\\uD83E\\uDD16 Executing agent \".concat(activeAgentId, \" with message: \").concat(messageContent));\n                    // Create convex mutations for the agent\n                    const convexMutations = createConvexMutations();\n                    // Find the active agent and its default tool\n                    const activeAgent = agents.find((agent)=>agent.id === activeAgentId);\n                    if (activeAgent && activeAgent.tools.length > 0) {\n                        const defaultTool = activeAgent.tools[0]; // Use the first tool as default\n                        // Execute the agent tool\n                        const result = await executeAgentTool(activeAgentId, defaultTool.id, messageContent, convexMutations);\n                        // Store both user message and agent result\n                        await storeChatMessage({\n                            role: \"user\",\n                            content: messageContent,\n                            sessionId\n                        });\n                        await storeChatMessage({\n                            role: \"assistant\",\n                            content: \"\\uD83E\\uDD16 **\".concat(activeAgent.name, \" Agent Result:**\\n\\n\").concat(result),\n                            sessionId\n                        });\n                        return;\n                    }\n                } catch (error) {\n                    console.error('Agent execution error:', error);\n                    // Store the user message and error\n                    await storeChatMessage({\n                        role: \"user\",\n                        content: messageContent,\n                        sessionId\n                    });\n                    await storeChatMessage({\n                        role: \"assistant\",\n                        content: \"❌ Agent execution failed: \".concat(error instanceof Error ? error.message : 'Unknown error'),\n                        sessionId\n                    });\n                    return;\n                }\n            }\n            // Check if this looks like a natural language MCP query\n            if (mcpConnected && isMCPQuery(messageContent)) {\n                try {\n                    const mcpResponse = await processNaturalLanguage(messageContent);\n                    if (mcpResponse.success && mcpResponse.content && mcpResponse.content.length > 0) {\n                        // Extract the actual text content from the MCP response\n                        const textContent = mcpResponse.content[0].text;\n                        // Strip markdown formatting and convert to plain text\n                        const plainText = stripMarkdown(textContent);\n                        // Send the MCP response with clean text content\n                        await sendMessage(\"\\uD83E\\uDD16 MCP Analysis:\\n\\n\".concat(plainText));\n                    } else {\n                        await sendMessage(messageContent);\n                    }\n                } catch (error) {\n                    console.error('MCP Error:', error);\n                    // Fall back to regular chat\n                    await sendMessage(messageContent);\n                }\n            } else {\n                // Regular chat message - add instruction context if available\n                let contextualMessage = messageContent;\n                if (instructionContext) {\n                    contextualMessage = \"\".concat(instructionContext, \"\\n\\n---\\n\\n\").concat(messageContent);\n                }\n                // Always use streaming thinking for all messages (thinking enabled by default)\n                await sendMessageWithStreaming(contextualMessage, messageContent);\n            }\n        }\n    };\n    const handleKeyDown = (e)=>{\n        if (e.key === 'Enter' && !e.shiftKey) {\n            e.preventDefault();\n            handleSubmit(e);\n        }\n    };\n    const handleInputChange = (e)=>{\n        const value = e.target.value;\n        setMessage(value);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex-1 flex flex-col min-h-0\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: scrollRef,\n                className: \"flex-1 overflow-y-auto bg-[#0e0e0e] p-2 pb-8 min-h-0 scrollbar-hidden\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"font-mono text-xs space-y-2 min-h-full\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-[#cccccc] space-y-1 mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: \"EAC Financial Dashboard - AI Assistant\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 422,\n                                    columnNumber: 13\n                                }, this),\n                                mcpError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#f48771] text-xs\",\n                                    children: [\n                                        \"MCP Error: \",\n                                        mcpError\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 424,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#858585] mt-2\",\n                                    children: \"AI Assistant ready for EAC project questions.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 426,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#858585] text-xs\",\n                                    children: [\n                                        \"Session: \",\n                                        sessionId.slice(-8)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 427,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#858585] text-xs\",\n                                    children: [\n                                        \"Messages: \",\n                                        messageCount,\n                                        \"/500\",\n                                        isNearSessionLimit && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-[#f48771] ml-2\",\n                                            children: \"⚠️ Approaching limit\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                            lineNumber: 433,\n                                            columnNumber: 17\n                                        }, this),\n                                        isAtSessionLimit && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-[#f48771] ml-2\",\n                                            children: \"\\uD83D\\uDEA8 Session full\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                            lineNumber: 436,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 430,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 421,\n                            columnNumber: 11\n                        }, this),\n                        messages.map((msg, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1\",\n                                children: [\n                                    msg.role === 'user' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#007acc]\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[#007acc]\",\n                                                children: \"$ user:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 448,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"ml-1 text-[#cccccc]\",\n                                                children: msg.content\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 449,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 447,\n                                        columnNumber: 17\n                                    }, this),\n                                    msg.role === 'assistant' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#4ec9b0]\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[#4ec9b0]\",\n                                                children: \"\\uD83E\\uDD16 assistant:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 454,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"ml-1 text-[#cccccc] whitespace-pre-wrap\",\n                                                children: msg.content\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 455,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 453,\n                                        columnNumber: 17\n                                    }, this),\n                                    msg.role === 'thinking' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#d4d4aa]\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[#d4d4aa]\",\n                                                children: \"\\uD83E\\uDDE0 thinking:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 460,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"ml-1 text-[#cccccc] whitespace-pre-wrap text-xs font-mono italic\",\n                                                children: msg.content\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 461,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 459,\n                                        columnNumber: 17\n                                    }, this),\n                                    msg.role === 'terminal' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#858585]\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-[#585858] whitespace-pre-wrap bg-[#1a1a1a] p-1 rounded text-[10px] border-l-2 border-[#333]\",\n                                            children: msg.content\n                                        }, void 0, false, {\n                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                            lineNumber: 468,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 467,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, index, true, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 445,\n                                columnNumber: 13\n                            }, this)),\n                        isStreamingThinking && streamingThinking && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-1\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-[#d4d4aa]\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[#d4d4aa]\",\n                                        children: \"\\uD83E\\uDDE0 thinking:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 480,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"ml-1 text-[#cccccc] whitespace-pre-wrap text-xs font-mono italic\",\n                                        children: streamingThinking\n                                    }, void 0, false, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 481,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 479,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 478,\n                            columnNumber: 13\n                        }, this),\n                        isLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-[#4ec9b0]\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-[#4ec9b0]\",\n                                    children: \"\\uD83E\\uDD16 assistant:\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 491,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"ml-1 text-[#858585]\",\n                                    children: \"thinking...\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 492,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 490,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                    lineNumber: 419,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                lineNumber: 415,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-[#0e0e0e] p-2 font-mono text-xs flex-shrink-0\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-[#007acc]\",\n                            children: \"$ user:\"\n                        }, void 0, false, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 501,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                            onSubmit: handleSubmit,\n                            className: \"flex-1 ml-1\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                ref: inputRef,\n                                type: \"text\",\n                                value: message,\n                                onChange: handleInputChange,\n                                onKeyDown: handleKeyDown,\n                                placeholder: isAtSessionLimit ? \"Session limit reached - Start new session to continue...\" : isLoading ? \"AI is thinking...\" : \"Ask about your EAC project...\",\n                                disabled: isLoading || isAtSessionLimit,\n                                className: \"w-full bg-transparent border-none outline-none placeholder:text-[#858585] disabled:opacity-50 disabled:cursor-not-allowed caret-[#cccccc] \".concat(isAtSessionLimit ? 'text-[#f48771]' : 'text-[#cccccc]')\n                            }, void 0, false, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 503,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 502,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                    lineNumber: 500,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                lineNumber: 499,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n        lineNumber: 414,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatMessages, \"NW1O8WJGUxPdS28IITvrS+xzKtw=\", false, function() {\n    return [\n        _clerk_nextjs__WEBPACK_IMPORTED_MODULE_10__.useUser,\n        _store_terminal_chat__WEBPACK_IMPORTED_MODULE_6__.useChatStore,\n        _store_terminal_session__WEBPACK_IMPORTED_MODULE_7__.useSessionStore,\n        _lib_hooks_useChat__WEBPACK_IMPORTED_MODULE_2__.useChat,\n        _lib_hooks_useMCP__WEBPACK_IMPORTED_MODULE_4__.useMCP,\n        _store__WEBPACK_IMPORTED_MODULE_5__.useAgentStore,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery,\n        _lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructionContext,\n        _lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructions,\n        _store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore\n    ];\n});\n_c = ChatMessages;\nvar _c;\n$RefreshReg$(_c, \"ChatMessages\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9fY29tcG9uZW50cy90ZXJtaW5hbC9fY29tcG9uZW50cy9jaGF0TWVzc2FnZXMudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSx5REFBeUQ7QUFDekQsNkZBQTZGOzs7QUFJL0M7QUFDQTtBQUN1QztBQUN6QztBQUNZO0FBQ0g7QUFDTTtBQUNuQjtBQUNhO0FBQ007QUFFcEQsU0FBU2dCOztJQUNkLE1BQU1DLFlBQVlILDZDQUFNQSxDQUFpQjtJQUN6QyxNQUFNSSxXQUFXSiw2Q0FBTUEsQ0FBbUI7SUFDMUMsTUFBTUssc0JBQXNCTCw2Q0FBTUEsQ0FBYyxJQUFJTTtJQUNwRCxNQUFNLENBQUNDLFNBQVNDLFdBQVcsR0FBR1AsK0NBQVFBLENBQUM7SUFHdkMsTUFBTSxFQUFFUSxJQUFJLEVBQUVDLFFBQVEsRUFBRSxHQUFHZix1REFBT0E7SUFDbEMsTUFBTSxFQUFFZ0IscUJBQXFCLEVBQUVDLG1CQUFtQixFQUFFQyxZQUFZLEVBQUUsR0FBR3BCLGtFQUFZQTtJQUNqRixNQUFNLEVBQUVxQixlQUFlLEVBQUUsR0FBR3BCLHdFQUFlQTtJQUMzQyxNQUFNLEVBQ0pxQixRQUFRLEVBQ1JDLFdBQVdDLFdBQVcsRUFDdEJDLFdBQVcsRUFDWEMsd0JBQXdCLEVBQ3hCQyxTQUFTLEVBQ1RDLGdCQUFnQixFQUNoQlQscUJBQXFCVSxtQkFBbUIsRUFDeENDLGlCQUFpQixFQUNqQkMsbUJBQW1CLEVBQ25CQyxZQUFZLEVBQ1pDLGtCQUFrQixFQUNsQkMsZ0JBQWdCLEVBQ2hCQyxjQUFjLEVBQ2RDLGdCQUFnQixFQUNoQkMsZUFBZSxFQUNoQixHQUFHM0MsMkRBQU9BO0lBQ1gsTUFBTSxFQUNKNEMsYUFBYUMsWUFBWSxFQUN6QmhCLFdBQVdpQixVQUFVLEVBQ3JCQyxPQUFPQyxRQUFRLEVBQ2ZDLGNBQWMsRUFDZEMsc0JBQXNCLEVBQ3ZCLEdBQUcvQyx5REFBTUE7SUFFVixnQ0FBZ0M7SUFDaEMsTUFBTSxFQUFF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QUNYbUIsYUFDRXpHLG1CQUNJLDZEQUNBWCxZQUNFLHNCQUNBO2dDQUVScUgsVUFBVXJILGFBQWFXO2dDQUN2QjZGLFdBQVcsNklBRVYsT0FEQzdGLG1CQUFtQixtQkFBbUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRdEQ7R0E3ZmdCekI7O1FBT2FQLG1EQUFPQTtRQUNtQ0YsOERBQVlBO1FBQ3JEQyxvRUFBZUE7UUFpQnZDUCx1REFBT0E7UUFPUEcscURBQU1BO1FBRzBEQyxpREFBYUE7UUFDdkRLLHFEQUFXQTtRQUNIQSxxREFBV0E7UUFDMUJBLHFEQUFXQTtRQUNUQSxxREFBV0E7UUFDRUEscURBQVdBO1FBQ3ZCQSxxREFBV0E7UUFDZEEscURBQVdBO1FBQ2JDLGtEQUFRQTtRQUNFVCw2RUFBcUJBO1FBQ0xDLHVFQUFlQTtRQUNoQ0csa0RBQWNBOzs7S0EvQzFCVSIsInNvdXJjZXMiOlsiL1VzZXJzL21hdHRoZXdzaW1vbi9Qcm9qZWN0cy9lYWMvZWFjL2FwcC9fY29tcG9uZW50cy90ZXJtaW5hbC9fY29tcG9uZW50cy9jaGF0TWVzc2FnZXMudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIFNpbXBsaWZpZWQgQ2hhdCBNZXNzYWdlcyBDb21wb25lbnQgLSBObyBTbGFzaCBDb21tYW5kc1xuLy8gL1VzZXJzL21hdHRoZXdzaW1vbi9Qcm9qZWN0cy9lYWMvZWFjL2FwcC9fY29tcG9uZW50cy90ZXJtaW5hbC9fY29tcG9uZW50cy9jaGF0TWVzc2FnZXMudHN4XG5cblwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBhcGkgfSBmcm9tIFwiQC9jb252ZXgvX2dlbmVyYXRlZC9hcGlcIjtcbmltcG9ydCB7IHVzZUNoYXQgfSBmcm9tIFwiQC9saWIvaG9va3MvdXNlQ2hhdFwiO1xuaW1wb3J0IHsgdXNlSW5zdHJ1Y3Rpb25Db250ZXh0LCB1c2VJbnN0cnVjdGlvbnMgfSBmcm9tIFwiQC9saWIvaG9va3MvdXNlSW5zdHJ1Y3Rpb25zXCI7XG5pbXBvcnQgeyB1c2VNQ1AgfSBmcm9tIFwiQC9saWIvaG9va3MvdXNlTUNQXCI7XG5pbXBvcnQgeyB1c2VBZ2VudFN0b3JlLCB1c2VFZGl0b3JTdG9yZSB9IGZyb20gXCJAL3N0b3JlXCI7XG5pbXBvcnQgeyB1c2VDaGF0U3RvcmUgfSBmcm9tIFwiQC9zdG9yZS90ZXJtaW5hbC9jaGF0XCI7XG5pbXBvcnQgeyB1c2VTZXNzaW9uU3RvcmUgfSBmcm9tIFwiQC9zdG9yZS90ZXJtaW5hbC9zZXNzaW9uXCI7XG5pbXBvcnQgeyB1c2VVc2VyIH0gZnJvbSBcIkBjbGVyay9uZXh0anNcIjtcbmltcG9ydCB7IHVzZU11dGF0aW9uLCB1c2VRdWVyeSB9IGZyb20gXCJjb252ZXgvcmVhY3RcIjtcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIENoYXRNZXNzYWdlcygpIHtcbiAgY29uc3Qgc2Nyb2xsUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IHByb2Nlc3NlZE9wZXJhdGlvbnMgPSB1c2VSZWY8U2V0PHN0cmluZz4+KG5ldyBTZXQoKSk7XG4gIGNvbnN0IFttZXNzYWdlLCBzZXRNZXNzYWdlXSA9IHVzZVN0YXRlKFwiXCIpO1xuXG4gIFxuICBjb25zdCB7IHVzZXIsIGlzTG9hZGVkIH0gPSB1c2VVc2VyKCk7XG4gIGNvbnN0IHsgaW5pdGlhbGl6ZVVzZXJTZXNzaW9uLCBhZGRUZXJtaW5hbEZlZWRiYWNrLCBzZXRTZXNzaW9uSWQgfSA9IHVzZUNoYXRTdG9yZSgpO1xuICBjb25zdCB7IGFjdGl2ZVNlc3Npb25JZCB9ID0gdXNlU2Vzc2lvblN0b3JlKCk7XG4gIGNvbnN0IHsgXG4gICAgbWVzc2FnZXMsIFxuICAgIGlzTG9hZGluZzogY2hhdExvYWRpbmcsIFxuICAgIHNlbmRNZXNzYWdlLCBcbiAgICBzZW5kTWVzc2FnZVdpdGhTdHJlYW1pbmcsXG4gICAgc2Vzc2lvbklkLCBcbiAgICBzdG9yZUNoYXRNZXNzYWdlLCBcbiAgICBhZGRUZXJtaW5hbEZlZWRiYWNrOiB1c2VUZXJtaW5hbEZlZWRiYWNrLFxuICAgIHN0cmVhbWluZ1RoaW5raW5nLFxuICAgIGlzU3RyZWFtaW5nVGhpbmtpbmcsXG4gICAgbWVzc2FnZUNvdW50LFxuICAgIGlzTmVhclNlc3Npb25MaW1pdCxcbiAgICBpc0F0U2Vzc2lvbkxpbWl0LFxuICAgIGNhbkFkZE1lc3NhZ2VzLFxuICAgIGdldFNlc3Npb25TdGF0dXMsXG4gICAgc3RhcnROZXdTZXNzaW9uXG4gIH0gPSB1c2VDaGF0KCk7XG4gIGNvbnN0IHtcbiAgICBpc0Nvbm5lY3RlZDogbWNwQ29ubmVjdGVkLFxuICAgIGlzTG9hZGluZzogbWNwTG9hZGluZyxcbiAgICBlcnJvcjogbWNwRXJyb3IsXG4gICAgYXZhaWxhYmxlVG9vbHMsXG4gICAgcHJvY2Vzc05hdHVyYWxMYW5ndWFnZSxcbiAgfSA9IHVzZU1DUCgpO1xuICBcbiAgLy8gQWdlbnQgZXhlY3V0aW9uIGFuZCBtdXRhdGlvbnNcbiAgY29uc3QgeyBhZ2VudHMsIGFjdGl2ZUFnZW50SWQsIHNldEFjdGl2ZUFnZW50LCBleGVjdXRlQWdlbnRUb29sIH0gPSB1c2VBZ2VudFN0b3JlKCk7XG4gIGNvbnN0IGNyZWF0ZUluc3RydWN0aW9uID0gdXNlTXV0YXRpb24oYXBpLmluc3RydWN0aW9ucy5jcmVhdGVJbnN0cnVjdGlvbkZpbGUpO1xuICBjb25zdCBlbnN1cmVJbnN0cnVjdGlvbnNQcm9qZWN0ID0gdXNlTXV0YXRpb24oYXBpLmluc3RydWN0aW9ucy5lbnN1cmVJbnN0cnVjdGlvbnNQcm9qZWN0KTtcbiAgY29uc3QgdXBzZXJ0UG9zdCA9IHVzZU11dGF0aW9uKGFwaS5zb2NpYWxQb3N0cy51cHNlcnRQb3N0KTtcbiAgY29uc3Qgc2NoZWR1bGVQb3N0ID0gdXNlTXV0YXRpb24oYXBpLnNvY2lhbFBvc3RzLnNjaGVkdWxlUG9zdCk7XG4gIGNvbnN0IGNyZWF0ZUNvbnRlbnRDcmVhdGlvbkZpbGUgPSB1c2VNdXRhdGlvbihhcGkuZmlsZXMuY3JlYXRlQ29udGVudENyZWF0aW9uRmlsZSk7XG4gIGNvbnN0IGNyZWF0ZVByb2plY3QgPSB1c2VNdXRhdGlvbihhcGkucHJvamVjdHMuY3JlYXRlUHJvamVjdCk7XG4gIGNvbnN0IGNyZWF0ZUZpbGUgPSB1c2VNdXRhdGlvbihhcGkuZmlsZXMuY3JlYXRlRmlsZSk7XG4gIGNvbnN0IGFsbFBvc3RzID0gdXNlUXVlcnkoYXBpLnNvY2lhbFBvc3RzLmdldEFsbFBvc3RzLCB7fSk7XG4gIGNvbnN0IGluc3RydWN0aW9uQ29udGV4dCA9IHVzZUluc3RydWN0aW9uQ29udGV4dCgpO1xuICBjb25zdCB7IGlzTG9hZGluZzogaW5zdHJ1Y3Rpb25zTG9hZGluZyB9ID0gdXNlSW5zdHJ1Y3Rpb25zKCk7XG4gIGNvbnN0IHsgY3JlYXRlTmV3RmlsZSB9ID0gdXNlRWRpdG9yU3RvcmUoKTtcblxuICBjb25zdCBpc0xvYWRpbmcgPSBjaGF0TG9hZGluZyB8fCBtY3BMb2FkaW5nIHx8IGluc3RydWN0aW9uc0xvYWRpbmc7XG5cbiAgLy8gQXV0by1zY3JvbGwgdG8gYm90dG9tIHdoZW4gbmV3IG1lc3NhZ2VzIGFycml2ZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzY3JvbGxSZWYuY3VycmVudCkge1xuICAgICAgc2Nyb2xsUmVmLmN1cnJlbnQuc2Nyb2xsVG9wID0gc2Nyb2xsUmVmLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0O1xuICAgIH1cbiAgfSwgW21lc3NhZ2VzXSk7XG5cbiAgLy8gSW5pdGlhbGl6ZSB1c2VyIHNlc3Npb24gd2hlbiBjb21wb25lbnQgbW91bnRzIGFuZCB1c2VyIGlzIGxvYWRlZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0xvYWRlZCAmJiB1c2VyICYmICFzZXNzaW9uSWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwi8J+UhCBJbml0aWFsaXppbmcgdXNlciBzZXNzaW9uLi4uXCIsIHsgdXNlcklkOiB1c2VyLmlkIH0pO1xuICAgICAgaW5pdGlhbGl6ZVVzZXJTZXNzaW9uKHVzZXIuaWQpO1xuICAgIH1cbiAgfSwgW3VzZXIsIGlzTG9hZGVkLCBzZXNzaW9uSWQsIGluaXRpYWxpemVVc2VyU2Vzc2lvbl0pO1xuXG4gIC8vIFN5bmMgc2Vzc2lvbiBJRCBpZiBhY3RpdmUgc2Vzc2lvbiBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFjdGl2ZVNlc3Npb25JZCAmJiBhY3RpdmVTZXNzaW9uSWQgIT09IHNlc3Npb25JZCkge1xuICAgICAgY29uc29sZS5sb2coXCLwn5SEIFN5bmNpbmcgdG8gYWN0aXZlIHNlc3Npb246XCIsIGFjdGl2ZVNlc3Npb25JZCk7XG4gICAgICBzZXRTZXNzaW9uSWQoYWN0aXZlU2Vzc2lvbklkKTtcbiAgICB9XG4gIH0sIFthY3RpdmVTZXNzaW9uSWQsIHNlc3Npb25JZCwgc2V0U2Vzc2lvbklkXSk7XG5cbiAgLy8gRElTQUJMRUQ6IFByb2Nlc3MgbWVzc2FnZXMgd2l0aCBvcGVyYXRpb25zIHRvIGNyZWF0ZSBVSSBmaWxlc1xuICAvLyBUaGlzIGlzIG5vdyBoYW5kbGVkIGJ5IHVzZUZpbGVMb2FkIGhvb2sgd2hpY2ggc3luY3MgZnJvbSBDb252ZXggdG8gbG9jYWwgc3RvcmVcbiAgLypcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIW1lc3NhZ2VzKSByZXR1cm47XG4gICAgXG4gICAgY29uc29sZS5sb2coJ/CflI0gUHJvY2Vzc2luZyBtZXNzYWdlcyBmb3Igb3BlcmF0aW9uczonLCB7XG4gICAgICB0b3RhbE1lc3NhZ2VzOiBtZXNzYWdlcy5sZW5ndGgsXG4gICAgICByZWNlbnRNZXNzYWdlc0NvdW50OiBtZXNzYWdlcy5zbGljZSgtMTApLmxlbmd0aCxcbiAgICAgIHByb2Nlc3NlZENvdW50OiBwcm9jZXNzZWRPcGVyYXRpb25zLmN1cnJlbnQuc2l6ZVxuICAgIH0pO1xuICAgIFxuICAgIC8vIExvb2sgZm9yIG1lc3NhZ2VzIHdpdGggb3BlcmF0aW9ucyB0aGF0IG5lZWQgVUkgcHJvY2Vzc2luZ1xuICAgIGNvbnN0IHJlY2VudE1lc3NhZ2VzID0gbWVzc2FnZXMuc2xpY2UoLTEwKTsgLy8gQ2hlY2sgbGFzdCAxMCBtZXNzYWdlc1xuICAgIFxuICAgIHJlY2VudE1lc3NhZ2VzLmZvckVhY2goKG1lc3NhZ2U6IGFueSwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SNIE1lc3NhZ2UgJHtpbmRleH06YCwge1xuICAgICAgICBpZDogbWVzc2FnZS5faWQsXG4gICAgICAgIHJvbGU6IG1lc3NhZ2Uucm9sZSxcbiAgICAgICAgaGFzT3BlcmF0aW9uOiAhIW1lc3NhZ2Uub3BlcmF0aW9uLFxuICAgICAgICBvcGVyYXRpb25UeXBlOiBtZXNzYWdlLm9wZXJhdGlvbj8udHlwZSxcbiAgICAgICAgb3BlcmF0aW9uRGV0YWlsczogbWVzc2FnZS5vcGVyYXRpb24/LmRldGFpbHMsXG4gICAgICAgIGNvbnRlbnRQcmV2aWV3OiBtZXNzYWdlLmNvbnRlbnQ/LnN1YnN0cmluZygwLCAxMDApLFxuICAgICAgICBhbHJlYWR5UHJvY2Vzc2VkOiBwcm9jZXNzZWRPcGVyYXRpb25zLmN1cnJlbnQuaGFzKG1lc3NhZ2UuX2lkKVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmIChtZXNzYWdlLm9wZXJhdGlvbj8udHlwZSA9PT0gJ2ZpbGVfY3JlYXRlZCcgJiYgbWVzc2FnZS5faWQpIHtcbiAgICAgICAgLy8gU2tpcCBpZiBhbHJlYWR5IHByb2Nlc3NlZFxuICAgICAgICBpZiAocHJvY2Vzc2VkT3BlcmF0aW9ucy5jdXJyZW50LmhhcyhtZXNzYWdlLl9pZCkpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg4o+t77iPIFNraXBwaW5nIGFscmVhZHkgcHJvY2Vzc2VkIG1lc3NhZ2U6ICR7bWVzc2FnZS5faWR9YCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCB7IGZpbGVOYW1lLCBmaWxlVHlwZSwgY29udGVudCwgcGxhdGZvcm1EYXRhLCBhZ2VudFR5cGUgfSA9IG1lc3NhZ2Uub3BlcmF0aW9uLmRldGFpbHM7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBGaWxlIGNyZWF0aW9uIG9wZXJhdGlvbiBmb3VuZDonLCB7XG4gICAgICAgICAgZmlsZU5hbWUsXG4gICAgICAgICAgZmlsZVR5cGUsXG4gICAgICAgICAgYWdlbnRUeXBlLFxuICAgICAgICAgIGhhc0NvbnRlbnQ6ICEhY29udGVudCxcbiAgICAgICAgICBjb250ZW50TGVuZ3RoOiBjb250ZW50Py5sZW5ndGggfHwgMCxcbiAgICAgICAgICB3aWxsUHJvY2VzczogYWdlbnRUeXBlID09PSAndHdpdHRlcicgJiYgY29udGVudFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIE9ubHkgcHJvY2VzcyBUd2l0dGVyIGFnZW50IGZpbGVzIGZvciBVSSBjcmVhdGlvbiB0aGF0IGhhdmUgY29udGVudFxuICAgICAgICBpZiAoYWdlbnRUeXBlID09PSAndHdpdHRlcicgJiYgY29udGVudCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFByb2Nlc3Npbmcgc29jaWFsIGZpbGUgb3BlcmF0aW9uOicsIHtcbiAgICAgICAgICAgIGZpbGVOYW1lLFxuICAgICAgICAgICAgZmlsZVR5cGUsXG4gICAgICAgICAgICBjb250ZW50OiBjb250ZW50LFxuICAgICAgICAgICAgY29udGVudExlbmd0aDogY29udGVudD8ubGVuZ3RoIHx8IDAsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogdHlwZW9mIGNvbnRlbnQsXG4gICAgICAgICAgICBtZXNzYWdlSWQ6IG1lc3NhZ2UuX2lkLFxuICAgICAgICAgICAgcGxhdGZvcm1EYXRhOiBwbGF0Zm9ybURhdGEsXG4gICAgICAgICAgICBhbGxEZXRhaWxzOiBtZXNzYWdlLm9wZXJhdGlvbi5kZXRhaWxzXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gTWFyayBhcyBwcm9jZXNzZWQgRklSU1QgdG8gcHJldmVudCByYWNlIGNvbmRpdGlvbnNcbiAgICAgICAgICBwcm9jZXNzZWRPcGVyYXRpb25zLmN1cnJlbnQuYWRkKG1lc3NhZ2UuX2lkKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBQYXJzZSB0aGUgcGxhdGZvcm0gZGF0YSB3aXRoIGVycm9yIGhhbmRsaW5nXG4gICAgICAgICAgbGV0IHBsYXRmb3JtRGF0YU9iajtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcGxhdGZvcm1EYXRhT2JqID0gcGxhdGZvcm1EYXRhID8gSlNPTi5wYXJzZShwbGF0Zm9ybURhdGEpIDoge307XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIEZhaWxlZCB0byBwYXJzZSBwbGF0Zm9ybSBkYXRhLCB1c2luZyBkZWZhdWx0czonLCBlcnJvcik7XG4gICAgICAgICAgICBwbGF0Zm9ybURhdGFPYmogPSB7XG4gICAgICAgICAgICAgIHJlcGx5U2V0dGluZ3M6ICdmb2xsb3dpbmcnLFxuICAgICAgICAgICAgICBzY2hlZHVsZWREYXRlOiAnJyxcbiAgICAgICAgICAgICAgc2NoZWR1bGVkVGltZTogJycsXG4gICAgICAgICAgICAgIGlzVGhyZWFkOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ3JlYXRlIHRoZSBjb250ZW50IGZvciB0aGUgVHdpdHRlciBwb3N0IGZpbGUgaW4gdGhlIGV4cGVjdGVkIGZvcm1hdFxuICAgICAgICAgIGNvbnN0IHBvc3RDb250ZW50ID0gYCMgJHtmaWxlTmFtZS5yZXBsYWNlKC9cXC5bXi8uXSskLywgXCJcIil9IC0gWCAoVHdpdHRlcikgUG9zdFxuUGxhdGZvcm06IFggKFR3aXR0ZXIpXG5DcmVhdGVkOiAke25ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9XG5cbiMjIFBvc3QgQ29udGVudFxuJHtjb250ZW50fVxuXG4jIyBTZXR0aW5nc1xuLSBSZXBseSBTZXR0aW5nczogJHtwbGF0Zm9ybURhdGFPYmoucmVwbHlTZXR0aW5ncyB8fCAnZm9sbG93aW5nJ31cbi0gU2NoZWR1bGU6ICR7cGxhdGZvcm1EYXRhT2JqLnNjaGVkdWxlZERhdGUgJiYgcGxhdGZvcm1EYXRhT2JqLnNjaGVkdWxlZFRpbWUgPyBgJHtwbGF0Zm9ybURhdGFPYmouc2NoZWR1bGVkRGF0ZX0gJHtwbGF0Zm9ybURhdGFPYmouc2NoZWR1bGVkVGltZX1gIDogJ05vdyd9XG4tIFRocmVhZDogJHtwbGF0Zm9ybURhdGFPYmouaXNUaHJlYWQgPyAnTXVsdGktdHdlZXQgVGhyZWFkJyA6ICdTaW5nbGUgVHdlZXQnfVxuXG4jIyBNZWRpYVxuLSBJbWFnZXM6IFtdXG4tIFZpZGVvczogW11cblxuIyMgQW5hbHl0aWNzXG4tIEltcHJlc3Npb25zOiAwXG4tIEVuZ2FnZW1lbnRzOiAwXG4tIExpa2VzOiAwXG4tIFNoYXJlczogMGA7XG5cbiAgICAgICAgICAvLyBHZXQgdGhlIGNyZWF0ZU5ld0ZpbGUgZnVuY3Rpb24gZnJvbSB0aGUgc3RvcmUgYXQgZXhlY3V0aW9uIHRpbWVcbiAgICAgICAgICBjb25zdCB7IGNyZWF0ZU5ld0ZpbGUsIHByb2plY3RGb2xkZXJzIH0gPSB1c2VFZGl0b3JTdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEZpbmQgdGhlIENvbnRlbnQgQ3JlYXRpb24gZm9sZGVyIElEXG4gICAgICAgICAgY29uc3QgY29udGVudENyZWF0aW9uRm9sZGVyID0gcHJvamVjdEZvbGRlcnMuZmluZChmb2xkZXIgPT4gXG4gICAgICAgICAgICBmb2xkZXIubmFtZSA9PT0gJ0NvbnRlbnQgQ3JlYXRpb24nXG4gICAgICAgICAgKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoY29udGVudENyZWF0aW9uRm9sZGVyKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGZpbGUgaW4gdGhlIENvbnRlbnQgQ3JlYXRpb24gZm9sZGVyXG4gICAgICAgICAgICBjcmVhdGVOZXdGaWxlKFxuICAgICAgICAgICAgICBmaWxlTmFtZSxcbiAgICAgICAgICAgICAgJ3gnLCAvLyBVc2UgJ3gnIHR5cGUgZm9yIFR3aXR0ZXIgZmlsZXNcbiAgICAgICAgICAgICAgJ3Byb2plY3QnLFxuICAgICAgICAgICAgICBjb250ZW50Q3JlYXRpb25Gb2xkZXIuaWQsXG4gICAgICAgICAgICAgIHBvc3RDb250ZW50XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIENyZWF0ZWQgc29jaWFsIGZpbGUgaW4gVUk6JywgZmlsZU5hbWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBDb250ZW50IENyZWF0aW9uIGZvbGRlciBub3QgZm91bmQnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ3JlYXRlIHdpdGhvdXQgZm9sZGVyIElEIGlmIGZvbGRlciBub3QgZm91bmRcbiAgICAgICAgICAgIGNyZWF0ZU5ld0ZpbGUoXG4gICAgICAgICAgICAgIGZpbGVOYW1lLFxuICAgICAgICAgICAgICAneCcsXG4gICAgICAgICAgICAgICdwcm9qZWN0JyxcbiAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICBwb3N0Q29udGVudFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW21lc3NhZ2VzXSk7IC8vIFJlbW92ZWQgY3JlYXRlTmV3RmlsZSBmcm9tIGRlcGVuZGVuY2llcyB0byBwcmV2ZW50IHJlLXJ1bnMgb24gcGFuZWwgc3dpdGNoZXNcbiAgKi9cblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gc3RyaXAgbWFya2Rvd24gZm9ybWF0dGluZ1xuICBjb25zdCBzdHJpcE1hcmtkb3duID0gKHRleHQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIHRleHRcbiAgICAgIC5yZXBsYWNlKC8jezEsNn1cXHMqL2csICcnKSAvLyBSZW1vdmUgaGVhZGVyc1xuICAgICAgLnJlcGxhY2UoL1xcKlxcKiguKj8pXFwqXFwqL2csICckMScpIC8vIFJlbW92ZSAqKmJvbGQqKlxuICAgICAgLnJlcGxhY2UoL1xcKiguKj8pXFwqL2csICckMScpIC8vIFJlbW92ZSAqaXRhbGljKlxuICAgICAgLnJlcGxhY2UoL2AoW15gXSspYC9nLCAnJDEnKSAvLyBSZW1vdmUgYGNvZGVgXG4gICAgICAucmVwbGFjZSgvXlxccypbLSorXVxccysvZ20sICfigKIgJykgLy8gQ29udmVydCBtYXJrZG93biBsaXN0cyB0byBidWxsZXQgcG9pbnRzXG4gICAgICAucmVwbGFjZSgvXlxccypcXGQrXFwuXFxzKy9nbSwgJ+KAoiAnKSAvLyBDb252ZXJ0IG51bWJlcmVkIGxpc3RzIHRvIGJ1bGxldCBwb2ludHNcbiAgICAgIC5yZXBsYWNlKC9cXG5cXHMqXFxuXFxzKlxcbi9nLCAnXFxuXFxuJykgLy8gUmVkdWNlIG11bHRpcGxlIGJsYW5rIGxpbmVzIHRvIGRvdWJsZVxuICAgICAgLnNwbGl0KCdcXG4nKSAvLyBTcGxpdCBpbnRvIGxpbmVzIGZvciBwcm9jZXNzaW5nXG4gICAgICAubWFwKGxpbmUgPT4ge1xuICAgICAgICAvLyBBZGQgc3BhY2luZyBhZnRlciBzZWN0aW9uIGhlYWRlcnMgKGxpbmVzIHRoYXQgZG9uJ3Qgc3RhcnQgd2l0aCBidWxsZXQgcG9pbnRzKVxuICAgICAgICBpZiAobGluZS50cmltKCkgJiYgIWxpbmUuc3RhcnRzV2l0aCgn4oCiJykgJiYgIWxpbmUuc3RhcnRzV2l0aCgnICcpICYmIGxpbmUubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiBsaW5lICsgJ1xcbic7IC8vIEFkZCBleHRyYSBuZXdsaW5lIGFmdGVyIGhlYWRlcnNcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGluZTtcbiAgICAgIH0pXG4gICAgICAuam9pbignXFxuJylcbiAgICAgIC5yZXBsYWNlKC9cXG57Myx9L2csICdcXG5cXG4nKSAvLyBDbGVhbiB1cCBleGNlc3NpdmUgbmV3bGluZXNcbiAgICAgIC50cmltKCk7XG4gIH07XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGRldGVjdCBNQ1AtcmVsYXRlZCBxdWVyaWVzIChleGNsdWRpbmcgZGlyZWN0IHRvb2wgY29tbWFuZHMpXG4gIGNvbnN0IGlzTUNQUXVlcnkgPSAodGV4dDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgLy8gRG9uJ3QgdHJlYXQgZGlyZWN0IHRvb2wgY29tbWFuZHMgYXMgTkxQIHF1ZXJpZXNcbiAgICBpZiAodGV4dC5zdGFydHNXaXRoKCcvJykpIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICAvLyBMb29rIGZvciBrZXl3b3JkcyB0aGF0IHN1Z2dlc3QgTUNQIGFuYWx5c2lzIHdvdWxkIGJlIGhlbHBmdWxcbiAgICBjb25zdCBtY3BLZXl3b3JkcyA9IFtcbiAgICAgICdhbmFseXplJywgJ2V4YW1pbmUnLCAncmV2aWV3JywgJ2V4cGxhaW4nLCAndW5kZXJzdGFuZCcsICdhcmNoaXRlY3R1cmUnLFxuICAgICAgJ3N0cnVjdHVyZScsICdjb2RlJywgJ2NvbXBvbmVudCcsICdmdW5jdGlvbicsICdpbXBsZW1lbnRhdGlvbicsICdwYXR0ZXJuJyxcbiAgICAgICdiZXN0IHByYWN0aWNlJywgJ2lzc3VlJywgJ2J1ZycsICdlcnJvcicsICdwZXJmb3JtYW5jZScsICdvcHRpbWl6YXRpb24nLFxuICAgICAgJ3JlZmFjdG9yJywgJ2ltcHJvdmVtZW50JywgJ2RvY3VtZW50YXRpb24nLCAnb3ZlcnZpZXcnLCAnc3VtbWFyeScsXG4gICAgICAnaG93IGRvZXMnLCAnd2hhdCBpcycsICd3aHkgaXMnLCAnd2hlcmUgaXMnLCAnd2hlbiBpcycsICd3aGljaCdcbiAgICBdO1xuICAgIFxuICAgIGNvbnN0IGxvd2VyVGV4dCA9IHRleHQudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gbWNwS2V5d29yZHMuc29tZShrZXl3b3JkID0+IGxvd2VyVGV4dC5pbmNsdWRlcyhrZXl3b3JkKSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVG9vbFNlbGVjdG9yQ2xvc2UgPSAoKSA9PiB7XG4gICAgc2V0TWVzc2FnZShcIlwiKTtcbiAgICBpbnB1dFJlZi5jdXJyZW50Py5mb2N1cygpO1xuICB9O1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgY29udmV4TXV0YXRpb25zIG9iamVjdCBmb3IgYWdlbnRzXG4gIGNvbnN0IGNyZWF0ZUNvbnZleE11dGF0aW9ucyA9ICgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgZW5zdXJlSW5zdHJ1Y3Rpb25zUHJvamVjdCxcbiAgICAgIGNyZWF0ZUluc3RydWN0aW9uRmlsZTogY3JlYXRlSW5zdHJ1Y3Rpb24sXG4gICAgICB1cHNlcnRQb3N0LFxuICAgICAgc2NoZWR1bGVQb3N0LFxuICAgICAgY3JlYXRlQ29udGVudENyZWF0aW9uRmlsZSxcbiAgICAgIGdldEFsbFBvc3RzOiBhc3luYyAoKSA9PiB7XG4gICAgICAgIHJldHVybiBhbGxQb3N0cyB8fCBbXTtcbiAgICAgIH0sXG4gICAgfTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTdWJtaXQgPSBhc3luYyAoZTogUmVhY3QuRm9ybUV2ZW50KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIFxuICAgIC8vIENoZWNrIHNlc3Npb24gbGltaXQgYmVmb3JlIHByb2Nlc3NpbmdcbiAgICBpZiAoIWNhbkFkZE1lc3NhZ2VzKCkpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIkNhbm5vdCBzZW5kIG1lc3NhZ2U6IFNlc3Npb24gbGltaXQgcmVhY2hlZFwiKTtcbiAgICAgIC8vIEFkZCBhIHRlcm1pbmFsIGZlZWRiYWNrIG1lc3NhZ2UgYWJvdXQgdGhlIGxpbWl0XG4gICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgcm9sZTogXCJ0ZXJtaW5hbFwiLFxuICAgICAgICBjb250ZW50OiBgWyR7bmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoJ2VuLVVTJywgeyBcbiAgICAgICAgICBob3VyMTI6IGZhbHNlLCBcbiAgICAgICAgICBob3VyOiAnMi1kaWdpdCcsIFxuICAgICAgICAgIG1pbnV0ZTogJzItZGlnaXQnLCBcbiAgICAgICAgICBzZWNvbmQ6ICcyLWRpZ2l0JyBcbiAgICAgICAgfSl9XSDwn5qoIE1lc3NhZ2Ugbm90IHNlbnQ6IFNlc3Npb24gbGltaXQgcmVhY2hlZCAoNTAwIG1lc3NhZ2VzKVxuUGxlYXNlIHN0YXJ0IGEgbmV3IHNlc3Npb24gdG8gY29udGludWUgY2hhdHRpbmcuYCxcbiAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGlmIChtZXNzYWdlLnRyaW0oKSAmJiAhaXNMb2FkaW5nKSB7XG4gICAgICBjb25zdCBtZXNzYWdlQ29udGVudCA9IG1lc3NhZ2UudHJpbSgpO1xuICAgICAgc2V0TWVzc2FnZShcIlwiKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBhbiBhZ2VudCBjb21tYW5kIHdoZW4gYW4gYWdlbnQgaXMgYWN0aXZlXG4gICAgICBpZiAoYWN0aXZlQWdlbnRJZCAmJiAhbWVzc2FnZUNvbnRlbnQuc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYPCfpJYgRXhlY3V0aW5nIGFnZW50ICR7YWN0aXZlQWdlbnRJZH0gd2l0aCBtZXNzYWdlOiAke21lc3NhZ2VDb250ZW50fWApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENyZWF0ZSBjb252ZXggbXV0YXRpb25zIGZvciB0aGUgYWdlbnRcbiAgICAgICAgICBjb25zdCBjb252ZXhNdXRhdGlvbnMgPSBjcmVhdGVDb252ZXhNdXRhdGlvbnMoKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBGaW5kIHRoZSBhY3RpdmUgYWdlbnQgYW5kIGl0cyBkZWZhdWx0IHRvb2xcbiAgICAgICAgICBjb25zdCBhY3RpdmVBZ2VudCA9IGFnZW50cy5maW5kKGFnZW50ID0+IGFnZW50LmlkID09PSBhY3RpdmVBZ2VudElkKTtcbiAgICAgICAgICBpZiAoYWN0aXZlQWdlbnQgJiYgYWN0aXZlQWdlbnQudG9vbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdFRvb2wgPSBhY3RpdmVBZ2VudC50b29sc1swXTsgLy8gVXNlIHRoZSBmaXJzdCB0b29sIGFzIGRlZmF1bHRcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRXhlY3V0ZSB0aGUgYWdlbnQgdG9vbFxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZUFnZW50VG9vbChcbiAgICAgICAgICAgICAgYWN0aXZlQWdlbnRJZCxcbiAgICAgICAgICAgICAgZGVmYXVsdFRvb2wuaWQsXG4gICAgICAgICAgICAgIG1lc3NhZ2VDb250ZW50LFxuICAgICAgICAgICAgICBjb252ZXhNdXRhdGlvbnNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFN0b3JlIGJvdGggdXNlciBtZXNzYWdlIGFuZCBhZ2VudCByZXN1bHRcbiAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgICAgICAgY29udGVudDogbWVzc2FnZUNvbnRlbnQsXG4gICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgICAgICAgY29udGVudDogYPCfpJYgKioke2FjdGl2ZUFnZW50Lm5hbWV9IEFnZW50IFJlc3VsdDoqKlxcblxcbiR7cmVzdWx0fWAsXG4gICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FnZW50IGV4ZWN1dGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU3RvcmUgdGhlIHVzZXIgbWVzc2FnZSBhbmQgZXJyb3JcbiAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICAgICAgY29udGVudDogbWVzc2FnZUNvbnRlbnQsXG4gICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgICAgY29udGVudDogYOKdjCBBZ2VudCBleGVjdXRpb24gZmFpbGVkOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWAsXG4gICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIHRoaXMgbG9va3MgbGlrZSBhIG5hdHVyYWwgbGFuZ3VhZ2UgTUNQIHF1ZXJ5XG4gICAgICBpZiAobWNwQ29ubmVjdGVkICYmIGlzTUNQUXVlcnkobWVzc2FnZUNvbnRlbnQpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgbWNwUmVzcG9uc2UgPSBhd2FpdCBwcm9jZXNzTmF0dXJhbExhbmd1YWdlKG1lc3NhZ2VDb250ZW50KTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAobWNwUmVzcG9uc2Uuc3VjY2VzcyAmJiBtY3BSZXNwb25zZS5jb250ZW50ICYmIG1jcFJlc3BvbnNlLmNvbnRlbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gRXh0cmFjdCB0aGUgYWN0dWFsIHRleHQgY29udGVudCBmcm9tIHRoZSBNQ1AgcmVzcG9uc2VcbiAgICAgICAgICAgIGNvbnN0IHRleHRDb250ZW50ID0gbWNwUmVzcG9uc2UuY29udGVudFswXS50ZXh0O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTdHJpcCBtYXJrZG93biBmb3JtYXR0aW5nIGFuZCBjb252ZXJ0IHRvIHBsYWluIHRleHRcbiAgICAgICAgICAgIGNvbnN0IHBsYWluVGV4dCA9IHN0cmlwTWFya2Rvd24odGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTZW5kIHRoZSBNQ1AgcmVzcG9uc2Ugd2l0aCBjbGVhbiB0ZXh0IGNvbnRlbnRcbiAgICAgICAgICAgIGF3YWl0IHNlbmRNZXNzYWdlKGDwn6SWIE1DUCBBbmFseXNpczpcXG5cXG4ke3BsYWluVGV4dH1gKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgc2VuZE1lc3NhZ2UobWVzc2FnZUNvbnRlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdNQ1AgRXJyb3I6JywgZXJyb3IpO1xuICAgICAgICAgIC8vIEZhbGwgYmFjayB0byByZWd1bGFyIGNoYXRcbiAgICAgICAgICBhd2FpdCBzZW5kTWVzc2FnZShtZXNzYWdlQ29udGVudCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJlZ3VsYXIgY2hhdCBtZXNzYWdlIC0gYWRkIGluc3RydWN0aW9uIGNvbnRleHQgaWYgYXZhaWxhYmxlXG4gICAgICAgIGxldCBjb250ZXh0dWFsTWVzc2FnZSA9IG1lc3NhZ2VDb250ZW50O1xuICAgICAgICBpZiAoaW5zdHJ1Y3Rpb25Db250ZXh0KSB7XG4gICAgICAgICAgY29udGV4dHVhbE1lc3NhZ2UgPSBgJHtpbnN0cnVjdGlvbkNvbnRleHR9XFxuXFxuLS0tXFxuXFxuJHttZXNzYWdlQ29udGVudH1gO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBBbHdheXMgdXNlIHN0cmVhbWluZyB0aGlua2luZyBmb3IgYWxsIG1lc3NhZ2VzICh0aGlua2luZyBlbmFibGVkIGJ5IGRlZmF1bHQpXG4gICAgICAgIGF3YWl0IHNlbmRNZXNzYWdlV2l0aFN0cmVhbWluZyhjb250ZXh0dWFsTWVzc2FnZSwgbWVzc2FnZUNvbnRlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGU6IFJlYWN0LktleWJvYXJkRXZlbnQpID0+IHtcbiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGhhbmRsZVN1Ym1pdChlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlSW5wdXRDaGFuZ2UgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgIHNldE1lc3NhZ2UodmFsdWUpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgZmxleCBmbGV4LWNvbCBtaW4taC0wXCI+XG4gICAgICA8ZGl2IFxuICAgICAgICByZWY9e3Njcm9sbFJlZn0gXG4gICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gYmctWyMwZTBlMGVdIHAtMiBwYi04IG1pbi1oLTAgc2Nyb2xsYmFyLWhpZGRlblwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tb25vIHRleHQteHMgc3BhY2UteS0yIG1pbi1oLWZ1bGxcIj5cbiAgICAgICAgICB7LyogVGVybWluYWwgV2VsY29tZSBUZXh0ICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bI2NjY2NjY10gc3BhY2UteS0xIG1iLTRcIj5cbiAgICAgICAgICAgIDxkaXY+RUFDIEZpbmFuY2lhbCBEYXNoYm9hcmQgLSBBSSBBc3Npc3RhbnQ8L2Rpdj5cbiAgICAgICAgICAgIHttY3BFcnJvciAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bI2Y0ODc3MV0gdGV4dC14c1wiPk1DUCBFcnJvcjoge21jcEVycm9yfTwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bIzg1ODU4NV0gbXQtMlwiPkFJIEFzc2lzdGFudCByZWFkeSBmb3IgRUFDIHByb2plY3QgcXVlc3Rpb25zLjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjODU4NTg1XSB0ZXh0LXhzXCI+U2Vzc2lvbjoge3Nlc3Npb25JZC5zbGljZSgtOCl9PC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBTZXNzaW9uIFN0YXR1cyBhbmQgTGltaXRzICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjODU4NTg1XSB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgIE1lc3NhZ2VzOiB7bWVzc2FnZUNvdW50fS81MDBcbiAgICAgICAgICAgICAge2lzTmVhclNlc3Npb25MaW1pdCAmJiAoXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bI2Y0ODc3MV0gbWwtMlwiPuKaoO+4jyBBcHByb2FjaGluZyBsaW1pdDwvc3Bhbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge2lzQXRTZXNzaW9uTGltaXQgJiYgKFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWyNmNDg3NzFdIG1sLTJcIj7wn5qoIFNlc3Npb24gZnVsbDwvc3Bhbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBNZXNzYWdlcyAqL31cbiAgICAgICAgICB7bWVzc2FnZXMubWFwKChtc2csIGluZGV4KSA9PiAoXG4gICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICB7bXNnLnJvbGUgPT09ICd1c2VyJyAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjMDA3YWNjXVwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bIzAwN2FjY11cIj4kIHVzZXI6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMSB0ZXh0LVsjY2NjY2NjXVwiPnttc2cuY29udGVudH08L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHttc2cucm9sZSA9PT0gJ2Fzc2lzdGFudCcgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bIzRlYzliMF1cIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWyM0ZWM5YjBdXCI+8J+kliBhc3Npc3RhbnQ6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC0xIHRleHQtWyNjY2NjY2NdIHdoaXRlc3BhY2UtcHJlLXdyYXBcIj57bXNnLmNvbnRlbnR9PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHttc2cucm9sZSA9PT0gJ3RoaW5raW5nJyAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjZDRkNGFhXVwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bI2Q0ZDRhYV1cIj7wn6egIHRoaW5raW5nOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWwtMSB0ZXh0LVsjY2NjY2NjXSB3aGl0ZXNwYWNlLXByZS13cmFwIHRleHQteHMgZm9udC1tb25vIGl0YWxpY1wiPlxuICAgICAgICAgICAgICAgICAgICB7bXNnLmNvbnRlbnR9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge21zZy5yb2xlID09PSAndGVybWluYWwnICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyM4NTg1ODVdXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyM1ODU4NThdIHdoaXRlc3BhY2UtcHJlLXdyYXAgYmctWyMxYTFhMWFdIHAtMSByb3VuZGVkIHRleHQtWzEwcHhdIGJvcmRlci1sLTIgYm9yZGVyLVsjMzMzXVwiPlxuICAgICAgICAgICAgICAgICAgICB7bXNnLmNvbnRlbnR9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkpfVxuXG4gICAgICAgICAgey8qIFN0cmVhbWluZyBUaGlua2luZyBEaXNwbGF5ICovfVxuICAgICAgICAgIHtpc1N0cmVhbWluZ1RoaW5raW5nICYmIHN0cmVhbWluZ1RoaW5raW5nICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bI2Q0ZDRhYV1cIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjZDRkNGFhXVwiPvCfp6AgdGhpbmtpbmc6PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWwtMSB0ZXh0LVsjY2NjY2NjXSB3aGl0ZXNwYWNlLXByZS13cmFwIHRleHQteHMgZm9udC1tb25vIGl0YWxpY1wiPlxuICAgICAgICAgICAgICAgICAge3N0cmVhbWluZ1RoaW5raW5nfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7LyogTG9hZGluZyBpbmRpY2F0b3IgKi99XG4gICAgICAgICAge2lzTG9hZGluZyAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyM0ZWM5YjBdXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWyM0ZWM5YjBdXCI+8J+kliBhc3Npc3RhbnQ6PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0xIHRleHQtWyM4NTg1ODVdXCI+dGhpbmtpbmcuLi48L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogSW5wdXQgYXJlYSAtIE5vdyBvdXRzaWRlIHRoZSBzY3JvbGxhYmxlIGNvbnRhaW5lciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctWyMwZTBlMGVdIHAtMiBmb250LW1vbm8gdGV4dC14cyBmbGV4LXNocmluay0wXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjMDA3YWNjXVwiPiQgdXNlcjo8L3NwYW4+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwiZmxleC0xIG1sLTFcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICByZWY9e2lucHV0UmVmfVxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgIHZhbHVlPXttZXNzYWdlfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlSW5wdXRDaGFuZ2V9XG4gICAgICAgICAgICAgIG9uS2V5RG93bj17aGFuZGxlS2V5RG93bn1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e1xuICAgICAgICAgICAgICAgIGlzQXRTZXNzaW9uTGltaXQgXG4gICAgICAgICAgICAgICAgICA/IFwiU2Vzc2lvbiBsaW1pdCByZWFjaGVkIC0gU3RhcnQgbmV3IHNlc3Npb24gdG8gY29udGludWUuLi5cIiBcbiAgICAgICAgICAgICAgICAgIDogaXNMb2FkaW5nIFxuICAgICAgICAgICAgICAgICAgICA/IFwiQUkgaXMgdGhpbmtpbmcuLi5cIiBcbiAgICAgICAgICAgICAgICAgICAgOiBcIkFzayBhYm91dCB5b3VyIEVBQyBwcm9qZWN0Li4uXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nIHx8IGlzQXRTZXNzaW9uTGltaXR9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBiZy10cmFuc3BhcmVudCBib3JkZXItbm9uZSBvdXRsaW5lLW5vbmUgcGxhY2Vob2xkZXI6dGV4dC1bIzg1ODU4NV0gZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgY2FyZXQtWyNjY2NjY2NdICR7XG4gICAgICAgICAgICAgICAgaXNBdFNlc3Npb25MaW1pdCA/ICd0ZXh0LVsjZjQ4NzcxXScgOiAndGV4dC1bI2NjY2NjY10nXG4gICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59Il0sIm5hbWVzIjpbImFwaSIsInVzZUNoYXQiLCJ1c2VJbnN0cnVjdGlvbkNvbnRleHQiLCJ1c2VJbnN0cnVjdGlvbnMiLCJ1c2VNQ1AiLCJ1c2VBZ2VudFN0b3JlIiwidXNlRWRpdG9yU3RvcmUiLCJ1c2VDaGF0U3RvcmUiLCJ1c2VTZXNzaW9uU3RvcmUiLCJ1c2VVc2VyIiwidXNlTXV0YXRpb24iLCJ1c2VRdWVyeSIsIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJDaGF0TWVzc2FnZXMiLCJzY3JvbGxSZWYiLCJpbnB1dFJlZiIsInByb2Nlc3NlZE9wZXJhdGlvbnMiLCJTZXQiLCJtZXNzYWdlIiwic2V0TWVzc2FnZSIsInVzZXIiLCJpc0xvYWRlZCIsImluaXRpYWxpemVVc2VyU2Vzc2lvbiIsImFkZFRlcm1pbmFsRmVlZGJhY2siLCJzZXRTZXNzaW9uSWQiLCJhY3RpdmVTZXNzaW9uSWQiLCJtZXNzYWdlcyIsImlzTG9hZGluZyIsImNoYXRMb2FkaW5nIiwic2VuZE1lc3NhZ2UiLCJzZW5kTWVzc2FnZVdpdGhTdHJlYW1pbmciLCJzZXNzaW9uSWQiLCJzdG9yZUNoYXRNZXNzYWdlIiwidXNlVGVybWluYWxGZWVkYmFjayIsInN0cmVhbWluZ1RoaW5raW5nIiwiaXNTdHJlYW1pbmdUaGlua2luZyIsIm1lc3NhZ2VDb3VudCIsImlzTmVhclNlc3Npb25MaW1pdCIsImlzQXRTZXNzaW9uTGltaXQiLCJjYW5BZGRNZXNzYWdlcyIsImdldFNlc3Npb25TdGF0dXMiLCJzdGFydE5ld1Nlc3Npb24iLCJpc0Nvbm5lY3RlZCIsIm1jcENvbm5lY3RlZCIsIm1jcExvYWRpbmciLCJlcnJvciIsIm1jcEVycm9yIiwiYXZhaWxhYmxlVG9vbHMiLCJwcm9jZXNzTmF0dXJhbExhbmd1YWdlIiwiYWdlbnRzIiwiYWN0aXZlQWdlbnRJZCIsInNldEFjdGl2ZUFnZW50IiwiZXhlY3V0ZUFnZW50VG9vbCIsImNyZWF0ZUluc3RydWN0aW9uIiwiaW5zdHJ1Y3Rpb25zIiwiY3JlYXRlSW5zdHJ1Y3Rpb25GaWxlIiwiZW5zdXJlSW5zdHJ1Y3Rpb25zUHJvamVjdCIsInVwc2VydFBvc3QiLCJzb2NpYWxQb3N0cyIsInNjaGVkdWxlUG9zdCIsImNyZWF0ZUNvbnRlbnRDcmVhdGlvbkZpbGUiLCJmaWxlcyIsImNyZWF0ZVByb2plY3QiLCJwcm9qZWN0cyIsImNyZWF0ZUZpbGUiLCJhbGxQb3N0cyIsImdldEFsbFBvc3RzIiwiaW5zdHJ1Y3Rpb25Db250ZXh0IiwiaW5zdHJ1Y3Rpb25zTG9hZGluZyIsImNyZWF0ZU5ld0ZpbGUiLCJjdXJyZW50Iiwic2Nyb2xsVG9wIiwic2Nyb2xsSGVpZ2h0IiwiY29uc29sZSIsImxvZyIsInVzZXJJZCIsImlkIiwic3RyaXBNYXJrZG93biIsInRleHQiLCJyZXBsYWNlIiwic3BsaXQiLCJtYXAiLCJsaW5lIiwidHJpbSIsInN0YXJ0c1dpdGgiLCJsZW5ndGgiLCJqb2luIiwiaXNNQ1BRdWVyeSIsIm1jcEtleXdvcmRzIiwibG93ZXJUZXh0IiwidG9Mb3dlckNhc2UiLCJzb21lIiwia2V5d29yZCIsImluY2x1ZGVzIiwiaGFuZGxlVG9vbFNlbGVjdG9yQ2xvc2UiLCJmb2N1cyIsImNyZWF0ZUNvbnZleE11dGF0aW9ucyIsImhhbmRsZVN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIndhcm4iLCJyb2xlIiwiY29udGVudCIsIkRhdGUiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyMTIiLCJob3VyIiwibWludXRlIiwic2Vjb25kIiwibWVzc2FnZUNvbnRlbnQiLCJjb252ZXhNdXRhdGlvbnMiLCJhY3RpdmVBZ2VudCIsImZpbmQiLCJhZ2VudCIsInRvb2xzIiwiZGVmYXVsdFRvb2wiLCJyZXN1bHQiLCJuYW1lIiwiRXJyb3IiLCJtY3BSZXNwb25zZSIsInN1Y2Nlc3MiLCJ0ZXh0Q29udGVudCIsInBsYWluVGV4dCIsImNvbnRleHR1YWxNZXNzYWdlIiwiaGFuZGxlS2V5RG93biIsImtleSIsInNoaWZ0S2V5IiwiaGFuZGxlSW5wdXRDaGFuZ2UiLCJ2YWx1ZSIsInRhcmdldCIsImRpdiIsImNsYXNzTmFtZSIsInJlZiIsInNsaWNlIiwic3BhbiIsIm1zZyIsImluZGV4IiwiZm9ybSIsIm9uU3VibWl0IiwiaW5wdXQiLCJ0eXBlIiwib25DaGFuZ2UiLCJvbktleURvd24iLCJwbGFjZWhvbGRlciIsImRpc2FibGVkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/_components/terminal/_components/chatMessages.tsx\n"));

/***/ })

});