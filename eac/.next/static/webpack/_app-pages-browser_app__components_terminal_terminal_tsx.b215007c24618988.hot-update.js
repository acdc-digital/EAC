"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_app__components_terminal_terminal_tsx",{

/***/ "(app-pages-browser)/./app/_components/terminal/_components/chatMessages.tsx":
/*!***************************************************************!*\
  !*** ./app/_components/terminal/_components/chatMessages.tsx ***!
  \***************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatMessages: () => (/* binding */ ChatMessages)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../node_modules/.pnpm/next@15.3.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _convex_generated_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/convex/_generated/api */ \"(app-pages-browser)/./convex/_generated/api.js\");\n/* harmony import */ var _lib_hooks_useChat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/hooks/useChat */ \"(app-pages-browser)/./lib/hooks/useChat.ts\");\n/* harmony import */ var _lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/hooks/useInstructions */ \"(app-pages-browser)/./lib/hooks/useInstructions.ts\");\n/* harmony import */ var _lib_hooks_useMCP__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/hooks/useMCP */ \"(app-pages-browser)/./lib/hooks/useMCP.ts\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/store */ \"(app-pages-browser)/./store/index.ts\");\n/* harmony import */ var _store_terminal_chat__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/store/terminal/chat */ \"(app-pages-browser)/./store/terminal/chat.ts\");\n/* harmony import */ var _store_terminal_session__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/store/terminal/session */ \"(app-pages-browser)/./store/terminal/session.ts\");\n/* harmony import */ var _clerk_nextjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @clerk/nextjs */ \"(app-pages-browser)/../node_modules/.pnpm/@clerk+clerk-react@5.38.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@clerk/clerk-react/dist/index.mjs\");\n/* harmony import */ var convex_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! convex/react */ \"(app-pages-browser)/../node_modules/.pnpm/convex@1.25.4_@clerk+clerk-react@5.38.0_react-dom@18.3.1_react@18.3.1__react@18.3.1__react@18.3.1/node_modules/convex/dist/esm/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../node_modules/.pnpm/next@15.3.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _editInstructionsInput__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./editInstructionsInput */ \"(app-pages-browser)/./app/_components/terminal/_components/editInstructionsInput.tsx\");\n/* harmony import */ var _fileNameInput__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./fileNameInput */ \"(app-pages-browser)/./app/_components/terminal/_components/fileNameInput.tsx\");\n/* harmony import */ var _fileSelector__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./fileSelector */ \"(app-pages-browser)/./app/_components/terminal/_components/fileSelector.tsx\");\n/* harmony import */ var _fileTypeSelector__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./fileTypeSelector */ \"(app-pages-browser)/./app/_components/terminal/_components/fileTypeSelector.tsx\");\n/* harmony import */ var _markdownRenderer__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./markdownRenderer */ \"(app-pages-browser)/./app/_components/terminal/_components/markdownRenderer.tsx\");\n/* harmony import */ var _projectNameInput__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./projectNameInput */ \"(app-pages-browser)/./app/_components/terminal/_components/projectNameInput.tsx\");\n/* harmony import */ var _projectSelector__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./projectSelector */ \"(app-pages-browser)/./app/_components/terminal/_components/projectSelector.tsx\");\n// Simplified Chat Messages Component - No Slash Commands\n// /Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\n/* __next_internal_client_entry_do_not_use__ ChatMessages auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ChatMessages() {\n    _s();\n    const scrollRef = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n    const processedOperations = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(new Set());\n    const [message, setMessage] = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(\"\");\n    const [activeAgentProcess, setActiveAgentProcess] = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(null);\n    // Debug logging for activeAgentProcess changes\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            console.log('activeAgentProcess changed:', activeAgentProcess);\n        }\n    }[\"ChatMessages.useEffect\"], [\n        activeAgentProcess\n    ]);\n    const { user, isLoaded } = (0,_clerk_nextjs__WEBPACK_IMPORTED_MODULE_17__.useUser)();\n    const { initializeUserSession, addTerminalFeedback, setSessionId } = (0,_store_terminal_chat__WEBPACK_IMPORTED_MODULE_6__.useChatStore)();\n    const { activeSessionId } = (0,_store_terminal_session__WEBPACK_IMPORTED_MODULE_7__.useSessionStore)();\n    const { messages, isLoading: chatLoading, sendMessage, sendMessageWithStreaming, sessionId, storeChatMessage, addTerminalFeedback: useTerminalFeedback, streamingThinking, isStreamingThinking, messageCount, isNearSessionLimit, isAtSessionLimit, canAddMessages, getSessionStatus, startNewSession } = (0,_lib_hooks_useChat__WEBPACK_IMPORTED_MODULE_2__.useChat)();\n    // Query for agent progress\n    const agentProgress = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.chat.getAgentProgress, {\n        sessionId\n    });\n    const { isConnected: mcpConnected, isLoading: mcpLoading, error: mcpError, availableTools, processNaturalLanguage } = (0,_lib_hooks_useMCP__WEBPACK_IMPORTED_MODULE_4__.useMCP)();\n    // Agent execution and mutations\n    const { agents, activeAgentId, setActiveAgent, executeAgentTool } = (0,_store__WEBPACK_IMPORTED_MODULE_5__.useAgentStore)();\n    const createInstruction = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.createInstructionFile);\n    const ensureInstructionsProject = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.projects.ensureInstructionsProject);\n    const upsertPost = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.socialPosts.upsertPost);\n    const schedulePost = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.socialPosts.schedulePost);\n    const createContentCreationFile = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.createContentCreationFile);\n    const createProject = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.projects.createProject);\n    const createFile = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.createFile);\n    const getAllUserFiles = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.getAllUserFiles, {});\n    const updateInteractiveComponent = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.chat.updateInteractiveComponent);\n    const editFileWithAI = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useAction)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.editorActions.editFileWithAI);\n    const updateFileContent = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.updateFileContent);\n    const allPosts = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.socialPosts.getAllPosts, {});\n    const allProjects = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.projects.getProjects, {});\n    const instructionContext = (0,_lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructionContext)();\n    const { isLoading: instructionsLoading } = (0,_lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructions)();\n    const { createNewFile } = (0,_store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore)();\n    const isLoading = chatLoading || mcpLoading || instructionsLoading;\n    // Auto-scroll to bottom when new messages arrive\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (scrollRef.current) {\n                scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        messages\n    ]);\n    // Initialize user session when component mounts and user is loaded\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (isLoaded && user && !sessionId) {\n                console.log(\"ðŸ”„ Initializing user session...\", {\n                    userId: user.id\n                });\n                initializeUserSession(user.id);\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        user,\n        isLoaded,\n        sessionId,\n        initializeUserSession\n    ]);\n    // Sync session ID if active session changes\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (activeSessionId && activeSessionId !== sessionId) {\n                console.log(\"ðŸ”„ Syncing to active session:\", activeSessionId);\n                setSessionId(activeSessionId);\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        activeSessionId,\n        sessionId,\n        setSessionId\n    ]);\n    // Clear active agent process after timeout\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (activeAgentProcess) {\n                const timeout = setTimeout({\n                    \"ChatMessages.useEffect.timeout\": ()=>{\n                        const age = Date.now() - activeAgentProcess.timestamp;\n                        if (age > 5 * 60 * 1000) {\n                            setActiveAgentProcess(null);\n                        }\n                    }\n                }[\"ChatMessages.useEffect.timeout\"], 5 * 60 * 1000);\n                return ({\n                    \"ChatMessages.useEffect\": ()=>clearTimeout(timeout)\n                })[\"ChatMessages.useEffect\"];\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        activeAgentProcess\n    ]);\n    // DISABLED: Process messages with operations to create UI files\n    // This is now handled by useFileLoad hook which syncs from Convex to local store\n    /*\n  useEffect(() => {\n    if (!messages) return;\n    \n    console.log('ðŸ” Processing messages for operations:', {\n      totalMessages: messages.length,\n      recentMessagesCount: messages.slice(-10).length,\n      processedCount: processedOperations.current.size\n    });\n    \n    // Look for messages with operations that need UI processing\n    const recentMessages = messages.slice(-10); // Check last 10 messages\n    \n    recentMessages.forEach((message: any, index) => {\n      console.log(`ðŸ” Message ${index}:`, {\n        id: message._id,\n        role: message.role,\n        hasOperation: !!message.operation,\n        operationType: message.operation?.type,\n        operationDetails: message.operation?.details,\n        contentPreview: message.content?.substring(0, 100),\n        alreadyProcessed: processedOperations.current.has(message._id)\n      });\n      \n      if (message.operation?.type === 'file_created' && message._id) {\n        // Skip if already processed\n        if (processedOperations.current.has(message._id)) {\n          console.log(`â­ï¸ Skipping already processed message: ${message._id}`);\n          return;\n        }\n        \n        const { fileName, fileType, content, platformData, agentType } = message.operation.details;\n        \n        console.log('ðŸ” File creation operation found:', {\n          fileName,\n          fileType,\n          agentType,\n          hasContent: !!content,\n          contentLength: content?.length || 0,\n          willProcess: agentType === 'twitter' && content\n        });\n        \n        // Only process Twitter agent files for UI creation that have content\n        if (agentType === 'twitter' && content) {\n          console.log('ðŸ”„ Processing social file operation:', {\n            fileName,\n            fileType,\n            content: content,\n            contentLength: content?.length || 0,\n            contentType: typeof content,\n            messageId: message._id,\n            platformData: platformData,\n            allDetails: message.operation.details\n          });\n          \n          // Mark as processed FIRST to prevent race conditions\n          processedOperations.current.add(message._id);\n          \n          // Parse the platform data with error handling\n          let platformDataObj;\n          try {\n            platformDataObj = platformData ? JSON.parse(platformData) : {};\n          } catch (error) {\n            console.warn('âš ï¸ Failed to parse platform data, using defaults:', error);\n            platformDataObj = {\n              replySettings: 'following',\n              scheduledDate: '',\n              scheduledTime: '',\n              isThread: false\n            };\n          }\n          \n          // Create the content for the Twitter post file in the expected format\n          const postContent = `# ${fileName.replace(/\\.[^/.]+$/, \"\")} - X (Twitter) Post\nPlatform: X (Twitter)\nCreated: ${new Date().toLocaleDateString()}\n\n## Post Content\n${content}\n\n## Settings\n- Reply Settings: ${platformDataObj.replySettings || 'following'}\n- Schedule: ${platformDataObj.scheduledDate && platformDataObj.scheduledTime ? `${platformDataObj.scheduledDate} ${platformDataObj.scheduledTime}` : 'Now'}\n- Thread: ${platformDataObj.isThread ? 'Multi-tweet Thread' : 'Single Tweet'}\n\n## Media\n- Images: []\n- Videos: []\n\n## Analytics\n- Impressions: 0\n- Engagements: 0\n- Likes: 0\n- Shares: 0`;\n\n          // Get the createNewFile function from the store at execution time\n          const { createNewFile, projectFolders } = useEditorStore.getState();\n          \n          // Find the Content Creation folder ID\n          const contentCreationFolder = projectFolders.find(folder => \n            folder.name === 'Content Creation'\n          );\n          \n          if (contentCreationFolder) {\n            // Create the file in the Content Creation folder\n            createNewFile(\n              fileName,\n              'x', // Use 'x' type for Twitter files\n              'project',\n              contentCreationFolder.id,\n              postContent\n            );\n            \n            console.log('âœ… Created social file in UI:', fileName);\n          } else {\n            console.warn('âš ï¸ Content Creation folder not found');\n            \n            // Create without folder ID if folder not found\n            createNewFile(\n              fileName,\n              'x',\n              'project',\n              undefined,\n              postContent\n            );\n          }\n        }\n      }\n    });\n  }, [messages]); // Removed createNewFile from dependencies to prevent re-runs on panel switches\n  */ // Helper function to strip markdown formatting\n    const stripMarkdown = (text)=>{\n        return text.replace(/#{1,6}\\s*/g, '') // Remove headers\n        .replace(/\\*\\*(.*?)\\*\\*/g, '$1') // Remove **bold**\n        .replace(/\\*(.*?)\\*/g, '$1') // Remove *italic*\n        .replace(/`([^`]+)`/g, '$1') // Remove `code`\n        .replace(/^\\s*[-*+]\\s+/gm, 'â€¢ ') // Convert markdown lists to bullet points\n        .replace(/^\\s*\\d+\\.\\s+/gm, 'â€¢ ') // Convert numbered lists to bullet points\n        .replace(/\\n\\s*\\n\\s*\\n/g, '\\n\\n') // Reduce multiple blank lines to double\n        .split('\\n') // Split into lines for processing\n        .map((line)=>{\n            // Add spacing after section headers (lines that don't start with bullet points)\n            if (line.trim() && !line.startsWith('â€¢') && !line.startsWith(' ') && line.length > 0) {\n                return line + '\\n'; // Add extra newline after headers\n            }\n            return line;\n        }).join('\\n').replace(/\\n{3,}/g, '\\n\\n') // Clean up excessive newlines\n        .trim();\n    };\n    // Helper function to detect MCP-related queries (excluding direct tool commands)\n    const isMCPQuery = (text)=>{\n        // Don't treat direct tool commands as NLP queries\n        if (text.startsWith('/')) return false;\n        // Look for keywords that suggest MCP analysis would be helpful\n        const mcpKeywords = [\n            'analyze',\n            'examine',\n            'review',\n            'explain',\n            'understand',\n            'architecture',\n            'structure',\n            'code',\n            'component',\n            'function',\n            'implementation',\n            'pattern',\n            'best practice',\n            'issue',\n            'bug',\n            'error',\n            'performance',\n            'optimization',\n            'refactor',\n            'improvement',\n            'documentation',\n            'overview',\n            'summary',\n            'how does',\n            'what is',\n            'why is',\n            'where is',\n            'when is',\n            'which'\n        ];\n        const lowerText = text.toLowerCase();\n        return mcpKeywords.some((keyword)=>lowerText.includes(keyword));\n    };\n    const handleToolSelectorClose = ()=>{\n        var _inputRef_current;\n        setMessage(\"\");\n        (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n    };\n    // Helper function to create convexMutations object for agents\n    const createConvexMutations = ()=>{\n        return {\n            ensureInstructionsProject,\n            createInstructionFile: createInstruction,\n            upsertPost,\n            schedulePost,\n            createContentCreationFile,\n            createProject: async (params)=>{\n                return await createProject({\n                    name: params.name,\n                    description: params.description,\n                    status: params.status || 'active',\n                    budget: params.budget\n                });\n            },\n            getProjects: async ()=>{\n                return allProjects || [];\n            },\n            getAllFiles: async ()=>{\n                return getAllUserFiles || [];\n            },\n            storeChatMessage: async (params)=>{\n                return await storeChatMessage({\n                    role: params.role,\n                    content: params.content,\n                    sessionId: params.sessionId || sessionId,\n                    operation: params.operation,\n                    processIndicator: params.processIndicator,\n                    interactiveComponent: params.interactiveComponent\n                });\n            },\n            updateInteractiveComponent: async (params)=>{\n                return await updateInteractiveComponent({\n                    messageId: params.messageId,\n                    status: params.status,\n                    result: params.result\n                });\n            },\n            createFile: async (params)=>{\n                return await createFile({\n                    name: params.name,\n                    type: params.type,\n                    projectId: params.projectId,\n                    content: params.content,\n                    extension: params.extension,\n                    platform: params.platform,\n                    size: params.size\n                });\n            },\n            getAllPosts: async ()=>{\n                return allPosts || [];\n            },\n            editFileWithAI: async (params)=>{\n                return await editFileWithAI({\n                    fileName: params.fileName,\n                    originalContent: params.originalContent,\n                    editInstructions: params.editInstructions,\n                    fileType: params.fileType\n                });\n            },\n            updateFileContent: async (params)=>{\n                return await updateFileContent({\n                    fileId: params.fileId,\n                    content: params.content\n                });\n            },\n            // Campaign-related functions (simplified for now)\n            createCampaign: async (params)=>{\n                // For now, just return a simple campaign ID since the API isn't ready\n                console.log('Campaign creation requested:', params);\n                return {\n                    _id: \"campaign_\".concat(Date.now())\n                };\n            },\n            createPostsBatch: async (params)=>{\n                // For now, just log the batch creation\n                console.log('Batch posts creation requested:', params);\n                return params.posts.map((_, index)=>\"post_\".concat(Date.now(), \"_\").concat(index));\n            }\n        };\n    };\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        // Check session limit before processing\n        if (!canAddMessages()) {\n            console.warn(\"Cannot send message: Session limit reached\");\n            // Add a terminal feedback message about the limit\n            await storeChatMessage({\n                role: \"terminal\",\n                content: \"[\".concat(new Date().toLocaleTimeString('en-US', {\n                    hour12: false,\n                    hour: '2-digit',\n                    minute: '2-digit',\n                    second: '2-digit'\n                }), \"] \\uD83D\\uDEA8 Message not sent: Session limit reached (500 messages)\\nPlease start a new session to continue chatting.\"),\n                sessionId\n            });\n            return;\n        }\n        if (message.trim() && !isLoading) {\n            const messageContent = message.trim();\n            console.log('ðŸ’¬ User submitting message:', messageContent);\n            setMessage(\"\");\n            // Check if this is an agent command when an agent is active\n            // BUT only route to editor agent if it has a selected file and is waiting for edit instructions\n            if (activeAgentId && !messageContent.startsWith('/')) {\n                console.log('ðŸ¤– Checking if should route to active agent:', activeAgentId);\n                let shouldRouteToAgent = true;\n                // Special handling for editor agent - only route if file is selected and waiting for edit instructions\n                if (activeAgentId === 'editor') {\n                    const { EditorAgent } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/store/agents/editorAgent */ \"(app-pages-browser)/./store/agents/editorAgent.ts\"));\n                    const hasSelectedFile = EditorAgent.selectedFile !== null;\n                    const isWaitingForEditInstructions = EditorAgent.currentStep === 'edit-request';\n                    console.log('ðŸ” Editor agent state check:', {\n                        hasSelectedFile,\n                        isWaitingForEditInstructions,\n                        selectedFile: EditorAgent.selectedFile,\n                        currentStep: EditorAgent.currentStep\n                    });\n                    // If no file selected, agent should show file selector\n                    // If file selected and waiting for instructions, agent should process the edit\n                    // Always route to editor agent when it's active\n                    shouldRouteToAgent = true;\n                }\n                if (shouldRouteToAgent) {\n                    console.log('ðŸ¤– Routing to active agent:', activeAgentId);\n                    try {\n                        var _lastMessage_processIndicator;\n                        console.log(\"\\uD83E\\uDD16 Executing agent \".concat(activeAgentId, \" with message: \").concat(messageContent));\n                        // Create convex mutations for the agent\n                        const convexMutations = createConvexMutations();\n                        // Check if the last message was an agent waiting for input\n                        const lastMessage = messages && messages.length > 0 ? messages[messages.length - 1] : null;\n                        const isFollowUpToWaitingAgent = lastMessage && lastMessage.role === 'assistant' && ((_lastMessage_processIndicator = lastMessage.processIndicator) === null || _lastMessage_processIndicator === void 0 ? void 0 : _lastMessage_processIndicator.type) === 'waiting';\n                        console.log('Pre-execution state:', {\n                            lastMessage: lastMessage ? {\n                                role: lastMessage.role,\n                                processIndicator: lastMessage.processIndicator,\n                                contentPreview: lastMessage.content.substring(0, 50)\n                            } : null,\n                            isFollowUpToWaitingAgent\n                        });\n                        // Find the active agent and its default tool\n                        const activeAgent = agents.find((agent)=>agent.id === activeAgentId);\n                        if (activeAgent && activeAgent.tools.length > 0) {\n                            const defaultTool = activeAgent.tools[0]; // Use the first tool as default\n                            // âœ… FIX #1: Always store the user message first, regardless of agent result\n                            await storeChatMessage({\n                                role: \"user\",\n                                content: messageContent,\n                                sessionId,\n                                processIndicator: isFollowUpToWaitingAgent ? {\n                                    type: 'continuing',\n                                    processType: 'file-creation',\n                                    color: 'blue'\n                                } : undefined\n                            });\n                            // Execute the agent tool\n                            const result = await executeAgentTool(activeAgentId, defaultTool.id, messageContent, convexMutations, sessionId);\n                            // Handle empty results from interactive components\n                            if (!result || result.trim() === \"\") {\n                                console.log('Agent returned empty result - this is expected for interactive components');\n                                // User message was already stored above - interactive component handles the UI\n                                return;\n                            }\n                            // Check if result indicates waiting for user input (project selection)\n                            const isWaitingForInput = result.includes(\"ðŸŽ¯ Select a project:\") || result.includes(\"ðŸ’¡ **Next message:** Just type your selection!\") || result.includes(\"Which Project?\") || result.includes(\"Available Projects:\");\n                            // Check if result indicates successful completion\n                            const isCompletionResponse = result.includes(\"âœ… **File Created Successfully!**\") || result.includes(\"File Created Successfully!\") || result.includes(\"**Next Steps:**\") || result.includes(\"Next Steps:\");\n                            console.log('Agent Execution Debug:', {\n                                activeAgentId,\n                                result: result.substring(0, 200) + '...',\n                                isWaitingForInput,\n                                isCompletionResponse,\n                                isFollowUpToWaitingAgent,\n                                hasSelectProject: result.includes(\"ðŸŽ¯ Select a project:\"),\n                                hasNextMessage: result.includes(\"ðŸ’¡ **Next message:** Just type your selection!\"),\n                                hasWhichProject: result.includes(\"Which Project?\"),\n                                hasAvailableProjects: result.includes(\"Available Projects:\"),\n                                hasFileCreated: result.includes(\"âœ… **File Created Successfully!**\"),\n                                hasNextSteps: result.includes(\"**Next Steps:**\")\n                            });\n                            if (isWaitingForInput) {\n                                console.log('Setting active agent process for file creation');\n                                setActiveAgentProcess({\n                                    agentId: activeAgentId,\n                                    processType: 'file-creation',\n                                    timestamp: Date.now()\n                                });\n                            } else {\n                                console.log('Clearing active agent process - agent completed');\n                                // Clear active process when agent completes\n                                setActiveAgentProcess(null);\n                                // For editor agent, keep it active during the file selection workflow\n                                // Only clear it when the editing is actually complete\n                                if (activeAgentId === 'editor') {\n                                    // Check if editor agent is waiting for edit instructions after file selection\n                                    const { EditorAgent } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/store/agents/editorAgent */ \"(app-pages-browser)/./store/agents/editorAgent.ts\"));\n                                    if (EditorAgent.currentStep === 'edit-request' && EditorAgent.selectedFile) {\n                                        console.log('Keeping editor agent active - waiting for edit instructions');\n                                    // Keep the agent active to receive editing instructions\n                                    } else if (EditorAgent.currentStep === 'file-selection') {\n                                        console.log('Keeping editor agent active - waiting for file selection');\n                                    // Keep the agent active during file selection\n                                    } else {\n                                        console.log('Clearing editor agent - editing complete');\n                                        setActiveAgent(null);\n                                    }\n                                } else {\n                                    // Clear active agent ID if the result indicates interactive components are shown\n                                    // This prevents subsequent text input from being routed back to the agent\n                                    if (result.includes(\"Select a file to edit\") || result.includes(\"file_selector\") || result.includes(\"Choose a file from the selector\")) {\n                                        console.log('Clearing active agent ID - interactive component shown');\n                                        setActiveAgent(null);\n                                    }\n                                }\n                            }\n                            // Store agent result with process indicators (user message already stored above)\n                            await storeChatMessage({\n                                role: \"assistant\",\n                                content: \"\\uD83E\\uDD16 **\".concat(activeAgent.name, \" Agent Result:**\\n\\n\").concat(result),\n                                sessionId,\n                                processIndicator: isWaitingForInput || isCompletionResponse || isFollowUpToWaitingAgent ? {\n                                    type: 'waiting',\n                                    processType: 'file-creation',\n                                    color: 'green'\n                                } : undefined\n                            });\n                            // Debug log for what processIndicator was set\n                            console.log('StoreChatMessage Debug:', {\n                                messageType: 'assistant',\n                                willHaveProcessIndicator: !!(isWaitingForInput || isCompletionResponse || isFollowUpToWaitingAgent),\n                                isWaitingForInput,\n                                isCompletionResponse,\n                                isFollowUpToWaitingAgent,\n                                resultSnippet: result.substring(0, 100)\n                            });\n                            return;\n                        }\n                    } catch (error) {\n                        console.error('Agent execution error:', error);\n                        // Store the user message and error\n                        await storeChatMessage({\n                            role: \"user\",\n                            content: messageContent,\n                            sessionId\n                        });\n                        await storeChatMessage({\n                            role: \"assistant\",\n                            content: \"âŒ Agent execution failed: \".concat(error instanceof Error ? error.message : 'Unknown error'),\n                            sessionId\n                        });\n                        return;\n                    }\n                } // Close the if (shouldRouteToAgent) block\n            }\n            // Check if this looks like a natural language MCP query\n            if (mcpConnected && isMCPQuery(messageContent)) {\n                try {\n                    const mcpResponse = await processNaturalLanguage(messageContent);\n                    if (mcpResponse.success && mcpResponse.content && mcpResponse.content.length > 0) {\n                        // Extract the actual text content from the MCP response\n                        const textContent = mcpResponse.content[0].text;\n                        // Strip markdown formatting and convert to plain text\n                        const plainText = stripMarkdown(textContent);\n                        // Send the MCP response with clean text content\n                        await sendMessage(\"\\uD83E\\uDD16 MCP Analysis:\\n\\n\".concat(plainText));\n                    } else {\n                        await sendMessage(messageContent);\n                    }\n                } catch (error) {\n                    console.error('MCP Error:', error);\n                    // Fall back to regular chat\n                    await sendMessage(messageContent);\n                }\n            } else {\n                // Regular chat message - add instruction context if available\n                let contextualMessage = messageContent;\n                if (instructionContext) {\n                    contextualMessage = \"\".concat(instructionContext, \"\\n\\n---\\n\\n\").concat(messageContent);\n                }\n                // Always use streaming thinking for all messages (thinking enabled by default)\n                await sendMessageWithStreaming(contextualMessage, messageContent);\n            }\n        }\n    };\n    const handleKeyDown = (e)=>{\n        if (e.key === 'Enter' && !e.shiftKey) {\n            e.preventDefault();\n            handleSubmit(e);\n        }\n    };\n    const handleInputChange = (e)=>{\n        const value = e.target.value;\n        setMessage(value);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex-1 flex flex-col min-h-0\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: scrollRef,\n                className: \"flex-1 overflow-y-auto bg-[#0e0e0e] p-2 pb-8 min-h-0 scrollbar-hidden\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"font-mono text-xs space-y-2 min-h-full\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-[#cccccc] space-y-1 mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: \"EAC Financial Dashboard - AI Assistant\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 665,\n                                    columnNumber: 13\n                                }, this),\n                                mcpError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#f48771] text-xs\",\n                                    children: [\n                                        \"MCP Error: \",\n                                        mcpError\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 667,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#858585] mt-2\",\n                                    children: \"AI Assistant ready for EAC project questions.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 669,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#858585] text-xs\",\n                                    children: [\n                                        \"Session: \",\n                                        sessionId.slice(-8)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 670,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#858585] text-xs\",\n                                    children: [\n                                        \"Messages: \",\n                                        messageCount,\n                                        \"/500\",\n                                        isNearSessionLimit && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-[#f48771] ml-2\",\n                                            children: \"âš ï¸ Approaching limit\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                            lineNumber: 676,\n                                            columnNumber: 17\n                                        }, this),\n                                        isAtSessionLimit && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-[#f48771] ml-2\",\n                                            children: \"\\uD83D\\uDEA8 Session full\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                            lineNumber: 679,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 673,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 664,\n                            columnNumber: 11\n                        }, this),\n                        messages === null || messages === void 0 ? void 0 : messages.map((msg, index)=>{\n                            var _msg_processIndicator_processType, _msg_processIndicator, _msg_interactiveComponent_data, _msg_interactiveComponent_data1, _msg_interactiveComponent_result, _msg_interactiveComponent_result1, _msg_interactiveComponent_data2, _msg_interactiveComponent_data3, _msg_interactiveComponent_data4, _msg_interactiveComponent_data5, _msg_interactiveComponent_data6, _msg_interactiveComponent_data7, _msg_interactiveComponent_result2, _msg_interactiveComponent_data8, _msg_interactiveComponent_data9, _msg_interactiveComponent_data10;\n                            // Use the stored processIndicator for visual continuity\n                            const hasProcessIndicator = msg.processIndicator;\n                            const isUserProcessMessage = hasProcessIndicator && msg.role === 'user' && hasProcessIndicator.type === 'continuing';\n                            const isAgentProcessMessage = hasProcessIndicator && msg.role === 'assistant' && hasProcessIndicator.type === 'waiting';\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1\",\n                                children: [\n                                    msg.role === 'user' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#007acc] \".concat(isUserProcessMessage ? 'border-l-4 border-[#0078d4] pl-3' : ''),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[#007acc]\",\n                                                children: \"$ user:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 697,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"ml-1 text-[#cccccc]\",\n                                                children: msg.content\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 698,\n                                                columnNumber: 21\n                                            }, this),\n                                            isUserProcessMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-[10px] text-[#0078d4] mt-1 opacity-80\",\n                                                children: [\n                                                    \"â†³ Continuing \",\n                                                    (_msg_processIndicator = msg.processIndicator) === null || _msg_processIndicator === void 0 ? void 0 : (_msg_processIndicator_processType = _msg_processIndicator.processType) === null || _msg_processIndicator_processType === void 0 ? void 0 : _msg_processIndicator_processType.replace('-', ' '),\n                                                    \"...\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 700,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 696,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.role === 'assistant' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#4ec9b0] \".concat(isAgentProcessMessage ? 'border-l-4 border-[#4ec9b0] pl-3' : ''),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[#4ec9b0]\",\n                                                children: \"$ assistant:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 708,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"ml-1\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_markdownRenderer__WEBPACK_IMPORTED_MODULE_14__.MarkdownRenderer, {\n                                                    content: msg.content\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                    lineNumber: 710,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 709,\n                                                columnNumber: 21\n                                            }, this),\n                                            msg.interactiveComponent && (msg.interactiveComponent.status === 'pending' || msg.interactiveComponent.status === 'completed') && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-3 ml-1\",\n                                                children: [\n                                                    msg.interactiveComponent.type === 'project_selector' && !((_msg_interactiveComponent_data = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data === void 0 ? void 0 : _msg_interactiveComponent_data.projectNameInput) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_projectSelector__WEBPACK_IMPORTED_MODULE_16__.ProjectSelector, {\n                                                        fileDetails: (_msg_interactiveComponent_data1 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data1 === void 0 ? void 0 : _msg_interactiveComponent_data1.fileDetails,\n                                                        disabled: msg.interactiveComponent.status === 'completed',\n                                                        selectedProject: msg.interactiveComponent.status === 'completed' ? (_msg_interactiveComponent_result = msg.interactiveComponent.result) === null || _msg_interactiveComponent_result === void 0 ? void 0 : _msg_interactiveComponent_result.selectedProject : undefined,\n                                                        onProjectSelected: async (project)=>{\n                                                            try {\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        selectedProject: project\n                                                                    }\n                                                                });\n                                                                // Continue the file creation process\n                                                                const convexMutations = createConvexMutations();\n                                                                const fileCreatorAgent = agents.find((a)=>a.id === 'file-creator');\n                                                                if (fileCreatorAgent) {\n                                                                    var _result_trim;\n                                                                    // Simulate user input for project selection\n                                                                    const projectSelectionInput = \"Add it to \".concat(project.name);\n                                                                    // Send user message showing the selection\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: \"Selected project: \".concat(project.name),\n                                                                        sessionId: sessionId,\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'project_selection',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    // Execute the agent with the selection\n                                                                    console.log('ðŸš€ Executing agent with project selection:', projectSelectionInput);\n                                                                    console.log('ðŸ”§ Agent details:', {\n                                                                        agentId: fileCreatorAgent.id,\n                                                                        toolId: fileCreatorAgent.tools[0].id,\n                                                                        toolName: fileCreatorAgent.tools[0].name,\n                                                                        convexMutationsAvailable: {\n                                                                            createFile: !!convexMutations.createFile,\n                                                                            getProjects: !!convexMutations.getProjects,\n                                                                            storeChatMessage: !!convexMutations.storeChatMessage\n                                                                        }\n                                                                    });\n                                                                    const result = await executeAgentTool(fileCreatorAgent.id, fileCreatorAgent.tools[0].id, projectSelectionInput, convexMutations, sessionId);\n                                                                    console.log('ðŸ“¥ Agent execution result:', result);\n                                                                    console.log('ðŸ“ Result length:', (result === null || result === void 0 ? void 0 : result.length) || 0);\n                                                                    console.log('ðŸ“‹ Result content preview:', result === null || result === void 0 ? void 0 : result.substring(0, 100));\n                                                                    console.log('ðŸ” Result type:', typeof result);\n                                                                    console.log('ðŸŽ¯ Is result truthy:', !!result);\n                                                                    console.log('ðŸŽ¯ Is result empty string:', result === \"\");\n                                                                    console.log('ðŸŽ¯ Result trimmed length:', (result === null || result === void 0 ? void 0 : (_result_trim = result.trim()) === null || _result_trim === void 0 ? void 0 : _result_trim.length) || 0);\n                                                                    // Only store non-empty results\n                                                                    if (result && result.trim() !== \"\") {\n                                                                        console.log('âœ… Storing success message to chat...');\n                                                                        console.log('ðŸ“‹ Current session ID:', sessionId);\n                                                                        console.log('ðŸ“‹ Message content length:', result.length);\n                                                                        // Store the agent's response\n                                                                        const storedMessage = await storeChatMessage({\n                                                                            role: 'assistant',\n                                                                            content: result,\n                                                                            sessionId: sessionId,\n                                                                            processIndicator: {\n                                                                                type: 'waiting',\n                                                                                processType: 'file_creation_complete',\n                                                                                color: 'green'\n                                                                            }\n                                                                        });\n                                                                        console.log('âœ… Success message stored to chat!');\n                                                                        console.log('ðŸ“‹ Stored message result:', storedMessage);\n                                                                        // Wait a moment and check if the message appears in the messages array\n                                                                        setTimeout(()=>{\n                                                                            var _messages__content, _messages_, _messages_1;\n                                                                            console.log('ðŸ” Messages after success storage:', {\n                                                                                totalMessages: (messages === null || messages === void 0 ? void 0 : messages.length) || 0,\n                                                                                lastMessage: (messages === null || messages === void 0 ? void 0 : (_messages_ = messages[messages.length - 1]) === null || _messages_ === void 0 ? void 0 : (_messages__content = _messages_.content) === null || _messages__content === void 0 ? void 0 : _messages__content.substring(0, 50)) + '...',\n                                                                                lastMessageRole: messages === null || messages === void 0 ? void 0 : (_messages_1 = messages[messages.length - 1]) === null || _messages_1 === void 0 ? void 0 : _messages_1.role,\n                                                                                sessionId: sessionId\n                                                                            });\n                                                                        }, 1000);\n                                                                    } else {\n                                                                        console.log('âš ï¸ Agent returned empty result after project selection');\n                                                                    }\n                                                                }\n                                                            } catch (error) {\n                                                                console.error('Error handling project selection:', error);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: 'âŒ Error processing project selection. Please try again.'\n                                                                });\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: 'âŒ File creation cancelled. You can start a new file creation request anytime.'\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling project selection:', error);\n                                                            }\n                                                        },\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 717,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    msg.interactiveComponent.type === 'file_selector' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_fileSelector__WEBPACK_IMPORTED_MODULE_12__.FileSelector, {\n                                                        disabled: msg.interactiveComponent.status === 'completed',\n                                                        selectedFile: msg.interactiveComponent.status === 'completed' ? (_msg_interactiveComponent_result1 = msg.interactiveComponent.result) === null || _msg_interactiveComponent_result1 === void 0 ? void 0 : _msg_interactiveComponent_result1.selectedFile : undefined,\n                                                        onFileSelected: async (file)=>{\n                                                            try {\n                                                                console.log('ðŸ”¥ [FileSelector] File selected callback triggered:', file);\n                                                                // Use the file name for database storage but pass complete object to agent\n                                                                const filePath = file.name || file.path || file.id;\n                                                                console.log('ðŸ”¥ [FileSelector] Updating interactive component status');\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        selectedFile: filePath\n                                                                    }\n                                                                });\n                                                                console.log('ðŸ”¥ [FileSelector] Continuing the file selection process');\n                                                                // Continue the file selection process based on the active agent\n                                                                const convexMutations = createConvexMutations();\n                                                                const activeAgent = agents.find((a)=>a.id === activeAgentId);\n                                                                if (activeAgent && activeAgentId === 'director') {\n                                                                    console.log('ðŸ”¥ [FileSelector] Found director agent, processing campaign instructions');\n                                                                    // Send user message showing the selection\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: \"Selected file: \".concat(file.name),\n                                                                        sessionId: sessionId,\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'file_selection',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    console.log('ðŸ”¥ [FileSelector] Executing director agent with file selection');\n                                                                    try {\n                                                                        const result = await executeAgentTool(activeAgentId, activeAgent.tools[0].command, \"Selected file: \".concat(file.name), convexMutations, sessionId);\n                                                                        console.log('ðŸ”¥ [FileSelector] Director agent execution result:', result);\n                                                                        // Store the director agent's response\n                                                                        await storeChatMessage({\n                                                                            role: 'assistant',\n                                                                            content: result,\n                                                                            sessionId,\n                                                                            operation: {\n                                                                                type: 'tool_executed',\n                                                                                details: {\n                                                                                    selectedFile: file.name,\n                                                                                    agentType: 'director'\n                                                                                }\n                                                                            }\n                                                                        });\n                                                                    } catch (error) {\n                                                                        console.error('âŒ [FileSelector] Error executing director agent:', error);\n                                                                    }\n                                                                } else if (activeAgent && activeAgentId === 'editor') {\n                                                                    console.log('ðŸ”¥ [FileSelector] Found editor agent, processing file edit');\n                                                                    // Send user message showing the selection\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: \"Selected file: \".concat(file.name),\n                                                                        sessionId: sessionId,\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'file_selection',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    console.log('ðŸ”¥ [FileSelector] Calling handleFileSelected method');\n                                                                    // Call the editor agent's handleFileSelected method with complete file object\n                                                                    try {\n                                                                        const { editorAgent: actualEditorAgent } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/store/agents/editorAgent */ \"(app-pages-browser)/./store/agents/editorAgent.ts\"));\n                                                                        console.log('ðŸ”¥ [FileSelector] Imported actual editor agent instance');\n                                                                        console.log('ðŸ”¥ [FileSelector] Agent has handleFileSelected:', 'handleFileSelected' in actualEditorAgent);\n                                                                        if ('handleFileSelected' in actualEditorAgent) {\n                                                                            await actualEditorAgent.handleFileSelected(sessionId, file);\n                                                                            console.log('ðŸ”¥ [FileSelector] handleFileSelected completed successfully');\n                                                                        } else {\n                                                                            console.error('âŒ [FileSelector] handleFileSelected method not found on editor agent');\n                                                                        }\n                                                                    } catch (error) {\n                                                                        console.error('âŒ [FileSelector] Error calling handleFileSelected:', error);\n                                                                    }\n                                                                    console.log('ðŸ”¥ [FileSelector] Storing message with edit instructions input');\n                                                                    // Show edit instructions input component\n                                                                    await storeChatMessage({\n                                                                        role: 'assistant',\n                                                                        content: \"âœ… **File Selected: \".concat(file.name, \"**\\n\\n\\uD83D\\uDCC4 **The file has been opened in the editor tab.**\"),\n                                                                        sessionId,\n                                                                        interactiveComponent: {\n                                                                            type: 'edit_instructions_input',\n                                                                            status: 'pending',\n                                                                            data: {\n                                                                                fileName: file.name,\n                                                                                placeholder: 'Describe what changes you want to make to this file...',\n                                                                                examples: [\n                                                                                    'Add a section about best practices',\n                                                                                    'Update the pricing information',\n                                                                                    'Make the tone more professional',\n                                                                                    'Fix any grammar or spelling errors',\n                                                                                    'Add examples and code snippets'\n                                                                                ]\n                                                                            }\n                                                                        }\n                                                                    });\n                                                                }\n                                                            } catch (error) {\n                                                                console.error('Error handling file selection:', error);\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: 'âŒ File editing cancelled. You can start a new edit request anytime.',\n                                                                    sessionId\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling file selection:', error);\n                                                            }\n                                                        },\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 839,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    msg.interactiveComponent.type === 'edit_instructions_input' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_editInstructionsInput__WEBPACK_IMPORTED_MODULE_10__.EditInstructionsInput, {\n                                                        placeholder: (_msg_interactiveComponent_data2 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data2 === void 0 ? void 0 : _msg_interactiveComponent_data2.placeholder,\n                                                        fileName: (_msg_interactiveComponent_data3 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data3 === void 0 ? void 0 : _msg_interactiveComponent_data3.fileName,\n                                                        examples: (_msg_interactiveComponent_data4 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data4 === void 0 ? void 0 : _msg_interactiveComponent_data4.examples,\n                                                        onInstructionsSubmitted: async (instructions)=>{\n                                                            try {\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        instructions\n                                                                    }\n                                                                });\n                                                                // Send user message showing the edit instructions\n                                                                await storeChatMessage({\n                                                                    role: 'user',\n                                                                    content: instructions,\n                                                                    sessionId: sessionId,\n                                                                    processIndicator: {\n                                                                        type: 'continuing',\n                                                                        processType: 'edit_instructions',\n                                                                        color: 'blue'\n                                                                    }\n                                                                });\n                                                                // Continue the editing process using agent registry\n                                                                const convexMutations = createConvexMutations();\n                                                                const result = await executeAgentTool('editor', 'edit-file', instructions, convexMutations, sessionId);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: result,\n                                                                    sessionId: sessionId\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error processing edit instructions:', error);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: \"âŒ **Error processing edit instructions**\\n\\n\".concat(error instanceof Error ? error.message : 'Unknown error occurred'),\n                                                                    sessionId: sessionId\n                                                                });\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: 'âŒ Edit instructions cancelled. You can start a new edit request anytime.',\n                                                                    sessionId\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling edit instructions:', error);\n                                                            }\n                                                        },\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 984,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    msg.interactiveComponent.type === 'project_selector' && ((_msg_interactiveComponent_data5 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data5 === void 0 ? void 0 : _msg_interactiveComponent_data5.projectNameInput) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_projectNameInput__WEBPACK_IMPORTED_MODULE_15__.ProjectNameInput, {\n                                                        placeholder: (_msg_interactiveComponent_data6 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data6 === void 0 ? void 0 : _msg_interactiveComponent_data6.placeholder,\n                                                        defaultValue: (_msg_interactiveComponent_data7 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data7 === void 0 ? void 0 : _msg_interactiveComponent_data7.defaultValue,\n                                                        onProjectNameSubmitted: async (projectName)=>{\n                                                            try {\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        projectName\n                                                                    }\n                                                                });\n                                                                // Continue the project creation process\n                                                                const convexMutations = createConvexMutations();\n                                                                const projectCreatorAgent = agents.find((a)=>a.id === 'project-creator');\n                                                                if (projectCreatorAgent) {\n                                                                    // Send user message showing the project name\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: \"Project name: \".concat(projectName),\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'project_name_input',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    // Execute the agent with the project name\n                                                                    console.log('ðŸš€ Executing agent with project name:', projectName);\n                                                                    const result = await executeAgentTool(projectCreatorAgent.id, projectCreatorAgent.tools[0].id, projectName, convexMutations);\n                                                                    console.log('ðŸ“¥ Agent execution result:', result);\n                                                                    // Only store non-empty results\n                                                                    if (result && result.trim() !== \"\") {\n                                                                        console.log('âœ… Storing project creation success message...');\n                                                                        // Store the agent's response\n                                                                        await storeChatMessage({\n                                                                            role: 'assistant',\n                                                                            content: result,\n                                                                            sessionId: sessionId,\n                                                                            processIndicator: {\n                                                                                type: 'waiting',\n                                                                                processType: 'project_creation_complete',\n                                                                                color: 'green'\n                                                                            }\n                                                                        });\n                                                                        console.log('âœ… Project creation success message stored!');\n                                                                    } else {\n                                                                        console.log('âš ï¸ Agent returned empty result after project name input');\n                                                                    }\n                                                                }\n                                                            } catch (error) {\n                                                                console.error('Error handling project name input:', error);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: 'âŒ Error processing project name. Please try again.'\n                                                                });\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: 'âŒ Project creation cancelled. You can start a new project creation request anytime.'\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling project name input:', error);\n                                                            }\n                                                        },\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 1053,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    msg.interactiveComponent.type === 'file_type_selector' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_fileTypeSelector__WEBPACK_IMPORTED_MODULE_13__.FileTypeSelector, {\n                                                        onFileTypeSelected: async (fileType)=>{\n                                                            try {\n                                                                // Create a serializable version of the fileType without React components\n                                                                const serializableFileType = {\n                                                                    type: fileType.type,\n                                                                    extension: fileType.extension,\n                                                                    description: fileType.description,\n                                                                    platform: fileType.platform,\n                                                                    available: fileType.available\n                                                                };\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        fileType: serializableFileType\n                                                                    }\n                                                                });\n                                                                // Continue the file creation process\n                                                                const convexMutations = createConvexMutations();\n                                                                const fileCreatorAgent = agents.find((a)=>a.id === 'file-creator');\n                                                                if (fileCreatorAgent) {\n                                                                    // Send user message showing the file type selection\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: \"Selected file type: \".concat(fileType.description),\n                                                                        sessionId: sessionId,\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'file_type_selection',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    // Execute the agent with the file type selection\n                                                                    console.log('ðŸš€ Executing file creator agent with file type:', fileType);\n                                                                    const result = await executeAgentTool(fileCreatorAgent.id, fileCreatorAgent.tools[0].id, \"File type: \".concat(fileType.type), convexMutations);\n                                                                    console.log('ðŸ“¥ File creator agent result:', result);\n                                                                    // Only store non-empty results\n                                                                    if (result && result.trim() !== \"\") {\n                                                                        console.log('âœ… Storing file type continuation message...');\n                                                                        // Store the agent's response\n                                                                        await storeChatMessage({\n                                                                            role: 'assistant',\n                                                                            content: result,\n                                                                            sessionId: sessionId,\n                                                                            processIndicator: {\n                                                                                type: 'waiting',\n                                                                                processType: 'file_type_continue',\n                                                                                color: 'green'\n                                                                            }\n                                                                        });\n                                                                        console.log('âœ… File type continuation message stored!');\n                                                                    } else {\n                                                                        console.log('âš ï¸ Agent returned empty result after file type selection');\n                                                                    }\n                                                                }\n                                                            } catch (error) {\n                                                                console.error('Error handling file type selection:', error);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: 'âŒ Error processing file type selection. Please try again.',\n                                                                    sessionId: sessionId\n                                                                });\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: 'âŒ File creation cancelled. You can start a new file creation request anytime.',\n                                                                    sessionId\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling file type selection:', error);\n                                                            }\n                                                        },\n                                                        disabled: msg.interactiveComponent.status === 'completed',\n                                                        selectedFileType: msg.interactiveComponent.status === 'completed' ? (_msg_interactiveComponent_result2 = msg.interactiveComponent.result) === null || _msg_interactiveComponent_result2 === void 0 ? void 0 : _msg_interactiveComponent_result2.fileType : undefined,\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 1139,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    msg.interactiveComponent.type === 'file_name_input' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_fileNameInput__WEBPACK_IMPORTED_MODULE_11__.FileNameInput, {\n                                                        placeholder: (_msg_interactiveComponent_data8 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data8 === void 0 ? void 0 : _msg_interactiveComponent_data8.placeholder,\n                                                        defaultValue: (_msg_interactiveComponent_data9 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data9 === void 0 ? void 0 : _msg_interactiveComponent_data9.defaultValue,\n                                                        fileType: (_msg_interactiveComponent_data10 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data10 === void 0 ? void 0 : _msg_interactiveComponent_data10.fileType,\n                                                        onFileNameSubmitted: async (fileName)=>{\n                                                            try {\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        fileName\n                                                                    }\n                                                                });\n                                                                // Continue the file creation process\n                                                                const convexMutations = createConvexMutations();\n                                                                const fileCreatorAgent = agents.find((a)=>a.id === 'file-creator');\n                                                                if (fileCreatorAgent) {\n                                                                    // Execute the agent with the file name FIRST\n                                                                    console.log('ðŸš€ Executing file creator agent with file name:', fileName);\n                                                                    const result = await executeAgentTool(fileCreatorAgent.id, fileCreatorAgent.tools[0].id, fileName, convexMutations);\n                                                                    // THEN send user message showing the file name (after agent processes it)\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: fileName,\n                                                                        sessionId: sessionId,\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'file_name_input',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    console.log('ðŸ“¥ File creator agent result:', result);\n                                                                    // Only store non-empty results\n                                                                    if (result && result.trim() !== \"\") {\n                                                                        console.log('âœ… Storing file creation continuation message...');\n                                                                        // Store the agent's response\n                                                                        await storeChatMessage({\n                                                                            role: 'assistant',\n                                                                            content: result,\n                                                                            sessionId: sessionId,\n                                                                            processIndicator: {\n                                                                                type: 'waiting',\n                                                                                processType: 'file_creation_continue',\n                                                                                color: 'green'\n                                                                            }\n                                                                        });\n                                                                        console.log('âœ… File creation continuation message stored!');\n                                                                    } else {\n                                                                        console.log('âš ï¸ Agent returned empty result after file name input');\n                                                                    }\n                                                                }\n                                                            } catch (error) {\n                                                                console.error('Error handling file name input:', error);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: 'âŒ Error processing file name. Please try again.',\n                                                                    sessionId: sessionId\n                                                                });\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: 'âŒ File creation cancelled. You can start a new file creation request anytime.',\n                                                                    sessionId\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling file name input:', error);\n                                                            }\n                                                        },\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 1237,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 715,\n                                                columnNumber: 23\n                                            }, this),\n                                            isAgentProcessMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-[10px] mt-1 opacity-80\",\n                                                children: (()=>{\n                                                    // Check for successful file creation with specific file info\n                                                    if (msg.content.includes(\"The comprehensive instruction document has been created and saved to your files.\")) {\n                                                        // Extract filename from the message\n                                                        const fileMatch = msg.content.match(/ðŸ“„ \\*\\*File:\\*\\* `([^`]+)`/);\n                                                        const fileName = fileMatch ? fileMatch[1] : null;\n                                                        if (fileName) {\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: ()=>{\n                                                                    const { projectFiles } = _store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore.getState();\n                                                                    const file = projectFiles.find((f)=>f.name === fileName);\n                                                                    if (file) {\n                                                                        _store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore.getState().openTab(file);\n                                                                    }\n                                                                },\n                                                                className: \"text-[#007acc] hover:text-[#4ec9b0] hover:underline cursor-pointer transition-colors\",\n                                                                children: \"â†³ Click here to view your file...\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                                lineNumber: 1340,\n                                                                columnNumber: 33\n                                                            }, this);\n                                                        }\n                                                    }\n                                                    // Check for CMO report generation success\n                                                    if (msg.content.includes(\"CMO_REPORT_GENERATED_SUCCESS:\")) {\n                                                        const fileMatch = msg.content.match(/CMO_REPORT_GENERATED_SUCCESS:\\s*(.+)$/);\n                                                        const fileName = fileMatch ? fileMatch[1].trim() : null;\n                                                        if (fileName) {\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: ()=>{\n                                                                    const { projectFiles } = _store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore.getState();\n                                                                    const file = projectFiles.find((f)=>f.name === fileName);\n                                                                    if (file) {\n                                                                        _store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore.getState().openTab(file);\n                                                                    }\n                                                                },\n                                                                className: \"flex items-center gap-1 text-[#007acc] hover:text-[#4ec9b0] hover:underline cursor-pointer transition-colors text-xs\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"transform rotate-90\",\n                                                                        children: \"â†³\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                                        lineNumber: 1373,\n                                                                        columnNumber: 35\n                                                                    }, this),\n                                                                    \"Open Instructions File Tab\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                                lineNumber: 1363,\n                                                                columnNumber: 33\n                                                            }, this);\n                                                        }\n                                                    }\n                                                    // Check for CMO report that needs manual save\n                                                    if (msg.content.includes(\"CMO_REPORT_MANUAL_SAVE_NEEDED:\")) {\n                                                        const fileMatch = msg.content.match(/CMO_REPORT_MANUAL_SAVE_NEEDED:\\s*(.+)$/);\n                                                        const fileName = fileMatch ? fileMatch[1].trim() : null;\n                                                        if (fileName) {\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: async ()=>{\n                                                                    try {\n                                                                        const convexMutations = createConvexMutations();\n                                                                        // Use the same report content from the message to create instruction file\n                                                                        const reportMatch = msg.content.match(/ðŸ“‹ \\*\\*Marketing Campaign Report Generated\\*\\*([\\s\\S]*?)âš ï¸ \\*\\*Note:/);\n                                                                        const reportContent = reportMatch ? reportMatch[1].trim() : 'Marketing Campaign Report';\n                                                                        // Execute the instructions agent to create the file\n                                                                        await executeAgentTool('instructions', 'natural-language-instructions', 'Create marketing campaign instruction file named \"'.concat(fileName, '\" with the campaign strategy report that was just generated'), convexMutations);\n                                                                    } catch (error) {\n                                                                        console.error('Error creating instruction file:', error);\n                                                                    }\n                                                                },\n                                                                className: \"flex items-center gap-1 text-[#007acc] hover:text-[#4ec9b0] hover:underline cursor-pointer transition-colors text-xs\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"transform rotate-90\",\n                                                                        children: \"â†³\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                                        lineNumber: 1408,\n                                                                        columnNumber: 35\n                                                                    }, this),\n                                                                    \"Create an Instruction File Here\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                                lineNumber: 1387,\n                                                                columnNumber: 33\n                                                            }, this);\n                                                        }\n                                                    }\n                                                    // Check for other success indicators\n                                                    if (msg.content.includes(\"âœ… **File Created Successfully!**\") || msg.content.includes(\"âœ… **Project Created Successfully!**\") || msg.content.includes(\"âœ… **Template Applied Successfully!**\")) {\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-[#4ec9b0]\",\n                                                            children: \"â†³ Process completed successfully!\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                            lineNumber: 1419,\n                                                            columnNumber: 36\n                                                        }, this);\n                                                    }\n                                                    // Default waiting message\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-[#4ec9b0]\",\n                                                        children: \"â†³ Agent waiting for your input...\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 1423,\n                                                        columnNumber: 34\n                                                    }, this);\n                                                })()\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 1330,\n                                                columnNumber: 23\n                                            }, this),\n                                            (()=>{\n                                                const shouldShow = activeAgentId === 'cmo' && msg.role === 'assistant';\n                                                console.log('ðŸ” Button condition check:', {\n                                                    activeAgentId,\n                                                    msgRole: msg.role,\n                                                    shouldShow,\n                                                    msgContent: msg.content.substring(0, 50)\n                                                });\n                                                return shouldShow;\n                                            })() && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-2 ml-1\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: async ()=>{\n                                                        try {\n                                                            // Extract key information from the Campaign Director's response\n                                                            const content = msg.content;\n                                                            // Generate a descriptive filename based on content\n                                                            let fileName = \"campaign-strategy\";\n                                                            // Try to extract campaign name or type from content\n                                                            const titleMatch = content.match(/(?:^|\\n)#\\s*(.+)$/m);\n                                                            if (titleMatch) {\n                                                                const title = titleMatch[1].trim().toLowerCase().replace(/[^a-z0-9\\s]/g, '').replace(/\\s+/g, '-').substring(0, 50);\n                                                                fileName = title || fileName;\n                                                            }\n                                                            // Add timestamp to ensure uniqueness\n                                                            const timestamp = new Date().toISOString().split('T')[0];\n                                                            const finalFileName = \"\".concat(fileName, \"-\").concat(timestamp);\n                                                            // Format the content as a nice instruction document\n                                                            const instructionContent = \"# Campaign Strategy Instructions\\n\\nThis instruction document was generated from a Campaign Strategy response.\\n\\n---\\n\\n\".concat(content, \"\\n\\n---\\n\\n**Generated:** \").concat(new Date().toLocaleString(), \"\\n**Source:** Campaign Strategy Agent\");\n                                                            // Create the instruction file directly\n                                                            await createInstruction({\n                                                                name: finalFileName,\n                                                                content: instructionContent,\n                                                                topic: \"Campaign Strategy\",\n                                                                audience: \"Marketing Team\"\n                                                            });\n                                                            console.log('âœ… Instruction file created successfully:', finalFileName);\n                                                            // Show success feedback\n                                                            const successMessage = \"âœ… **Instruction File Created!**\\n\\n\\uD83D\\uDCC4 **File:** `\".concat(finalFileName, \".md`\\n\\uD83C\\uDFAF **Topic:** Campaign Strategy\\n\\uD83D\\uDCC1 **Location:** Instructions Project\\n\\nThe campaign strategy has been saved as an instruction file for future reference.\");\n                                                            // Add success message to chat\n                                                            if (storeChatMessage && sessionId) {\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: successMessage,\n                                                                    timestamp: Date.now(),\n                                                                    sessionId: sessionId,\n                                                                    userId: (user === null || user === void 0 ? void 0 : user.id) || ''\n                                                                });\n                                                            }\n                                                        } catch (error) {\n                                                            console.error('Error creating instruction file:', error);\n                                                            // Show error feedback\n                                                            const errorMessage = \"âŒ **Failed to Create Instruction File**\\n\\nThere was an error saving the campaign strategy as an instruction file. Please try again or contact support if the issue persists.\";\n                                                            if (storeChatMessage && sessionId) {\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: errorMessage,\n                                                                    timestamp: Date.now(),\n                                                                    sessionId: sessionId,\n                                                                    userId: (user === null || user === void 0 ? void 0 : user.id) || ''\n                                                                });\n                                                            }\n                                                        }\n                                                    },\n                                                    className: \"flex items-center gap-1 text-[#007acc] hover:text-[#4ec9b0] hover:underline cursor-pointer transition-colors text-xs opacity-60 hover:opacity-100\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"transform rotate-90\",\n                                                            children: \"â†³\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                            lineNumber: 1520,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        \"Create an Instruction File Here\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                    lineNumber: 1440,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 1439,\n                                                columnNumber: 23\n                                            }, this),\n                                            (msg.content.includes('CMO_REPORT_GENERATED_SUCCESS') || msg.content.includes('CMO_REPORT_MANUAL_SAVE_NEEDED')) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-2 ml-1\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: async ()=>{\n                                                        try {\n                                                            const convexMutations = createConvexMutations();\n                                                            // Create a descriptive prompt from the assistant's response\n                                                            const responseContent = msg.content.substring(0, 200).trim();\n                                                            const prompt = 'Create instruction file from this CMO agent response: \"'.concat(responseContent).concat(msg.content.length > 200 ? '...' : '', '\"');\n                                                            // Execute the instructions agent to create the file\n                                                            await executeAgentTool('instructions', 'generate-instructions', prompt, convexMutations);\n                                                        } catch (error) {\n                                                            console.error('Error creating instruction file:', error);\n                                                        }\n                                                    },\n                                                    className: \"flex items-center gap-1 text-[#007acc] hover:text-[#4ec9b0] hover:underline cursor-pointer transition-colors text-xs opacity-60 hover:opacity-100\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"transform rotate-90\",\n                                                            children: \"â†³\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                            lineNumber: 1551,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        \"Create an Instruction File Here\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                    lineNumber: 1529,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 1528,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 707,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.role === 'thinking' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#d4d4aa]\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[#d4d4aa]\",\n                                                children: \"\\uD83E\\uDDE0 thinking:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 1560,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"ml-1 text-[#cccccc] whitespace-pre-wrap text-xs font-mono italic\",\n                                                children: msg.content\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 1561,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1559,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.role === 'terminal' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#858585]\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-[#585858] whitespace-pre-wrap bg-[#1a1a1a] p-1 rounded text-[10px] border-l-2 border-[#333]\",\n                                            children: msg.content\n                                        }, void 0, false, {\n                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                            lineNumber: 1568,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1567,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, index, true, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 694,\n                                columnNumber: 15\n                            }, this);\n                        }),\n                        isStreamingThinking && streamingThinking && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-1\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-[#d4d4aa]\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[#d4d4aa]\",\n                                        children: \"\\uD83E\\uDDE0 thinking:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1581,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"ml-1 text-[#cccccc] whitespace-pre-wrap text-xs font-mono italic\",\n                                        children: streamingThinking\n                                    }, void 0, false, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1582,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 1580,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 1579,\n                            columnNumber: 13\n                        }, this),\n                        isLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-[#4ec9b0]\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-[#4ec9b0]\",\n                                    children: \"\\uD83E\\uDD16 assistant:\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 1592,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"ml-1 text-[#858585]\",\n                                    children: \"thinking...\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 1593,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 1591,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                    lineNumber: 662,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                lineNumber: 658,\n                columnNumber: 7\n            }, this),\n            agentProgress && agentProgress.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-[#0e0e0e] p-2 font-mono text-xs flex-shrink-0\",\n                children: agentProgress.map((progress)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-2 last:mb-0\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between mb-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[#007acc] text-xs\",\n                                        children: [\n                                            \"\\uD83E\\uDD16 \",\n                                            progress.agentType,\n                                            \" Agent\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1605,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[#858585] text-xs\",\n                                        children: [\n                                            progress.percentage,\n                                            \"%\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1608,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 1604,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-64 bg-[#333] rounded-full h-1.5 relative overflow-hidden\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-[#007acc] h-1.5 rounded-full transition-all duration-300 absolute left-0 top-0\",\n                                    style: {\n                                        width: \"\".concat(Math.min(100, Math.max(0, progress.percentage)), \"%\")\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 1613,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 1612,\n                                columnNumber: 15\n                            }, this),\n                            progress.status && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-[#858585] text-xs mt-1\",\n                                children: progress.status\n                            }, void 0, false, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 1619,\n                                columnNumber: 17\n                            }, this)\n                        ]\n                    }, progress._id, true, {\n                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                        lineNumber: 1603,\n                        columnNumber: 13\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                lineNumber: 1601,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-[#0e0e0e] p-2 font-mono text-xs flex-shrink-0\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-[#007acc]\",\n                            children: \"$ user:\"\n                        }, void 0, false, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 1631,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                            onSubmit: handleSubmit,\n                            className: \"flex-1 ml-1\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                ref: inputRef,\n                                type: \"text\",\n                                value: message,\n                                onChange: handleInputChange,\n                                onKeyDown: handleKeyDown,\n                                placeholder: isAtSessionLimit ? \"Session limit reached - Start new session to continue...\" : isLoading ? \"AI is thinking...\" : \"Ask about your EAC project...\",\n                                disabled: isLoading || isAtSessionLimit,\n                                className: \"w-full bg-transparent border-none outline-none placeholder:text-[#858585] disabled:opacity-50 disabled:cursor-not-allowed caret-[#cccccc] \".concat(isAtSessionLimit ? 'text-[#f48771]' : 'text-[#cccccc]')\n                            }, void 0, false, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 1633,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 1632,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                    lineNumber: 1630,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                lineNumber: 1629,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n        lineNumber: 657,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatMessages, \"Vs45R8fQWCEFeqD5uu3KELg5XnQ=\", false, function() {\n    return [\n        _clerk_nextjs__WEBPACK_IMPORTED_MODULE_17__.useUser,\n        _store_terminal_chat__WEBPACK_IMPORTED_MODULE_6__.useChatStore,\n        _store_terminal_session__WEBPACK_IMPORTED_MODULE_7__.useSessionStore,\n        _lib_hooks_useChat__WEBPACK_IMPORTED_MODULE_2__.useChat,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery,\n        _lib_hooks_useMCP__WEBPACK_IMPORTED_MODULE_4__.useMCP,\n        _store__WEBPACK_IMPORTED_MODULE_5__.useAgentStore,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useAction,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery,\n        _lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructionContext,\n        _lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructions,\n        _store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore\n    ];\n});\n_c = ChatMessages;\nvar _c;\n$RefreshReg$(_c, \"ChatMessages\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9fY29tcG9uZW50cy90ZXJtaW5hbC9fY29tcG9uZW50cy9jaGF0TWVzc2FnZXMudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEseURBQXlEO0FBQ3pELDZGQUE2Rjs7O0FBSS9DO0FBQ0E7QUFDdUM7QUFDekM7QUFDWTtBQUNIO0FBQ007QUFDbkI7QUFDd0I7QUFDTDtBQUNLO0FBQ2hCO0FBQ0Y7QUFDUTtBQUNBO0FBQ0E7QUFDRjtBQUU3QyxTQUFTd0I7O0lBQ2QsTUFBTUMsWUFBWVYsNkNBQU1BLENBQWlCO0lBQ3pDLE1BQU1XLFdBQVdYLDZDQUFNQSxDQUFtQjtJQUMxQyxNQUFNWSxzQkFBc0JaLDZDQUFNQSxDQUFjLElBQUlhO0lBQ3BELE1BQU0sQ0FBQ0MsU0FBU0MsV0FBVyxHQUFHZCwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNlLG9CQUFvQkMsc0JBQXNCLEdBQUdoQiwrQ0FBUUEsQ0FJbEQ7SUFFViwrQ0FBK0M7SUFDL0NGLGdEQUFTQTtrQ0FBQztZQUNSbUIsUUFBUUMsR0FBRyxDQUFDLCtCQUErQkg7UUFDN0M7aUNBQUc7UUFBQ0E7S0FBbUI7SUFHdkIsTUFBTSxFQUFFSSxJQUFJLEVBQUVDLFFBQVEsRUFBRSxHQUFHM0IsdURBQU9BO0lBQ2xDLE1BQU0sRUFBRTRCLHFCQUFxQixFQUFFQyxtQkFBbUIsRUFBRUMsWUFBWSxFQUFFLEdBQUdoQyxrRUFBWUE7SUFDakYsTUFBTSxFQUFFaUMsZUFBZSxFQUFFLEdBQUdoQyx3RUFBZUE7SUFDM0MsTUFBTSxFQUNKaUMsUUFBUSxFQUNSQyxXQUFXQyxXQUFXLEVBQ3RCQyxXQUFXLEVBQ1hDLHdCQUF3QixFQUN4QkMsU0FBUyxFQUNUQyxnQkFBZ0IsRUFDaEJULHFCQUFxQlUsbUJBQW1CLEVBQ3hDQyxpQkFBaUIsRUFDakJDLG1CQUFtQixFQUNuQkMsWUFBWSxFQUNaQyxrQkFBa0IsRUFDbEJDLGdCQUFnQixFQUNoQkMsY0FB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LEtBQUt4TDtnQ0FDTGlILE1BQUs7Z0NBQ0xtRSxPQUFPakw7Z0NBQ1B1USxVQUFVdkY7Z0NBQ1Z3RixXQUFXM0Y7Z0NBQ1gwQyxhQUNFL0wsbUJBQ0ksNkRBQ0FYLFlBQ0Usc0JBQ0E7Z0NBRVJrTCxVQUFVbEwsYUFBYVc7Z0NBQ3ZCNEosV0FBVyw2SUFFVixPQURDNUosbUJBQW1CLG1CQUFtQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVF0RDtHQWhtRGdCN0I7O1FBaUJhZixtREFBT0E7UUFDbUNGLDhEQUFZQTtRQUNyREMsb0VBQWVBO1FBaUJ2Q1AsdURBQU9BO1FBR1dXLGtEQUFRQTtRQU8xQlIscURBQU1BO1FBRzBEQyxpREFBYUE7UUFDdkRNLHFEQUFXQTtRQUNIQSxxREFBV0E7UUFDMUJBLHFEQUFXQTtRQUNUQSxxREFBV0E7UUFDRUEscURBQVdBO1FBQ3ZCQSxxREFBV0E7UUFDZEEscURBQVdBO1FBQ05DLGtEQUFRQTtRQUNHRCxxREFBV0E7UUFDdkJELG1EQUFTQTtRQUNOQyxxREFBV0E7UUFDcEJDLGtEQUFRQTtRQUNMQSxrREFBUUE7UUFDRFYsNkVBQXFCQTtRQUNMQyx1RUFBZUE7UUFDaENHLGtEQUFjQTs7O0tBakUxQmtCIiwic291cmNlcyI6WyIvVXNlcnMvbWF0dGhld3NpbW9uL1Byb2plY3RzL2VhYy9lYWMvYXBwL19jb21wb25lbnRzL3Rlcm1pbmFsL19jb21wb25lbnRzL2NoYXRNZXNzYWdlcy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU2ltcGxpZmllZCBDaGF0IE1lc3NhZ2VzIENvbXBvbmVudCAtIE5vIFNsYXNoIENvbW1hbmRzXG4vLyAvVXNlcnMvbWF0dGhld3NpbW9uL1Byb2plY3RzL2VhYy9lYWMvYXBwL19jb21wb25lbnRzL3Rlcm1pbmFsL19jb21wb25lbnRzL2NoYXRNZXNzYWdlcy50c3hcblxuXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IGFwaSB9IGZyb20gXCJAL2NvbnZleC9fZ2VuZXJhdGVkL2FwaVwiO1xuaW1wb3J0IHsgdXNlQ2hhdCB9IGZyb20gXCJAL2xpYi9ob29rcy91c2VDaGF0XCI7XG5pbXBvcnQgeyB1c2VJbnN0cnVjdGlvbkNvbnRleHQsIHVzZUluc3RydWN0aW9ucyB9IGZyb20gXCJAL2xpYi9ob29rcy91c2VJbnN0cnVjdGlvbnNcIjtcbmltcG9ydCB7IHVzZU1DUCB9IGZyb20gXCJAL2xpYi9ob29rcy91c2VNQ1BcIjtcbmltcG9ydCB7IHVzZUFnZW50U3RvcmUsIHVzZUVkaXRvclN0b3JlIH0gZnJvbSBcIkAvc3RvcmVcIjtcbmltcG9ydCB7IHVzZUNoYXRTdG9yZSB9IGZyb20gXCJAL3N0b3JlL3Rlcm1pbmFsL2NoYXRcIjtcbmltcG9ydCB7IHVzZVNlc3Npb25TdG9yZSB9IGZyb20gXCJAL3N0b3JlL3Rlcm1pbmFsL3Nlc3Npb25cIjtcbmltcG9ydCB7IHVzZVVzZXIgfSBmcm9tIFwiQGNsZXJrL25leHRqc1wiO1xuaW1wb3J0IHsgdXNlQWN0aW9uLCB1c2VNdXRhdGlvbiwgdXNlUXVlcnkgfSBmcm9tIFwiY29udmV4L3JlYWN0XCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBFZGl0SW5zdHJ1Y3Rpb25zSW5wdXQgfSBmcm9tIFwiLi9lZGl0SW5zdHJ1Y3Rpb25zSW5wdXRcIjtcbmltcG9ydCB7IEZpbGVOYW1lSW5wdXQgfSBmcm9tIFwiLi9maWxlTmFtZUlucHV0XCI7XG5pbXBvcnQgeyBGaWxlU2VsZWN0b3IgfSBmcm9tIFwiLi9maWxlU2VsZWN0b3JcIjtcbmltcG9ydCB7IEZpbGVUeXBlU2VsZWN0b3IgfSBmcm9tIFwiLi9maWxlVHlwZVNlbGVjdG9yXCI7XG5pbXBvcnQgeyBNYXJrZG93blJlbmRlcmVyIH0gZnJvbSBcIi4vbWFya2Rvd25SZW5kZXJlclwiO1xuaW1wb3J0IHsgUHJvamVjdE5hbWVJbnB1dCB9IGZyb20gXCIuL3Byb2plY3ROYW1lSW5wdXRcIjtcbmltcG9ydCB7IFByb2plY3RTZWxlY3RvciB9IGZyb20gXCIuL3Byb2plY3RTZWxlY3RvclwiO1xuXG5leHBvcnQgZnVuY3Rpb24gQ2hhdE1lc3NhZ2VzKCkge1xuICBjb25zdCBzY3JvbGxSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBpbnB1dFJlZiA9IHVzZVJlZjxIVE1MSW5wdXRFbGVtZW50PihudWxsKTtcbiAgY29uc3QgcHJvY2Vzc2VkT3BlcmF0aW9ucyA9IHVzZVJlZjxTZXQ8c3RyaW5nPj4obmV3IFNldCgpKTtcbiAgY29uc3QgW21lc3NhZ2UsIHNldE1lc3NhZ2VdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthY3RpdmVBZ2VudFByb2Nlc3MsIHNldEFjdGl2ZUFnZW50UHJvY2Vzc10gPSB1c2VTdGF0ZTx7XG4gICAgYWdlbnRJZDogc3RyaW5nO1xuICAgIHByb2Nlc3NUeXBlOiBzdHJpbmc7XG4gICAgdGltZXN0YW1wOiBudW1iZXI7XG4gIH0gfCBudWxsPihudWxsKTtcblxuICAvLyBEZWJ1ZyBsb2dnaW5nIGZvciBhY3RpdmVBZ2VudFByb2Nlc3MgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdhY3RpdmVBZ2VudFByb2Nlc3MgY2hhbmdlZDonLCBhY3RpdmVBZ2VudFByb2Nlc3MpO1xuICB9LCBbYWN0aXZlQWdlbnRQcm9jZXNzXSk7XG5cbiAgXG4gIGNvbnN0IHsgdXNlciwgaXNMb2FkZWQgfSA9IHVzZVVzZXIoKTtcbiAgY29uc3QgeyBpbml0aWFsaXplVXNlclNlc3Npb24sIGFkZFRlcm1pbmFsRmVlZGJhY2ssIHNldFNlc3Npb25JZCB9ID0gdXNlQ2hhdFN0b3JlKCk7XG4gIGNvbnN0IHsgYWN0aXZlU2Vzc2lvbklkIH0gPSB1c2VTZXNzaW9uU3RvcmUoKTtcbiAgY29uc3QgeyBcbiAgICBtZXNzYWdlcywgXG4gICAgaXNMb2FkaW5nOiBjaGF0TG9hZGluZywgXG4gICAgc2VuZE1lc3NhZ2UsIFxuICAgIHNlbmRNZXNzYWdlV2l0aFN0cmVhbWluZyxcbiAgICBzZXNzaW9uSWQsIFxuICAgIHN0b3JlQ2hhdE1lc3NhZ2UsIFxuICAgIGFkZFRlcm1pbmFsRmVlZGJhY2s6IHVzZVRlcm1pbmFsRmVlZGJhY2ssXG4gICAgc3RyZWFtaW5nVGhpbmtpbmcsXG4gICAgaXNTdHJlYW1pbmdUaGlua2luZyxcbiAgICBtZXNzYWdlQ291bnQsXG4gICAgaXNOZWFyU2Vzc2lvbkxpbWl0LFxuICAgIGlzQXRTZXNzaW9uTGltaXQsXG4gICAgY2FuQWRkTWVzc2FnZXMsXG4gICAgZ2V0U2Vzc2lvblN0YXR1cyxcbiAgICBzdGFydE5ld1Nlc3Npb25cbiAgfSA9IHVzZUNoYXQoKTtcbiAgXG4gIC8vIFF1ZXJ5IGZvciBhZ2VudCBwcm9ncmVzc1xuICBjb25zdCBhZ2VudFByb2dyZXNzID0gdXNlUXVlcnkoYXBpLmNoYXQuZ2V0QWdlbnRQcm9ncmVzcywgeyBzZXNzaW9uSWQgfSk7XG4gIGNvbnN0IHtcbiAgICBpc0Nvbm5lY3RlZDogbWNwQ29ubmVjdGVkLFxuICAgIGlzTG9hZGluZzogbWNwTG9hZGluZyxcbiAgICBlcnJvcjogbWNwRXJyb3IsXG4gICAgYXZhaWxhYmxlVG9vbHMsXG4gICAgcHJvY2Vzc05hdHVyYWxMYW5ndWFnZSxcbiAgfSA9IHVzZU1DUCgpO1xuICBcbiAgLy8gQWdlbnQgZXhlY3V0aW9uIGFuZCBtdXRhdGlvbnNcbiAgY29uc3QgeyBhZ2VudHMsIGFjdGl2ZUFnZW50SWQsIHNldEFjdGl2ZUFnZW50LCBleGVjdXRlQWdlbnRUb29sIH0gPSB1c2VBZ2VudFN0b3JlKCk7XG4gIGNvbnN0IGNyZWF0ZUluc3RydWN0aW9uID0gdXNlTXV0YXRpb24oYXBpLmZpbGVzLmNyZWF0ZUluc3RydWN0aW9uRmlsZSk7XG4gIGNvbnN0IGVuc3VyZUluc3RydWN0aW9uc1Byb2plY3QgPSB1c2VNdXRhdGlvbihhcGkucHJvamVjdHMuZW5zdXJlSW5zdHJ1Y3Rpb25zUHJvamVjdCk7XG4gIGNvbnN0IHVwc2VydFBvc3QgPSB1c2VNdXRhdGlvbihhcGkuc29jaWFsUG9zdHMudXBzZXJ0UG9zdCk7XG4gIGNvbnN0IHNjaGVkdWxlUG9zdCA9IHVzZU11dGF0aW9uKGFwaS5zb2NpYWxQb3N0cy5zY2hlZHVsZVBvc3QpO1xuICBjb25zdCBjcmVhdGVDb250ZW50Q3JlYXRpb25GaWxlID0gdXNlTXV0YXRpb24oYXBpLmZpbGVzLmNyZWF0ZUNvbnRlbnRDcmVhdGlvbkZpbGUpO1xuICBjb25zdCBjcmVhdGVQcm9qZWN0ID0gdXNlTXV0YXRpb24oYXBpLnByb2plY3RzLmNyZWF0ZVByb2plY3QpO1xuICBjb25zdCBjcmVhdGVGaWxlID0gdXNlTXV0YXRpb24oYXBpLmZpbGVzLmNyZWF0ZUZpbGUpO1xuICBjb25zdCBnZXRBbGxVc2VyRmlsZXMgPSB1c2VRdWVyeShhcGkuZmlsZXMuZ2V0QWxsVXNlckZpbGVzLCB7fSk7XG4gIGNvbnN0IHVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50ID0gdXNlTXV0YXRpb24oYXBpLmNoYXQudXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQpO1xuICBjb25zdCBlZGl0RmlsZVdpdGhBSSA9IHVzZUFjdGlvbihhcGkuZWRpdG9yQWN0aW9ucy5lZGl0RmlsZVdpdGhBSSk7XG4gIGNvbnN0IHVwZGF0ZUZpbGVDb250ZW50ID0gdXNlTXV0YXRpb24oYXBpLmZpbGVzLnVwZGF0ZUZpbGVDb250ZW50KTtcbiAgY29uc3QgYWxsUG9zdHMgPSB1c2VRdWVyeShhcGkuc29jaWFsUG9zdHMuZ2V0QWxsUG9zdHMsIHt9KTtcbiAgY29uc3QgYWxsUHJvamVjdHMgPSB1c2VRdWVyeShhcGkucHJvamVjdHMuZ2V0UHJvamVjdHMsIHt9KTtcbiAgY29uc3QgaW5zdHJ1Y3Rpb25Db250ZXh0ID0gdXNlSW5zdHJ1Y3Rpb25Db250ZXh0KCk7XG4gIGNvbnN0IHsgaXNMb2FkaW5nOiBpbnN0cnVjdGlvbnNMb2FkaW5nIH0gPSB1c2VJbnN0cnVjdGlvbnMoKTtcbiAgY29uc3QgeyBjcmVhdGVOZXdGaWxlIH0gPSB1c2VFZGl0b3JTdG9yZSgpO1xuXG4gIGNvbnN0IGlzTG9hZGluZyA9IGNoYXRMb2FkaW5nIHx8IG1jcExvYWRpbmcgfHwgaW5zdHJ1Y3Rpb25zTG9hZGluZztcblxuICAvLyBBdXRvLXNjcm9sbCB0byBib3R0b20gd2hlbiBuZXcgbWVzc2FnZXMgYXJyaXZlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNjcm9sbFJlZi5jdXJyZW50KSB7XG4gICAgICBzY3JvbGxSZWYuY3VycmVudC5zY3JvbGxUb3AgPSBzY3JvbGxSZWYuY3VycmVudC5zY3JvbGxIZWlnaHQ7XG4gICAgfVxuICB9LCBbbWVzc2FnZXNdKTtcblxuICAvLyBJbml0aWFsaXplIHVzZXIgc2Vzc2lvbiB3aGVuIGNvbXBvbmVudCBtb3VudHMgYW5kIHVzZXIgaXMgbG9hZGVkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzTG9hZGVkICYmIHVzZXIgJiYgIXNlc3Npb25JZCkge1xuICAgICAgY29uc29sZS5sb2coXCLwn5SEIEluaXRpYWxpemluZyB1c2VyIHNlc3Npb24uLi5cIiwgeyB1c2VySWQ6IHVzZXIuaWQgfSk7XG4gICAgICBpbml0aWFsaXplVXNlclNlc3Npb24odXNlci5pZCk7XG4gICAgfVxuICB9LCBbdXNlciwgaXNMb2FkZWQsIHNlc3Npb25JZCwgaW5pdGlhbGl6ZVVzZXJTZXNzaW9uXSk7XG5cbiAgLy8gU3luYyBzZXNzaW9uIElEIGlmIGFjdGl2ZSBzZXNzaW9uIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWN0aXZlU2Vzc2lvbklkICYmIGFjdGl2ZVNlc3Npb25JZCAhPT0gc2Vzc2lvbklkKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIvCflIQgU3luY2luZyB0byBhY3RpdmUgc2Vzc2lvbjpcIiwgYWN0aXZlU2Vzc2lvbklkKTtcbiAgICAgIHNldFNlc3Npb25JZChhY3RpdmVTZXNzaW9uSWQpO1xuICAgIH1cbiAgfSwgW2FjdGl2ZVNlc3Npb25JZCwgc2Vzc2lvbklkLCBzZXRTZXNzaW9uSWRdKTtcblxuICAvLyBDbGVhciBhY3RpdmUgYWdlbnQgcHJvY2VzcyBhZnRlciB0aW1lb3V0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFjdGl2ZUFnZW50UHJvY2Vzcykge1xuICAgICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zdCBhZ2UgPSBEYXRlLm5vdygpIC0gYWN0aXZlQWdlbnRQcm9jZXNzLnRpbWVzdGFtcDtcbiAgICAgICAgaWYgKGFnZSA+IDUgKiA2MCAqIDEwMDApIHsgLy8gNSBtaW51dGVzIHRpbWVvdXRcbiAgICAgICAgICBzZXRBY3RpdmVBZ2VudFByb2Nlc3MobnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDUgKiA2MCAqIDEwMDApO1xuXG4gICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIH1cbiAgfSwgW2FjdGl2ZUFnZW50UHJvY2Vzc10pO1xuXG4gIC8vIERJU0FCTEVEOiBQcm9jZXNzIG1lc3NhZ2VzIHdpdGggb3BlcmF0aW9ucyB0byBjcmVhdGUgVUkgZmlsZXNcbiAgLy8gVGhpcyBpcyBub3cgaGFuZGxlZCBieSB1c2VGaWxlTG9hZCBob29rIHdoaWNoIHN5bmNzIGZyb20gQ29udmV4IHRvIGxvY2FsIHN0b3JlXG4gIC8qXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFtZXNzYWdlcykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCfwn5SNIFByb2Nlc3NpbmcgbWVzc2FnZXMgZm9yIG9wZXJhdGlvbnM6Jywge1xuICAgICAgdG90YWxNZXNzYWdlczogbWVzc2FnZXMubGVuZ3RoLFxuICAgICAgcmVjZW50TWVzc2FnZXNDb3VudDogbWVzc2FnZXMuc2xpY2UoLTEwKS5sZW5ndGgsXG4gICAgICBwcm9jZXNzZWRDb3VudDogcHJvY2Vzc2VkT3BlcmF0aW9ucy5jdXJyZW50LnNpemVcbiAgICB9KTtcbiAgICBcbiAgICAvLyBMb29rIGZvciBtZXNzYWdlcyB3aXRoIG9wZXJhdGlvbnMgdGhhdCBuZWVkIFVJIHByb2Nlc3NpbmdcbiAgICBjb25zdCByZWNlbnRNZXNzYWdlcyA9IG1lc3NhZ2VzLnNsaWNlKC0xMCk7IC8vIENoZWNrIGxhc3QgMTAgbWVzc2FnZXNcbiAgICBcbiAgICByZWNlbnRNZXNzYWdlcy5mb3JFYWNoKChtZXNzYWdlOiBhbnksIGluZGV4KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhg8J+UjSBNZXNzYWdlICR7aW5kZXh9OmAsIHtcbiAgICAgICAgaWQ6IG1lc3NhZ2UuX2lkLFxuICAgICAgICByb2xlOiBtZXNzYWdlLnJvbGUsXG4gICAgICAgIGhhc09wZXJhdGlvbjogISFtZXNzYWdlLm9wZXJhdGlvbixcbiAgICAgICAgb3BlcmF0aW9uVHlwZTogbWVzc2FnZS5vcGVyYXRpb24/LnR5cGUsXG4gICAgICAgIG9wZXJhdGlvbkRldGFpbHM6IG1lc3NhZ2Uub3BlcmF0aW9uPy5kZXRhaWxzLFxuICAgICAgICBjb250ZW50UHJldmlldzogbWVzc2FnZS5jb250ZW50Py5zdWJzdHJpbmcoMCwgMTAwKSxcbiAgICAgICAgYWxyZWFkeVByb2Nlc3NlZDogcHJvY2Vzc2VkT3BlcmF0aW9ucy5jdXJyZW50LmhhcyhtZXNzYWdlLl9pZClcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAobWVzc2FnZS5vcGVyYXRpb24/LnR5cGUgPT09ICdmaWxlX2NyZWF0ZWQnICYmIG1lc3NhZ2UuX2lkKSB7XG4gICAgICAgIC8vIFNraXAgaWYgYWxyZWFkeSBwcm9jZXNzZWRcbiAgICAgICAgaWYgKHByb2Nlc3NlZE9wZXJhdGlvbnMuY3VycmVudC5oYXMobWVzc2FnZS5faWQpKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYOKPre+4jyBTa2lwcGluZyBhbHJlYWR5IHByb2Nlc3NlZCBtZXNzYWdlOiAke21lc3NhZ2UuX2lkfWApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgeyBmaWxlTmFtZSwgZmlsZVR5cGUsIGNvbnRlbnQsIHBsYXRmb3JtRGF0YSwgYWdlbnRUeXBlIH0gPSBtZXNzYWdlLm9wZXJhdGlvbi5kZXRhaWxzO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ/CflI0gRmlsZSBjcmVhdGlvbiBvcGVyYXRpb24gZm91bmQ6Jywge1xuICAgICAgICAgIGZpbGVOYW1lLFxuICAgICAgICAgIGZpbGVUeXBlLFxuICAgICAgICAgIGFnZW50VHlwZSxcbiAgICAgICAgICBoYXNDb250ZW50OiAhIWNvbnRlbnQsXG4gICAgICAgICAgY29udGVudExlbmd0aDogY29udGVudD8ubGVuZ3RoIHx8IDAsXG4gICAgICAgICAgd2lsbFByb2Nlc3M6IGFnZW50VHlwZSA9PT0gJ3R3aXR0ZXInICYmIGNvbnRlbnRcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBPbmx5IHByb2Nlc3MgVHdpdHRlciBhZ2VudCBmaWxlcyBmb3IgVUkgY3JlYXRpb24gdGhhdCBoYXZlIGNvbnRlbnRcbiAgICAgICAgaWYgKGFnZW50VHlwZSA9PT0gJ3R3aXR0ZXInICYmIGNvbnRlbnQpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBQcm9jZXNzaW5nIHNvY2lhbCBmaWxlIG9wZXJhdGlvbjonLCB7XG4gICAgICAgICAgICBmaWxlTmFtZSxcbiAgICAgICAgICAgIGZpbGVUeXBlLFxuICAgICAgICAgICAgY29udGVudDogY29udGVudCxcbiAgICAgICAgICAgIGNvbnRlbnRMZW5ndGg6IGNvbnRlbnQ/Lmxlbmd0aCB8fCAwLFxuICAgICAgICAgICAgY29udGVudFR5cGU6IHR5cGVvZiBjb250ZW50LFxuICAgICAgICAgICAgbWVzc2FnZUlkOiBtZXNzYWdlLl9pZCxcbiAgICAgICAgICAgIHBsYXRmb3JtRGF0YTogcGxhdGZvcm1EYXRhLFxuICAgICAgICAgICAgYWxsRGV0YWlsczogbWVzc2FnZS5vcGVyYXRpb24uZGV0YWlsc1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIE1hcmsgYXMgcHJvY2Vzc2VkIEZJUlNUIHRvIHByZXZlbnQgcmFjZSBjb25kaXRpb25zXG4gICAgICAgICAgcHJvY2Vzc2VkT3BlcmF0aW9ucy5jdXJyZW50LmFkZChtZXNzYWdlLl9pZCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUGFyc2UgdGhlIHBsYXRmb3JtIGRhdGEgd2l0aCBlcnJvciBoYW5kbGluZ1xuICAgICAgICAgIGxldCBwbGF0Zm9ybURhdGFPYmo7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHBsYXRmb3JtRGF0YU9iaiA9IHBsYXRmb3JtRGF0YSA/IEpTT04ucGFyc2UocGxhdGZvcm1EYXRhKSA6IHt9O1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBGYWlsZWQgdG8gcGFyc2UgcGxhdGZvcm0gZGF0YSwgdXNpbmcgZGVmYXVsdHM6JywgZXJyb3IpO1xuICAgICAgICAgICAgcGxhdGZvcm1EYXRhT2JqID0ge1xuICAgICAgICAgICAgICByZXBseVNldHRpbmdzOiAnZm9sbG93aW5nJyxcbiAgICAgICAgICAgICAgc2NoZWR1bGVkRGF0ZTogJycsXG4gICAgICAgICAgICAgIHNjaGVkdWxlZFRpbWU6ICcnLFxuICAgICAgICAgICAgICBpc1RocmVhZDogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIENyZWF0ZSB0aGUgY29udGVudCBmb3IgdGhlIFR3aXR0ZXIgcG9zdCBmaWxlIGluIHRoZSBleHBlY3RlZCBmb3JtYXRcbiAgICAgICAgICBjb25zdCBwb3N0Q29udGVudCA9IGAjICR7ZmlsZU5hbWUucmVwbGFjZSgvXFwuW14vLl0rJC8sIFwiXCIpfSAtIFggKFR3aXR0ZXIpIFBvc3RcblBsYXRmb3JtOiBYIChUd2l0dGVyKVxuQ3JlYXRlZDogJHtuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygpfVxuXG4jIyBQb3N0IENvbnRlbnRcbiR7Y29udGVudH1cblxuIyMgU2V0dGluZ3Ncbi0gUmVwbHkgU2V0dGluZ3M6ICR7cGxhdGZvcm1EYXRhT2JqLnJlcGx5U2V0dGluZ3MgfHwgJ2ZvbGxvd2luZyd9XG4tIFNjaGVkdWxlOiAke3BsYXRmb3JtRGF0YU9iai5zY2hlZHVsZWREYXRlICYmIHBsYXRmb3JtRGF0YU9iai5zY2hlZHVsZWRUaW1lID8gYCR7cGxhdGZvcm1EYXRhT2JqLnNjaGVkdWxlZERhdGV9ICR7cGxhdGZvcm1EYXRhT2JqLnNjaGVkdWxlZFRpbWV9YCA6ICdOb3cnfVxuLSBUaHJlYWQ6ICR7cGxhdGZvcm1EYXRhT2JqLmlzVGhyZWFkID8gJ011bHRpLXR3ZWV0IFRocmVhZCcgOiAnU2luZ2xlIFR3ZWV0J31cblxuIyMgTWVkaWFcbi0gSW1hZ2VzOiBbXVxuLSBWaWRlb3M6IFtdXG5cbiMjIEFuYWx5dGljc1xuLSBJbXByZXNzaW9uczogMFxuLSBFbmdhZ2VtZW50czogMFxuLSBMaWtlczogMFxuLSBTaGFyZXM6IDBgO1xuXG4gICAgICAgICAgLy8gR2V0IHRoZSBjcmVhdGVOZXdGaWxlIGZ1bmN0aW9uIGZyb20gdGhlIHN0b3JlIGF0IGV4ZWN1dGlvbiB0aW1lXG4gICAgICAgICAgY29uc3QgeyBjcmVhdGVOZXdGaWxlLCBwcm9qZWN0Rm9sZGVycyB9ID0gdXNlRWRpdG9yU3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBGaW5kIHRoZSBDb250ZW50IENyZWF0aW9uIGZvbGRlciBJRFxuICAgICAgICAgIGNvbnN0IGNvbnRlbnRDcmVhdGlvbkZvbGRlciA9IHByb2plY3RGb2xkZXJzLmZpbmQoZm9sZGVyID0+IFxuICAgICAgICAgICAgZm9sZGVyLm5hbWUgPT09ICdDb250ZW50IENyZWF0aW9uJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGNvbnRlbnRDcmVhdGlvbkZvbGRlcikge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBmaWxlIGluIHRoZSBDb250ZW50IENyZWF0aW9uIGZvbGRlclxuICAgICAgICAgICAgY3JlYXRlTmV3RmlsZShcbiAgICAgICAgICAgICAgZmlsZU5hbWUsXG4gICAgICAgICAgICAgICd4JywgLy8gVXNlICd4JyB0eXBlIGZvciBUd2l0dGVyIGZpbGVzXG4gICAgICAgICAgICAgICdwcm9qZWN0JyxcbiAgICAgICAgICAgICAgY29udGVudENyZWF0aW9uRm9sZGVyLmlkLFxuICAgICAgICAgICAgICBwb3N0Q29udGVudFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBDcmVhdGVkIHNvY2lhbCBmaWxlIGluIFVJOicsIGZpbGVOYW1lKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gQ29udGVudCBDcmVhdGlvbiBmb2xkZXIgbm90IGZvdW5kJyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENyZWF0ZSB3aXRob3V0IGZvbGRlciBJRCBpZiBmb2xkZXIgbm90IGZvdW5kXG4gICAgICAgICAgICBjcmVhdGVOZXdGaWxlKFxuICAgICAgICAgICAgICBmaWxlTmFtZSxcbiAgICAgICAgICAgICAgJ3gnLFxuICAgICAgICAgICAgICAncHJvamVjdCcsXG4gICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgcG9zdENvbnRlbnRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFttZXNzYWdlc10pOyAvLyBSZW1vdmVkIGNyZWF0ZU5ld0ZpbGUgZnJvbSBkZXBlbmRlbmNpZXMgdG8gcHJldmVudCByZS1ydW5zIG9uIHBhbmVsIHN3aXRjaGVzXG4gICovXG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHN0cmlwIG1hcmtkb3duIGZvcm1hdHRpbmdcbiAgY29uc3Qgc3RyaXBNYXJrZG93biA9ICh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIHJldHVybiB0ZXh0XG4gICAgICAucmVwbGFjZSgvI3sxLDZ9XFxzKi9nLCAnJykgLy8gUmVtb3ZlIGhlYWRlcnNcbiAgICAgIC5yZXBsYWNlKC9cXCpcXCooLio/KVxcKlxcKi9nLCAnJDEnKSAvLyBSZW1vdmUgKipib2xkKipcbiAgICAgIC5yZXBsYWNlKC9cXCooLio/KVxcKi9nLCAnJDEnKSAvLyBSZW1vdmUgKml0YWxpYypcbiAgICAgIC5yZXBsYWNlKC9gKFteYF0rKWAvZywgJyQxJykgLy8gUmVtb3ZlIGBjb2RlYFxuICAgICAgLnJlcGxhY2UoL15cXHMqWy0qK11cXHMrL2dtLCAn4oCiICcpIC8vIENvbnZlcnQgbWFya2Rvd24gbGlzdHMgdG8gYnVsbGV0IHBvaW50c1xuICAgICAgLnJlcGxhY2UoL15cXHMqXFxkK1xcLlxccysvZ20sICfigKIgJykgLy8gQ29udmVydCBudW1iZXJlZCBsaXN0cyB0byBidWxsZXQgcG9pbnRzXG4gICAgICAucmVwbGFjZSgvXFxuXFxzKlxcblxccypcXG4vZywgJ1xcblxcbicpIC8vIFJlZHVjZSBtdWx0aXBsZSBibGFuayBsaW5lcyB0byBkb3VibGVcbiAgICAgIC5zcGxpdCgnXFxuJykgLy8gU3BsaXQgaW50byBsaW5lcyBmb3IgcHJvY2Vzc2luZ1xuICAgICAgLm1hcChsaW5lID0+IHtcbiAgICAgICAgLy8gQWRkIHNwYWNpbmcgYWZ0ZXIgc2VjdGlvbiBoZWFkZXJzIChsaW5lcyB0aGF0IGRvbid0IHN0YXJ0IHdpdGggYnVsbGV0IHBvaW50cylcbiAgICAgICAgaWYgKGxpbmUudHJpbSgpICYmICFsaW5lLnN0YXJ0c1dpdGgoJ+KAoicpICYmICFsaW5lLnN0YXJ0c1dpdGgoJyAnKSAmJiBsaW5lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXR1cm4gbGluZSArICdcXG4nOyAvLyBBZGQgZXh0cmEgbmV3bGluZSBhZnRlciBoZWFkZXJzXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpbmU7XG4gICAgICB9KVxuICAgICAgLmpvaW4oJ1xcbicpXG4gICAgICAucmVwbGFjZSgvXFxuezMsfS9nLCAnXFxuXFxuJykgLy8gQ2xlYW4gdXAgZXhjZXNzaXZlIG5ld2xpbmVzXG4gICAgICAudHJpbSgpO1xuICB9O1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBkZXRlY3QgTUNQLXJlbGF0ZWQgcXVlcmllcyAoZXhjbHVkaW5nIGRpcmVjdCB0b29sIGNvbW1hbmRzKVxuICBjb25zdCBpc01DUFF1ZXJ5ID0gKHRleHQ6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgIC8vIERvbid0IHRyZWF0IGRpcmVjdCB0b29sIGNvbW1hbmRzIGFzIE5MUCBxdWVyaWVzXG4gICAgaWYgKHRleHQuc3RhcnRzV2l0aCgnLycpKSByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgLy8gTG9vayBmb3Iga2V5d29yZHMgdGhhdCBzdWdnZXN0IE1DUCBhbmFseXNpcyB3b3VsZCBiZSBoZWxwZnVsXG4gICAgY29uc3QgbWNwS2V5d29yZHMgPSBbXG4gICAgICAnYW5hbHl6ZScsICdleGFtaW5lJywgJ3JldmlldycsICdleHBsYWluJywgJ3VuZGVyc3RhbmQnLCAnYXJjaGl0ZWN0dXJlJyxcbiAgICAgICdzdHJ1Y3R1cmUnLCAnY29kZScsICdjb21wb25lbnQnLCAnZnVuY3Rpb24nLCAnaW1wbGVtZW50YXRpb24nLCAncGF0dGVybicsXG4gICAgICAnYmVzdCBwcmFjdGljZScsICdpc3N1ZScsICdidWcnLCAnZXJyb3InLCAncGVyZm9ybWFuY2UnLCAnb3B0aW1pemF0aW9uJyxcbiAgICAgICdyZWZhY3RvcicsICdpbXByb3ZlbWVudCcsICdkb2N1bWVudGF0aW9uJywgJ292ZXJ2aWV3JywgJ3N1bW1hcnknLFxuICAgICAgJ2hvdyBkb2VzJywgJ3doYXQgaXMnLCAnd2h5IGlzJywgJ3doZXJlIGlzJywgJ3doZW4gaXMnLCAnd2hpY2gnXG4gICAgXTtcbiAgICBcbiAgICBjb25zdCBsb3dlclRleHQgPSB0ZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIG1jcEtleXdvcmRzLnNvbWUoa2V5d29yZCA9PiBsb3dlclRleHQuaW5jbHVkZXMoa2V5d29yZCkpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVRvb2xTZWxlY3RvckNsb3NlID0gKCkgPT4ge1xuICAgIHNldE1lc3NhZ2UoXCJcIik7XG4gICAgaW5wdXRSZWYuY3VycmVudD8uZm9jdXMoKTtcbiAgfTtcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIGNvbnZleE11dGF0aW9ucyBvYmplY3QgZm9yIGFnZW50c1xuICBjb25zdCBjcmVhdGVDb252ZXhNdXRhdGlvbnMgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVuc3VyZUluc3RydWN0aW9uc1Byb2plY3QsXG4gICAgICBjcmVhdGVJbnN0cnVjdGlvbkZpbGU6IGNyZWF0ZUluc3RydWN0aW9uLFxuICAgICAgdXBzZXJ0UG9zdCxcbiAgICAgIHNjaGVkdWxlUG9zdCxcbiAgICAgIGNyZWF0ZUNvbnRlbnRDcmVhdGlvbkZpbGUsXG4gICAgICBjcmVhdGVQcm9qZWN0OiBhc3luYyAocGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGNyZWF0ZVByb2plY3Qoe1xuICAgICAgICAgIG5hbWU6IHBhcmFtcy5uYW1lLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBwYXJhbXMuZGVzY3JpcHRpb24sXG4gICAgICAgICAgc3RhdHVzOiBwYXJhbXMuc3RhdHVzIHx8ICdhY3RpdmUnLFxuICAgICAgICAgIGJ1ZGdldDogcGFyYW1zLmJ1ZGdldCxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgZ2V0UHJvamVjdHM6IGFzeW5jICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGFsbFByb2plY3RzIHx8IFtdO1xuICAgICAgfSxcbiAgICAgIGdldEFsbEZpbGVzOiBhc3luYyAoKSA9PiB7XG4gICAgICAgIHJldHVybiBnZXRBbGxVc2VyRmlsZXMgfHwgW107XG4gICAgICB9LFxuICAgICAgc3RvcmVDaGF0TWVzc2FnZTogYXN5bmMgKHBhcmFtczogYW55KSA9PiB7XG4gICAgICAgIHJldHVybiBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICByb2xlOiBwYXJhbXMucm9sZSxcbiAgICAgICAgICBjb250ZW50OiBwYXJhbXMuY29udGVudCxcbiAgICAgICAgICBzZXNzaW9uSWQ6IHBhcmFtcy5zZXNzaW9uSWQgfHwgc2Vzc2lvbklkLFxuICAgICAgICAgIG9wZXJhdGlvbjogcGFyYW1zLm9wZXJhdGlvbixcbiAgICAgICAgICBwcm9jZXNzSW5kaWNhdG9yOiBwYXJhbXMucHJvY2Vzc0luZGljYXRvcixcbiAgICAgICAgICBpbnRlcmFjdGl2ZUNvbXBvbmVudDogcGFyYW1zLmludGVyYWN0aXZlQ29tcG9uZW50LFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICB1cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudDogYXN5bmMgKHBhcmFtczogYW55KSA9PiB7XG4gICAgICAgIHJldHVybiBhd2FpdCB1cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCh7XG4gICAgICAgICAgbWVzc2FnZUlkOiBwYXJhbXMubWVzc2FnZUlkLFxuICAgICAgICAgIHN0YXR1czogcGFyYW1zLnN0YXR1cyxcbiAgICAgICAgICByZXN1bHQ6IHBhcmFtcy5yZXN1bHQsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGNyZWF0ZUZpbGU6IGFzeW5jIChwYXJhbXM6IGFueSkgPT4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgY3JlYXRlRmlsZSh7XG4gICAgICAgICAgbmFtZTogcGFyYW1zLm5hbWUsXG4gICAgICAgICAgdHlwZTogcGFyYW1zLnR5cGUsXG4gICAgICAgICAgcHJvamVjdElkOiBwYXJhbXMucHJvamVjdElkLCAvLyBUaGlzIHNob3VsZCBiZSBhbiBJZDxcInByb2plY3RzXCI+IGZyb20gdGhlIGFjdHVhbCBwcm9qZWN0IGNyZWF0aW9uXG4gICAgICAgICAgY29udGVudDogcGFyYW1zLmNvbnRlbnQsXG4gICAgICAgICAgZXh0ZW5zaW9uOiBwYXJhbXMuZXh0ZW5zaW9uLFxuICAgICAgICAgIHBsYXRmb3JtOiBwYXJhbXMucGxhdGZvcm0sXG4gICAgICAgICAgc2l6ZTogcGFyYW1zLnNpemUsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGdldEFsbFBvc3RzOiBhc3luYyAoKSA9PiB7XG4gICAgICAgIHJldHVybiBhbGxQb3N0cyB8fCBbXTtcbiAgICAgIH0sXG4gICAgICBlZGl0RmlsZVdpdGhBSTogYXN5bmMgKHBhcmFtczogYW55KSA9PiB7XG4gICAgICAgIHJldHVybiBhd2FpdCBlZGl0RmlsZVdpdGhBSSh7XG4gICAgICAgICAgZmlsZU5hbWU6IHBhcmFtcy5maWxlTmFtZSxcbiAgICAgICAgICBvcmlnaW5hbENvbnRlbnQ6IHBhcmFtcy5vcmlnaW5hbENvbnRlbnQsXG4gICAgICAgICAgZWRpdEluc3RydWN0aW9uczogcGFyYW1zLmVkaXRJbnN0cnVjdGlvbnMsXG4gICAgICAgICAgZmlsZVR5cGU6IHBhcmFtcy5maWxlVHlwZSxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgdXBkYXRlRmlsZUNvbnRlbnQ6IGFzeW5jIChwYXJhbXM6IGFueSkgPT4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgdXBkYXRlRmlsZUNvbnRlbnQoe1xuICAgICAgICAgIGZpbGVJZDogcGFyYW1zLmZpbGVJZCxcbiAgICAgICAgICBjb250ZW50OiBwYXJhbXMuY29udGVudCxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgLy8gQ2FtcGFpZ24tcmVsYXRlZCBmdW5jdGlvbnMgKHNpbXBsaWZpZWQgZm9yIG5vdylcbiAgICAgIGNyZWF0ZUNhbXBhaWduOiBhc3luYyAocGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgLy8gRm9yIG5vdywganVzdCByZXR1cm4gYSBzaW1wbGUgY2FtcGFpZ24gSUQgc2luY2UgdGhlIEFQSSBpc24ndCByZWFkeVxuICAgICAgICBjb25zb2xlLmxvZygnQ2FtcGFpZ24gY3JlYXRpb24gcmVxdWVzdGVkOicsIHBhcmFtcyk7XG4gICAgICAgIHJldHVybiB7IF9pZDogYGNhbXBhaWduXyR7RGF0ZS5ub3coKX1gIH07XG4gICAgICB9LFxuICAgICAgY3JlYXRlUG9zdHNCYXRjaDogYXN5bmMgKHBhcmFtczogYW55KSA9PiB7XG4gICAgICAgIC8vIEZvciBub3csIGp1c3QgbG9nIHRoZSBiYXRjaCBjcmVhdGlvblxuICAgICAgICBjb25zb2xlLmxvZygnQmF0Y2ggcG9zdHMgY3JlYXRpb24gcmVxdWVzdGVkOicsIHBhcmFtcyk7XG4gICAgICAgIHJldHVybiBwYXJhbXMucG9zdHMubWFwKChfOiBhbnksIGluZGV4OiBudW1iZXIpID0+IGBwb3N0XyR7RGF0ZS5ub3coKX1fJHtpbmRleH1gKTtcbiAgICAgIH0sXG4gICAgfTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTdWJtaXQgPSBhc3luYyAoZTogUmVhY3QuRm9ybUV2ZW50KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIFxuICAgIC8vIENoZWNrIHNlc3Npb24gbGltaXQgYmVmb3JlIHByb2Nlc3NpbmdcbiAgICBpZiAoIWNhbkFkZE1lc3NhZ2VzKCkpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIkNhbm5vdCBzZW5kIG1lc3NhZ2U6IFNlc3Npb24gbGltaXQgcmVhY2hlZFwiKTtcbiAgICAgIC8vIEFkZCBhIHRlcm1pbmFsIGZlZWRiYWNrIG1lc3NhZ2UgYWJvdXQgdGhlIGxpbWl0XG4gICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgcm9sZTogXCJ0ZXJtaW5hbFwiLFxuICAgICAgICBjb250ZW50OiBgWyR7bmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoJ2VuLVVTJywgeyBcbiAgICAgICAgICBob3VyMTI6IGZhbHNlLCBcbiAgICAgICAgICBob3VyOiAnMi1kaWdpdCcsIFxuICAgICAgICAgIG1pbnV0ZTogJzItZGlnaXQnLCBcbiAgICAgICAgICBzZWNvbmQ6ICcyLWRpZ2l0JyBcbiAgICAgICAgfSl9XSDwn5qoIE1lc3NhZ2Ugbm90IHNlbnQ6IFNlc3Npb24gbGltaXQgcmVhY2hlZCAoNTAwIG1lc3NhZ2VzKVxuUGxlYXNlIHN0YXJ0IGEgbmV3IHNlc3Npb24gdG8gY29udGludWUgY2hhdHRpbmcuYCxcbiAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGlmIChtZXNzYWdlLnRyaW0oKSAmJiAhaXNMb2FkaW5nKSB7XG4gICAgICBjb25zdCBtZXNzYWdlQ29udGVudCA9IG1lc3NhZ2UudHJpbSgpO1xuICAgICAgY29uc29sZS5sb2coJ/CfkqwgVXNlciBzdWJtaXR0aW5nIG1lc3NhZ2U6JywgbWVzc2FnZUNvbnRlbnQpO1xuICAgICAgc2V0TWVzc2FnZShcIlwiKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBhbiBhZ2VudCBjb21tYW5kIHdoZW4gYW4gYWdlbnQgaXMgYWN0aXZlXG4gICAgICAvLyBCVVQgb25seSByb3V0ZSB0byBlZGl0b3IgYWdlbnQgaWYgaXQgaGFzIGEgc2VsZWN0ZWQgZmlsZSBhbmQgaXMgd2FpdGluZyBmb3IgZWRpdCBpbnN0cnVjdGlvbnNcbiAgICAgIGlmIChhY3RpdmVBZ2VudElkICYmICFtZXNzYWdlQ29udGVudC5zdGFydHNXaXRoKCcvJykpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CfpJYgQ2hlY2tpbmcgaWYgc2hvdWxkIHJvdXRlIHRvIGFjdGl2ZSBhZ2VudDonLCBhY3RpdmVBZ2VudElkKTtcbiAgICAgICAgXG4gICAgICAgIGxldCBzaG91bGRSb3V0ZVRvQWdlbnQgPSB0cnVlO1xuICAgICAgICBcbiAgICAgICAgLy8gU3BlY2lhbCBoYW5kbGluZyBmb3IgZWRpdG9yIGFnZW50IC0gb25seSByb3V0ZSBpZiBmaWxlIGlzIHNlbGVjdGVkIGFuZCB3YWl0aW5nIGZvciBlZGl0IGluc3RydWN0aW9uc1xuICAgICAgICBpZiAoYWN0aXZlQWdlbnRJZCA9PT0gJ2VkaXRvcicpIHtcbiAgICAgICAgICBjb25zdCB7IEVkaXRvckFnZW50IH0gPSBhd2FpdCBpbXBvcnQoJ0Avc3RvcmUvYWdlbnRzL2VkaXRvckFnZW50Jyk7XG4gICAgICAgICAgY29uc3QgaGFzU2VsZWN0ZWRGaWxlID0gRWRpdG9yQWdlbnQuc2VsZWN0ZWRGaWxlICE9PSBudWxsO1xuICAgICAgICAgIGNvbnN0IGlzV2FpdGluZ0ZvckVkaXRJbnN0cnVjdGlvbnMgPSBFZGl0b3JBZ2VudC5jdXJyZW50U3RlcCA9PT0gJ2VkaXQtcmVxdWVzdCc7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gRWRpdG9yIGFnZW50IHN0YXRlIGNoZWNrOicsIHtcbiAgICAgICAgICAgIGhhc1NlbGVjdGVkRmlsZSxcbiAgICAgICAgICAgIGlzV2FpdGluZ0ZvckVkaXRJbnN0cnVjdGlvbnMsXG4gICAgICAgICAgICBzZWxlY3RlZEZpbGU6IEVkaXRvckFnZW50LnNlbGVjdGVkRmlsZSxcbiAgICAgICAgICAgIGN1cnJlbnRTdGVwOiBFZGl0b3JBZ2VudC5jdXJyZW50U3RlcFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIElmIG5vIGZpbGUgc2VsZWN0ZWQsIGFnZW50IHNob3VsZCBzaG93IGZpbGUgc2VsZWN0b3JcbiAgICAgICAgICAvLyBJZiBmaWxlIHNlbGVjdGVkIGFuZCB3YWl0aW5nIGZvciBpbnN0cnVjdGlvbnMsIGFnZW50IHNob3VsZCBwcm9jZXNzIHRoZSBlZGl0XG4gICAgICAgICAgLy8gQWx3YXlzIHJvdXRlIHRvIGVkaXRvciBhZ2VudCB3aGVuIGl0J3MgYWN0aXZlXG4gICAgICAgICAgc2hvdWxkUm91dGVUb0FnZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKHNob3VsZFJvdXRlVG9BZ2VudCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn6SWIFJvdXRpbmcgdG8gYWN0aXZlIGFnZW50OicsIGFjdGl2ZUFnZW50SWQpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+kliBFeGVjdXRpbmcgYWdlbnQgJHthY3RpdmVBZ2VudElkfSB3aXRoIG1lc3NhZ2U6ICR7bWVzc2FnZUNvbnRlbnR9YCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENyZWF0ZSBjb252ZXggbXV0YXRpb25zIGZvciB0aGUgYWdlbnRcbiAgICAgICAgICAgIGNvbnN0IGNvbnZleE11dGF0aW9ucyA9IGNyZWF0ZUNvbnZleE11dGF0aW9ucygpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBsYXN0IG1lc3NhZ2Ugd2FzIGFuIGFnZW50IHdhaXRpbmcgZm9yIGlucHV0XG4gICAgICAgICAgY29uc3QgbGFzdE1lc3NhZ2UgPSBtZXNzYWdlcyAmJiBtZXNzYWdlcy5sZW5ndGggPiAwID8gbWVzc2FnZXNbbWVzc2FnZXMubGVuZ3RoIC0gMV0gOiBudWxsO1xuICAgICAgICAgIGNvbnN0IGlzRm9sbG93VXBUb1dhaXRpbmdBZ2VudCA9IGxhc3RNZXNzYWdlICYmIFxuICAgICAgICAgICAgbGFzdE1lc3NhZ2Uucm9sZSA9PT0gJ2Fzc2lzdGFudCcgJiYgXG4gICAgICAgICAgICBsYXN0TWVzc2FnZS5wcm9jZXNzSW5kaWNhdG9yPy50eXBlID09PSAnd2FpdGluZyc7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS5sb2coJ1ByZS1leGVjdXRpb24gc3RhdGU6Jywge1xuICAgICAgICAgICAgbGFzdE1lc3NhZ2U6IGxhc3RNZXNzYWdlID8ge1xuICAgICAgICAgICAgICByb2xlOiBsYXN0TWVzc2FnZS5yb2xlLFxuICAgICAgICAgICAgICBwcm9jZXNzSW5kaWNhdG9yOiBsYXN0TWVzc2FnZS5wcm9jZXNzSW5kaWNhdG9yLFxuICAgICAgICAgICAgICBjb250ZW50UHJldmlldzogbGFzdE1lc3NhZ2UuY29udGVudC5zdWJzdHJpbmcoMCwgNTApXG4gICAgICAgICAgICB9IDogbnVsbCxcbiAgICAgICAgICAgIGlzRm9sbG93VXBUb1dhaXRpbmdBZ2VudFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEZpbmQgdGhlIGFjdGl2ZSBhZ2VudCBhbmQgaXRzIGRlZmF1bHQgdG9vbFxuICAgICAgICAgIGNvbnN0IGFjdGl2ZUFnZW50ID0gYWdlbnRzLmZpbmQoYWdlbnQgPT4gYWdlbnQuaWQgPT09IGFjdGl2ZUFnZW50SWQpO1xuICAgICAgICAgIGlmIChhY3RpdmVBZ2VudCAmJiBhY3RpdmVBZ2VudC50b29scy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0VG9vbCA9IGFjdGl2ZUFnZW50LnRvb2xzWzBdOyAvLyBVc2UgdGhlIGZpcnN0IHRvb2wgYXMgZGVmYXVsdFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyDinIUgRklYICMxOiBBbHdheXMgc3RvcmUgdGhlIHVzZXIgbWVzc2FnZSBmaXJzdCwgcmVnYXJkbGVzcyBvZiBhZ2VudCByZXN1bHRcbiAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgICAgICAgY29udGVudDogbWVzc2FnZUNvbnRlbnQsXG4gICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgcHJvY2Vzc0luZGljYXRvcjogaXNGb2xsb3dVcFRvV2FpdGluZ0FnZW50ID8ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdjb250aW51aW5nJyxcbiAgICAgICAgICAgICAgICBwcm9jZXNzVHlwZTogJ2ZpbGUtY3JlYXRpb24nLFxuICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZSdcbiAgICAgICAgICAgICAgfSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBFeGVjdXRlIHRoZSBhZ2VudCB0b29sXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleGVjdXRlQWdlbnRUb29sKFxuICAgICAgICAgICAgICBhY3RpdmVBZ2VudElkLFxuICAgICAgICAgICAgICBkZWZhdWx0VG9vbC5pZCxcbiAgICAgICAgICAgICAgbWVzc2FnZUNvbnRlbnQsXG4gICAgICAgICAgICAgIGNvbnZleE11dGF0aW9ucyxcbiAgICAgICAgICAgICAgc2Vzc2lvbklkXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBIYW5kbGUgZW1wdHkgcmVzdWx0cyBmcm9tIGludGVyYWN0aXZlIGNvbXBvbmVudHNcbiAgICAgICAgICAgIGlmICghcmVzdWx0IHx8IHJlc3VsdC50cmltKCkgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0FnZW50IHJldHVybmVkIGVtcHR5IHJlc3VsdCAtIHRoaXMgaXMgZXhwZWN0ZWQgZm9yIGludGVyYWN0aXZlIGNvbXBvbmVudHMnKTtcbiAgICAgICAgICAgICAgLy8gVXNlciBtZXNzYWdlIHdhcyBhbHJlYWR5IHN0b3JlZCBhYm92ZSAtIGludGVyYWN0aXZlIGNvbXBvbmVudCBoYW5kbGVzIHRoZSBVSVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHJlc3VsdCBpbmRpY2F0ZXMgd2FpdGluZyBmb3IgdXNlciBpbnB1dCAocHJvamVjdCBzZWxlY3Rpb24pXG4gICAgICAgICAgICBjb25zdCBpc1dhaXRpbmdGb3JJbnB1dCA9IHJlc3VsdC5pbmNsdWRlcyhcIvCfjq8gU2VsZWN0IGEgcHJvamVjdDpcIikgfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuaW5jbHVkZXMoXCLwn5KhICoqTmV4dCBtZXNzYWdlOioqIEp1c3QgdHlwZSB5b3VyIHNlbGVjdGlvbiFcIikgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5pbmNsdWRlcyhcIldoaWNoIFByb2plY3Q/XCIpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuaW5jbHVkZXMoXCJBdmFpbGFibGUgUHJvamVjdHM6XCIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDaGVjayBpZiByZXN1bHQgaW5kaWNhdGVzIHN1Y2Nlc3NmdWwgY29tcGxldGlvblxuICAgICAgICAgICAgY29uc3QgaXNDb21wbGV0aW9uUmVzcG9uc2UgPSByZXN1bHQuaW5jbHVkZXMoXCLinIUgKipGaWxlIENyZWF0ZWQgU3VjY2Vzc2Z1bGx5ISoqXCIpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuaW5jbHVkZXMoXCJGaWxlIENyZWF0ZWQgU3VjY2Vzc2Z1bGx5IVwiKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmluY2x1ZGVzKFwiKipOZXh0IFN0ZXBzOioqXCIpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuaW5jbHVkZXMoXCJOZXh0IFN0ZXBzOlwiKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0FnZW50IEV4ZWN1dGlvbiBEZWJ1ZzonLCB7XG4gICAgICAgICAgICAgIGFjdGl2ZUFnZW50SWQsXG4gICAgICAgICAgICAgIHJlc3VsdDogcmVzdWx0LnN1YnN0cmluZygwLCAyMDApICsgJy4uLicsXG4gICAgICAgICAgICAgIGlzV2FpdGluZ0ZvcklucHV0LFxuICAgICAgICAgICAgICBpc0NvbXBsZXRpb25SZXNwb25zZSxcbiAgICAgICAgICAgICAgaXNGb2xsb3dVcFRvV2FpdGluZ0FnZW50LFxuICAgICAgICAgICAgICBoYXNTZWxlY3RQcm9qZWN0OiByZXN1bHQuaW5jbHVkZXMoXCLwn46vIFNlbGVjdCBhIHByb2plY3Q6XCIpLFxuICAgICAgICAgICAgICBoYXNOZXh0TWVzc2FnZTogcmVzdWx0LmluY2x1ZGVzKFwi8J+SoSAqKk5leHQgbWVzc2FnZToqKiBKdXN0IHR5cGUgeW91ciBzZWxlY3Rpb24hXCIpLFxuICAgICAgICAgICAgICBoYXNXaGljaFByb2plY3Q6IHJlc3VsdC5pbmNsdWRlcyhcIldoaWNoIFByb2plY3Q/XCIpLFxuICAgICAgICAgICAgICBoYXNBdmFpbGFibGVQcm9qZWN0czogcmVzdWx0LmluY2x1ZGVzKFwiQXZhaWxhYmxlIFByb2plY3RzOlwiKSxcbiAgICAgICAgICAgICAgaGFzRmlsZUNyZWF0ZWQ6IHJlc3VsdC5pbmNsdWRlcyhcIuKchSAqKkZpbGUgQ3JlYXRlZCBTdWNjZXNzZnVsbHkhKipcIiksXG4gICAgICAgICAgICAgIGhhc05leHRTdGVwczogcmVzdWx0LmluY2x1ZGVzKFwiKipOZXh0IFN0ZXBzOioqXCIpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGlzV2FpdGluZ0ZvcklucHV0KSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXR0aW5nIGFjdGl2ZSBhZ2VudCBwcm9jZXNzIGZvciBmaWxlIGNyZWF0aW9uJyk7XG4gICAgICAgICAgICAgIHNldEFjdGl2ZUFnZW50UHJvY2Vzcyh7XG4gICAgICAgICAgICAgICAgYWdlbnRJZDogYWN0aXZlQWdlbnRJZCxcbiAgICAgICAgICAgICAgICBwcm9jZXNzVHlwZTogJ2ZpbGUtY3JlYXRpb24nLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDbGVhcmluZyBhY3RpdmUgYWdlbnQgcHJvY2VzcyAtIGFnZW50IGNvbXBsZXRlZCcpO1xuICAgICAgICAgICAgICAvLyBDbGVhciBhY3RpdmUgcHJvY2VzcyB3aGVuIGFnZW50IGNvbXBsZXRlc1xuICAgICAgICAgICAgICBzZXRBY3RpdmVBZ2VudFByb2Nlc3MobnVsbCk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBGb3IgZWRpdG9yIGFnZW50LCBrZWVwIGl0IGFjdGl2ZSBkdXJpbmcgdGhlIGZpbGUgc2VsZWN0aW9uIHdvcmtmbG93XG4gICAgICAgICAgICAgIC8vIE9ubHkgY2xlYXIgaXQgd2hlbiB0aGUgZWRpdGluZyBpcyBhY3R1YWxseSBjb21wbGV0ZVxuICAgICAgICAgICAgICBpZiAoYWN0aXZlQWdlbnRJZCA9PT0gJ2VkaXRvcicpIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlZGl0b3IgYWdlbnQgaXMgd2FpdGluZyBmb3IgZWRpdCBpbnN0cnVjdGlvbnMgYWZ0ZXIgZmlsZSBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICBjb25zdCB7IEVkaXRvckFnZW50IH0gPSBhd2FpdCBpbXBvcnQoJ0Avc3RvcmUvYWdlbnRzL2VkaXRvckFnZW50Jyk7XG4gICAgICAgICAgICAgICAgaWYgKEVkaXRvckFnZW50LmN1cnJlbnRTdGVwID09PSAnZWRpdC1yZXF1ZXN0JyAmJiBFZGl0b3JBZ2VudC5zZWxlY3RlZEZpbGUpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdLZWVwaW5nIGVkaXRvciBhZ2VudCBhY3RpdmUgLSB3YWl0aW5nIGZvciBlZGl0IGluc3RydWN0aW9ucycpO1xuICAgICAgICAgICAgICAgICAgLy8gS2VlcCB0aGUgYWdlbnQgYWN0aXZlIHRvIHJlY2VpdmUgZWRpdGluZyBpbnN0cnVjdGlvbnNcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKEVkaXRvckFnZW50LmN1cnJlbnRTdGVwID09PSAnZmlsZS1zZWxlY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnS2VlcGluZyBlZGl0b3IgYWdlbnQgYWN0aXZlIC0gd2FpdGluZyBmb3IgZmlsZSBzZWxlY3Rpb24nKTtcbiAgICAgICAgICAgICAgICAgIC8vIEtlZXAgdGhlIGFnZW50IGFjdGl2ZSBkdXJpbmcgZmlsZSBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NsZWFyaW5nIGVkaXRvciBhZ2VudCAtIGVkaXRpbmcgY29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZUFnZW50KG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBDbGVhciBhY3RpdmUgYWdlbnQgSUQgaWYgdGhlIHJlc3VsdCBpbmRpY2F0ZXMgaW50ZXJhY3RpdmUgY29tcG9uZW50cyBhcmUgc2hvd25cbiAgICAgICAgICAgICAgICAvLyBUaGlzIHByZXZlbnRzIHN1YnNlcXVlbnQgdGV4dCBpbnB1dCBmcm9tIGJlaW5nIHJvdXRlZCBiYWNrIHRvIHRoZSBhZ2VudFxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaW5jbHVkZXMoXCJTZWxlY3QgYSBmaWxlIHRvIGVkaXRcIikgfHwgXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5pbmNsdWRlcyhcImZpbGVfc2VsZWN0b3JcIikgfHxcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmluY2x1ZGVzKFwiQ2hvb3NlIGEgZmlsZSBmcm9tIHRoZSBzZWxlY3RvclwiKSkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NsZWFyaW5nIGFjdGl2ZSBhZ2VudCBJRCAtIGludGVyYWN0aXZlIGNvbXBvbmVudCBzaG93bicpO1xuICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlQWdlbnQobnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFN0b3JlIGFnZW50IHJlc3VsdCB3aXRoIHByb2Nlc3MgaW5kaWNhdG9ycyAodXNlciBtZXNzYWdlIGFscmVhZHkgc3RvcmVkIGFib3ZlKVxuICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6IGDwn6SWICoqJHthY3RpdmVBZ2VudC5uYW1lfSBBZ2VudCBSZXN1bHQ6KipcXG5cXG4ke3Jlc3VsdH1gLFxuICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IChpc1dhaXRpbmdGb3JJbnB1dCB8fCBpc0NvbXBsZXRpb25SZXNwb25zZSB8fCBpc0ZvbGxvd1VwVG9XYWl0aW5nQWdlbnQpID8ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICd3YWl0aW5nJyxcbiAgICAgICAgICAgICAgICBwcm9jZXNzVHlwZTogJ2ZpbGUtY3JlYXRpb24nLFxuICAgICAgICAgICAgICAgIGNvbG9yOiAnZ3JlZW4nXG4gICAgICAgICAgICAgIH0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRGVidWcgbG9nIGZvciB3aGF0IHByb2Nlc3NJbmRpY2F0b3Igd2FzIHNldFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1N0b3JlQ2hhdE1lc3NhZ2UgRGVidWc6Jywge1xuICAgICAgICAgICAgICBtZXNzYWdlVHlwZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgIHdpbGxIYXZlUHJvY2Vzc0luZGljYXRvcjogISEoaXNXYWl0aW5nRm9ySW5wdXQgfHwgaXNDb21wbGV0aW9uUmVzcG9uc2UgfHwgaXNGb2xsb3dVcFRvV2FpdGluZ0FnZW50KSxcbiAgICAgICAgICAgICAgaXNXYWl0aW5nRm9ySW5wdXQsXG4gICAgICAgICAgICAgIGlzQ29tcGxldGlvblJlc3BvbnNlLFxuICAgICAgICAgICAgICBpc0ZvbGxvd1VwVG9XYWl0aW5nQWdlbnQsXG4gICAgICAgICAgICAgIHJlc3VsdFNuaXBwZXQ6IHJlc3VsdC5zdWJzdHJpbmcoMCwgMTAwKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignQWdlbnQgZXhlY3V0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTdG9yZSB0aGUgdXNlciBtZXNzYWdlIGFuZCBlcnJvclxuICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgICAgICBjb250ZW50OiBtZXNzYWdlQ29udGVudCxcbiAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgICAgICBjb250ZW50OiBg4p2MIEFnZW50IGV4ZWN1dGlvbiBmYWlsZWQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCxcbiAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgfSAvLyBDbG9zZSB0aGUgaWYgKHNob3VsZFJvdXRlVG9BZ2VudCkgYmxvY2tcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBsb29rcyBsaWtlIGEgbmF0dXJhbCBsYW5ndWFnZSBNQ1AgcXVlcnlcbiAgICAgIGlmIChtY3BDb25uZWN0ZWQgJiYgaXNNQ1BRdWVyeShtZXNzYWdlQ29udGVudCkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBtY3BSZXNwb25zZSA9IGF3YWl0IHByb2Nlc3NOYXR1cmFsTGFuZ3VhZ2UobWVzc2FnZUNvbnRlbnQpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChtY3BSZXNwb25zZS5zdWNjZXNzICYmIG1jcFJlc3BvbnNlLmNvbnRlbnQgJiYgbWNwUmVzcG9uc2UuY29udGVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBFeHRyYWN0IHRoZSBhY3R1YWwgdGV4dCBjb250ZW50IGZyb20gdGhlIE1DUCByZXNwb25zZVxuICAgICAgICAgICAgY29uc3QgdGV4dENvbnRlbnQgPSBtY3BSZXNwb25zZS5jb250ZW50WzBdLnRleHQ7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFN0cmlwIG1hcmtkb3duIGZvcm1hdHRpbmcgYW5kIGNvbnZlcnQgdG8gcGxhaW4gdGV4dFxuICAgICAgICAgICAgY29uc3QgcGxhaW5UZXh0ID0gc3RyaXBNYXJrZG93bih0ZXh0Q29udGVudCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNlbmQgdGhlIE1DUCByZXNwb25zZSB3aXRoIGNsZWFuIHRleHQgY29udGVudFxuICAgICAgICAgICAgYXdhaXQgc2VuZE1lc3NhZ2UoYPCfpJYgTUNQIEFuYWx5c2lzOlxcblxcbiR7cGxhaW5UZXh0fWApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCBzZW5kTWVzc2FnZShtZXNzYWdlQ29udGVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ01DUCBFcnJvcjonLCBlcnJvcik7XG4gICAgICAgICAgLy8gRmFsbCBiYWNrIHRvIHJlZ3VsYXIgY2hhdFxuICAgICAgICAgIGF3YWl0IHNlbmRNZXNzYWdlKG1lc3NhZ2VDb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmVndWxhciBjaGF0IG1lc3NhZ2UgLSBhZGQgaW5zdHJ1Y3Rpb24gY29udGV4dCBpZiBhdmFpbGFibGVcbiAgICAgICAgbGV0IGNvbnRleHR1YWxNZXNzYWdlID0gbWVzc2FnZUNvbnRlbnQ7XG4gICAgICAgIGlmIChpbnN0cnVjdGlvbkNvbnRleHQpIHtcbiAgICAgICAgICBjb250ZXh0dWFsTWVzc2FnZSA9IGAke2luc3RydWN0aW9uQ29udGV4dH1cXG5cXG4tLS1cXG5cXG4ke21lc3NhZ2VDb250ZW50fWA7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEFsd2F5cyB1c2Ugc3RyZWFtaW5nIHRoaW5raW5nIGZvciBhbGwgbWVzc2FnZXMgKHRoaW5raW5nIGVuYWJsZWQgYnkgZGVmYXVsdClcbiAgICAgICAgYXdhaXQgc2VuZE1lc3NhZ2VXaXRoU3RyZWFtaW5nKGNvbnRleHR1YWxNZXNzYWdlLCBtZXNzYWdlQ29udGVudCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaGFuZGxlU3VibWl0KGUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVJbnB1dENoYW5nZSA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgc2V0TWVzc2FnZSh2YWx1ZSk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IGZsZXgtY29sIG1pbi1oLTBcIj5cbiAgICAgIDxkaXYgXG4gICAgICAgIHJlZj17c2Nyb2xsUmVmfSBcbiAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBiZy1bIzBlMGUwZV0gcC0yIHBiLTggbWluLWgtMCBzY3JvbGxiYXItaGlkZGVuXCJcbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LW1vbm8gdGV4dC14cyBzcGFjZS15LTIgbWluLWgtZnVsbFwiPlxuICAgICAgICAgIHsvKiBUZXJtaW5hbCBXZWxjb21lIFRleHQgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjY2NjY2NjXSBzcGFjZS15LTEgbWItNFwiPlxuICAgICAgICAgICAgPGRpdj5FQUMgRmluYW5jaWFsIERhc2hib2FyZCAtIEFJIEFzc2lzdGFudDwvZGl2PlxuICAgICAgICAgICAge21jcEVycm9yICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjZjQ4NzcxXSB0ZXh0LXhzXCI+TUNQIEVycm9yOiB7bWNwRXJyb3J9PC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjODU4NTg1XSBtdC0yXCI+QUkgQXNzaXN0YW50IHJlYWR5IGZvciBFQUMgcHJvamVjdCBxdWVzdGlvbnMuPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyM4NTg1ODVdIHRleHQteHNcIj5TZXNzaW9uOiB7c2Vzc2lvbklkLnNsaWNlKC04KX08L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgey8qIFNlc3Npb24gU3RhdHVzIGFuZCBMaW1pdHMgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyM4NTg1ODVdIHRleHQteHNcIj5cbiAgICAgICAgICAgICAgTWVzc2FnZXM6IHttZXNzYWdlQ291bnR9LzUwMFxuICAgICAgICAgICAgICB7aXNOZWFyU2Vzc2lvbkxpbWl0ICYmIChcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjZjQ4NzcxXSBtbC0yXCI+4pqg77iPIEFwcHJvYWNoaW5nIGxpbWl0PC9zcGFuPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7aXNBdFNlc3Npb25MaW1pdCAmJiAoXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bI2Y0ODc3MV0gbWwtMlwiPvCfmqggU2Vzc2lvbiBmdWxsPC9zcGFuPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcblxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIE1lc3NhZ2VzICovfVxuICAgICAgICAgIHttZXNzYWdlcz8ubWFwKChtc2csIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAvLyBVc2UgdGhlIHN0b3JlZCBwcm9jZXNzSW5kaWNhdG9yIGZvciB2aXN1YWwgY29udGludWl0eVxuICAgICAgICAgICAgY29uc3QgaGFzUHJvY2Vzc0luZGljYXRvciA9IG1zZy5wcm9jZXNzSW5kaWNhdG9yO1xuICAgICAgICAgICAgY29uc3QgaXNVc2VyUHJvY2Vzc01lc3NhZ2UgPSBoYXNQcm9jZXNzSW5kaWNhdG9yICYmIG1zZy5yb2xlID09PSAndXNlcicgJiYgaGFzUHJvY2Vzc0luZGljYXRvci50eXBlID09PSAnY29udGludWluZyc7XG4gICAgICAgICAgICBjb25zdCBpc0FnZW50UHJvY2Vzc01lc3NhZ2UgPSBoYXNQcm9jZXNzSW5kaWNhdG9yICYmIG1zZy5yb2xlID09PSAnYXNzaXN0YW50JyAmJiBoYXNQcm9jZXNzSW5kaWNhdG9yLnR5cGUgPT09ICd3YWl0aW5nJztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgICB7bXNnLnJvbGUgPT09ICd1c2VyJyAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHRleHQtWyMwMDdhY2NdICR7aXNVc2VyUHJvY2Vzc01lc3NhZ2UgPyAnYm9yZGVyLWwtNCBib3JkZXItWyMwMDc4ZDRdIHBsLTMnIDogJyd9YH0+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWyMwMDdhY2NdXCI+JCB1c2VyOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMSB0ZXh0LVsjY2NjY2NjXVwiPnttc2cuY29udGVudH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIHtpc1VzZXJQcm9jZXNzTWVzc2FnZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSB0ZXh0LVsjMDA3OGQ0XSBtdC0xIG9wYWNpdHktODBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIOKGsyBDb250aW51aW5nIHttc2cucHJvY2Vzc0luZGljYXRvcj8ucHJvY2Vzc1R5cGU/LnJlcGxhY2UoJy0nLCAnICcpfS4uLlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7bXNnLnJvbGUgPT09ICdhc3Npc3RhbnQnICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdGV4dC1bIzRlYzliMF0gJHtpc0FnZW50UHJvY2Vzc01lc3NhZ2UgPyAnYm9yZGVyLWwtNCBib3JkZXItWyM0ZWM5YjBdIHBsLTMnIDogJyd9YH0+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWyM0ZWM5YjBdXCI+JCBhc3Npc3RhbnQ6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1sLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8TWFya2Rvd25SZW5kZXJlciBjb250ZW50PXttc2cuY29udGVudH0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB7LyogSW50ZXJhY3RpdmUgQ29tcG9uZW50ICovfVxuICAgICAgICAgICAgICAgICAgICB7bXNnLmludGVyYWN0aXZlQ29tcG9uZW50ICYmIChtc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuc3RhdHVzID09PSAncGVuZGluZycgfHwgbXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcpICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgbWwtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC50eXBlID09PSAncHJvamVjdF9zZWxlY3RvcicgJiYgIW1zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5kYXRhPy5wcm9qZWN0TmFtZUlucHV0ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFByb2plY3RTZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVEZXRhaWxzPXttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuZGF0YT8uZmlsZURldGFpbHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5zdGF0dXMgPT09ICdjb21wbGV0ZWQnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUHJvamVjdD17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcgPyBtc2cuaW50ZXJhY3RpdmVDb21wb25lbnQucmVzdWx0Py5zZWxlY3RlZFByb2plY3QgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Qcm9qZWN0U2VsZWN0ZWQ9e2FzeW5jIChwcm9qZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGNvbXBvbmVudCBzdGF0dXMgdG8gY29tcGxldGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IG1zZy5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IHsgc2VsZWN0ZWRQcm9qZWN0OiBwcm9qZWN0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIHRoZSBmaWxlIGNyZWF0aW9uIHByb2Nlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udmV4TXV0YXRpb25zID0gY3JlYXRlQ29udmV4TXV0YXRpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVDcmVhdG9yQWdlbnQgPSBhZ2VudHMuZmluZChhID0+IGEuaWQgPT09ICdmaWxlLWNyZWF0b3InKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVDcmVhdG9yQWdlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTaW11bGF0ZSB1c2VyIGlucHV0IGZvciBwcm9qZWN0IHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3RTZWxlY3Rpb25JbnB1dCA9IGBBZGQgaXQgdG8gJHtwcm9qZWN0Lm5hbWV9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZW5kIHVzZXIgbWVzc2FnZSBzaG93aW5nIHRoZSBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGBTZWxlY3RlZCBwcm9qZWN0OiAke3Byb2plY3QubmFtZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzSW5kaWNhdG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb250aW51aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1R5cGU6ICdwcm9qZWN0X3NlbGVjdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSB0aGUgYWdlbnQgd2l0aCB0aGUgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfmoAgRXhlY3V0aW5nIGFnZW50IHdpdGggcHJvamVjdCBzZWxlY3Rpb246JywgcHJvamVjdFNlbGVjdGlvbklucHV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpyBBZ2VudCBkZXRhaWxzOicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnZW50SWQ6IGZpbGVDcmVhdG9yQWdlbnQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sSWQ6IGZpbGVDcmVhdG9yQWdlbnQudG9vbHNbMF0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sTmFtZTogZmlsZUNyZWF0b3JBZ2VudC50b29sc1swXS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udmV4TXV0YXRpb25zQXZhaWxhYmxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUZpbGU6ICEhY29udmV4TXV0YXRpb25zLmNyZWF0ZUZpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldFByb2plY3RzOiAhIWNvbnZleE11dGF0aW9ucy5nZXRQcm9qZWN0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVDaGF0TWVzc2FnZTogISFjb252ZXhNdXRhdGlvbnMuc3RvcmVDaGF0TWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleGVjdXRlQWdlbnRUb29sKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZUNyZWF0b3JBZ2VudC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVDcmVhdG9yQWdlbnQudG9vbHNbMF0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0U2VsZWN0aW9uSW5wdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXhNdXRhdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OlIEFnZW50IGV4ZWN1dGlvbiByZXN1bHQ6JywgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TjyBSZXN1bHQgbGVuZ3RoOicsIHJlc3VsdD8ubGVuZ3RoIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OLIFJlc3VsdCBjb250ZW50IHByZXZpZXc6JywgcmVzdWx0Py5zdWJzdHJpbmcoMCwgMTAwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gUmVzdWx0IHR5cGU6JywgdHlwZW9mIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq8gSXMgcmVzdWx0IHRydXRoeTonLCAhIXJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq8gSXMgcmVzdWx0IGVtcHR5IHN0cmluZzonLCByZXN1bHQgPT09IFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46vIFJlc3VsdCB0cmltbWVkIGxlbmd0aDonLCByZXN1bHQ/LnRyaW0oKT8ubGVuZ3RoIHx8IDApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBzdG9yZSBub24tZW1wdHkgcmVzdWx0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnRyaW0oKSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBTdG9yaW5nIHN1Y2Nlc3MgbWVzc2FnZSB0byBjaGF0Li4uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TiyBDdXJyZW50IHNlc3Npb24gSUQ6Jywgc2Vzc2lvbklkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OLIE1lc3NhZ2UgY29udGVudCBsZW5ndGg6JywgcmVzdWx0Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBhZ2VudCdzIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdG9yZWRNZXNzYWdlID0gYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzSW5kaWNhdG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhaXRpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NUeXBlOiAnZmlsZV9jcmVhdGlvbl9jb21wbGV0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdncmVlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBTdWNjZXNzIG1lc3NhZ2Ugc3RvcmVkIHRvIGNoYXQhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TiyBTdG9yZWQgbWVzc2FnZSByZXN1bHQ6Jywgc3RvcmVkTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdhaXQgYSBtb21lbnQgYW5kIGNoZWNrIGlmIHRoZSBtZXNzYWdlIGFwcGVhcnMgaW4gdGhlIG1lc3NhZ2VzIGFycmF5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gTWVzc2FnZXMgYWZ0ZXIgc3VjY2VzcyBzdG9yYWdlOicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbE1lc3NhZ2VzOiBtZXNzYWdlcz8ubGVuZ3RoIHx8IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE1lc3NhZ2U6IG1lc3NhZ2VzPy5bbWVzc2FnZXMubGVuZ3RoIC0gMV0/LmNvbnRlbnQ/LnN1YnN0cmluZygwLCA1MCkgKyAnLi4uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0TWVzc2FnZVJvbGU6IG1lc3NhZ2VzPy5bbWVzc2FnZXMubGVuZ3RoIC0gMV0/LnJvbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBBZ2VudCByZXR1cm5lZCBlbXB0eSByZXN1bHQgYWZ0ZXIgcHJvamVjdCBzZWxlY3Rpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGhhbmRsaW5nIHByb2plY3Qgc2VsZWN0aW9uOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJ+KdjCBFcnJvciBwcm9jZXNzaW5nIHByb2plY3Qgc2VsZWN0aW9uLiBQbGVhc2UgdHJ5IGFnYWluLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DYW5jZWw9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IG1zZy5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY2FuY2VsbGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICfinYwgRmlsZSBjcmVhdGlvbiBjYW5jZWxsZWQuIFlvdSBjYW4gc3RhcnQgYSBuZXcgZmlsZSBjcmVhdGlvbiByZXF1ZXN0IGFueXRpbWUuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjYW5jZWxsaW5nIHByb2plY3Qgc2VsZWN0aW9uOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1iLTJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAge21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC50eXBlID09PSAnZmlsZV9zZWxlY3RvcicgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RmlsZVNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5zdGF0dXMgPT09ICdjb21wbGV0ZWQnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRmlsZT17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcgPyBtc2cuaW50ZXJhY3RpdmVDb21wb25lbnQucmVzdWx0Py5zZWxlY3RlZEZpbGUgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25GaWxlU2VsZWN0ZWQ9e2FzeW5jIChmaWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpSBbRmlsZVNlbGVjdG9yXSBGaWxlIHNlbGVjdGVkIGNhbGxiYWNrIHRyaWdnZXJlZDonLCBmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSB0aGUgZmlsZSBuYW1lIGZvciBkYXRhYmFzZSBzdG9yYWdlIGJ1dCBwYXNzIGNvbXBsZXRlIG9iamVjdCB0byBhZ2VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlUGF0aCA9IGZpbGUubmFtZSB8fCBmaWxlLnBhdGggfHwgZmlsZS5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SlIFtGaWxlU2VsZWN0b3JdIFVwZGF0aW5nIGludGVyYWN0aXZlIGNvbXBvbmVudCBzdGF0dXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBjb21wb25lbnQgc3RhdHVzIHRvIGNvbXBsZXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBtc2cuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiB7IHNlbGVjdGVkRmlsZTogZmlsZVBhdGggfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKUgW0ZpbGVTZWxlY3Rvcl0gQ29udGludWluZyB0aGUgZmlsZSBzZWxlY3Rpb24gcHJvY2VzcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb250aW51ZSB0aGUgZmlsZSBzZWxlY3Rpb24gcHJvY2VzcyBiYXNlZCBvbiB0aGUgYWN0aXZlIGFnZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZleE11dGF0aW9ucyA9IGNyZWF0ZUNvbnZleE11dGF0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVBZ2VudCA9IGFnZW50cy5maW5kKGEgPT4gYS5pZCA9PT0gYWN0aXZlQWdlbnRJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlQWdlbnQgJiYgYWN0aXZlQWdlbnRJZCA9PT0gJ2RpcmVjdG9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SlIFtGaWxlU2VsZWN0b3JdIEZvdW5kIGRpcmVjdG9yIGFnZW50LCBwcm9jZXNzaW5nIGNhbXBhaWduIGluc3RydWN0aW9ucycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlbmQgdXNlciBtZXNzYWdlIHNob3dpbmcgdGhlIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogYFNlbGVjdGVkIGZpbGU6ICR7ZmlsZS5uYW1lfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NvbnRpbnVpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVHlwZTogJ2ZpbGVfc2VsZWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpSBbRmlsZVNlbGVjdG9yXSBFeGVjdXRpbmcgZGlyZWN0b3IgYWdlbnQgd2l0aCBmaWxlIHNlbGVjdGlvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleGVjdXRlQWdlbnRUb29sKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVBZ2VudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVBZ2VudC50b29sc1swXS5jb21tYW5kLCAvLyBVc2UgdGhlIGNvbW1hbmQgc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBTZWxlY3RlZCBmaWxlOiAke2ZpbGUubmFtZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXhNdXRhdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKUgW0ZpbGVTZWxlY3Rvcl0gRGlyZWN0b3IgYWdlbnQgZXhlY3V0aW9uIHJlc3VsdDonLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZSB0aGUgZGlyZWN0b3IgYWdlbnQncyByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3Rvb2xfZXhlY3V0ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRmlsZTogZmlsZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWdlbnRUeXBlOiAnZGlyZWN0b3InXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFtGaWxlU2VsZWN0b3JdIEVycm9yIGV4ZWN1dGluZyBkaXJlY3RvciBhZ2VudDonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGl2ZUFnZW50ICYmIGFjdGl2ZUFnZW50SWQgPT09ICdlZGl0b3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKUgW0ZpbGVTZWxlY3Rvcl0gRm91bmQgZWRpdG9yIGFnZW50LCBwcm9jZXNzaW5nIGZpbGUgZWRpdCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlbmQgdXNlciBtZXNzYWdlIHNob3dpbmcgdGhlIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogYFNlbGVjdGVkIGZpbGU6ICR7ZmlsZS5uYW1lfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NvbnRpbnVpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVHlwZTogJ2ZpbGVfc2VsZWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpSBbRmlsZVNlbGVjdG9yXSBDYWxsaW5nIGhhbmRsZUZpbGVTZWxlY3RlZCBtZXRob2QnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDYWxsIHRoZSBlZGl0b3IgYWdlbnQncyBoYW5kbGVGaWxlU2VsZWN0ZWQgbWV0aG9kIHdpdGggY29tcGxldGUgZmlsZSBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBlZGl0b3JBZ2VudDogYWN0dWFsRWRpdG9yQWdlbnQgfSA9IGF3YWl0IGltcG9ydCgnQC9zdG9yZS9hZ2VudHMvZWRpdG9yQWdlbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SlIFtGaWxlU2VsZWN0b3JdIEltcG9ydGVkIGFjdHVhbCBlZGl0b3IgYWdlbnQgaW5zdGFuY2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SlIFtGaWxlU2VsZWN0b3JdIEFnZW50IGhhcyBoYW5kbGVGaWxlU2VsZWN0ZWQ6JywgJ2hhbmRsZUZpbGVTZWxlY3RlZCcgaW4gYWN0dWFsRWRpdG9yQWdlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJ2hhbmRsZUZpbGVTZWxlY3RlZCcgaW4gYWN0dWFsRWRpdG9yQWdlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgYWN0dWFsRWRpdG9yQWdlbnQuaGFuZGxlRmlsZVNlbGVjdGVkKHNlc3Npb25JZCwgZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SlIFtGaWxlU2VsZWN0b3JdIGhhbmRsZUZpbGVTZWxlY3RlZCBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW0ZpbGVTZWxlY3Rvcl0gaGFuZGxlRmlsZVNlbGVjdGVkIG1ldGhvZCBub3QgZm91bmQgb24gZWRpdG9yIGFnZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbRmlsZVNlbGVjdG9yXSBFcnJvciBjYWxsaW5nIGhhbmRsZUZpbGVTZWxlY3RlZDonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKUgW0ZpbGVTZWxlY3Rvcl0gU3RvcmluZyBtZXNzYWdlIHdpdGggZWRpdCBpbnN0cnVjdGlvbnMgaW5wdXQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTaG93IGVkaXQgaW5zdHJ1Y3Rpb25zIGlucHV0IGNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBg4pyFICoqRmlsZSBTZWxlY3RlZDogJHtmaWxlLm5hbWV9Kipcblxu8J+ThCAqKlRoZSBmaWxlIGhhcyBiZWVuIG9wZW5lZCBpbiB0aGUgZWRpdG9yIHRhYi4qKmAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZUNvbXBvbmVudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZWRpdF9pbnN0cnVjdGlvbnNfaW5wdXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lOiBmaWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICdEZXNjcmliZSB3aGF0IGNoYW5nZXMgeW91IHdhbnQgdG8gbWFrZSB0byB0aGlzIGZpbGUuLi4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4YW1wbGVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQWRkIGEgc2VjdGlvbiBhYm91dCBiZXN0IHByYWN0aWNlcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVXBkYXRlIHRoZSBwcmljaW5nIGluZm9ybWF0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdNYWtlIHRoZSB0b25lIG1vcmUgcHJvZmVzc2lvbmFsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGaXggYW55IGdyYW1tYXIgb3Igc3BlbGxpbmcgZXJyb3JzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBZGQgZXhhbXBsZXMgYW5kIGNvZGUgc25pcHBldHMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGhhbmRsaW5nIGZpbGUgc2VsZWN0aW9uOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBtc2cuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NhbmNlbGxlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAn4p2MIEZpbGUgZWRpdGluZyBjYW5jZWxsZWQuIFlvdSBjYW4gc3RhcnQgYSBuZXcgZWRpdCByZXF1ZXN0IGFueXRpbWUuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2FuY2VsbGluZyBmaWxlIHNlbGVjdGlvbjonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtYi0yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQudHlwZSA9PT0gJ2VkaXRfaW5zdHJ1Y3Rpb25zX2lucHV0JyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxFZGl0SW5zdHJ1Y3Rpb25zSW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LmRhdGE/LnBsYWNlaG9sZGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lPXttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuZGF0YT8uZmlsZU5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhhbXBsZXM9e21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5kYXRhPy5leGFtcGxlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkluc3RydWN0aW9uc1N1Ym1pdHRlZD17YXN5bmMgKGluc3RydWN0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBjb21wb25lbnQgc3RhdHVzIHRvIGNvbXBsZXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBtc2cuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiB7IGluc3RydWN0aW9ucyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZW5kIHVzZXIgbWVzc2FnZSBzaG93aW5nIHRoZSBlZGl0IGluc3RydWN0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogaW5zdHJ1Y3Rpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb250aW51aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NUeXBlOiAnZWRpdF9pbnN0cnVjdGlvbnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb250aW51ZSB0aGUgZWRpdGluZyBwcm9jZXNzIHVzaW5nIGFnZW50IHJlZ2lzdHJ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZleE11dGF0aW9ucyA9IGNyZWF0ZUNvbnZleE11dGF0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleGVjdXRlQWdlbnRUb29sKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlZGl0b3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlZGl0LWZpbGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydWN0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXhNdXRhdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHByb2Nlc3NpbmcgZWRpdCBpbnN0cnVjdGlvbnM6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBg4p2MICoqRXJyb3IgcHJvY2Vzc2luZyBlZGl0IGluc3RydWN0aW9ucyoqXFxuXFxuJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yIG9jY3VycmVkJ31gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBtc2cuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NhbmNlbGxlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAn4p2MIEVkaXQgaW5zdHJ1Y3Rpb25zIGNhbmNlbGxlZC4gWW91IGNhbiBzdGFydCBhIG5ldyBlZGl0IHJlcXVlc3QgYW55dGltZS4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjYW5jZWxsaW5nIGVkaXQgaW5zdHJ1Y3Rpb25zOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1iLTJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAge21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC50eXBlID09PSAncHJvamVjdF9zZWxlY3RvcicgJiYgbXNnLmludGVyYWN0aXZlQ29tcG9uZW50LmRhdGE/LnByb2plY3ROYW1lSW5wdXQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8UHJvamVjdE5hbWVJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuZGF0YT8ucGxhY2Vob2xkZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuZGF0YT8uZGVmYXVsdFZhbHVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUHJvamVjdE5hbWVTdWJtaXR0ZWQ9e2FzeW5jIChwcm9qZWN0TmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBjb21wb25lbnQgc3RhdHVzIHRvIGNvbXBsZXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBtc2cuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiB7IHByb2plY3ROYW1lIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIHRoZSBwcm9qZWN0IGNyZWF0aW9uIHByb2Nlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udmV4TXV0YXRpb25zID0gY3JlYXRlQ29udmV4TXV0YXRpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3RDcmVhdG9yQWdlbnQgPSBhZ2VudHMuZmluZChhID0+IGEuaWQgPT09ICdwcm9qZWN0LWNyZWF0b3InKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2plY3RDcmVhdG9yQWdlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZW5kIHVzZXIgbWVzc2FnZSBzaG93aW5nIHRoZSBwcm9qZWN0IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGBQcm9qZWN0IG5hbWU6ICR7cHJvamVjdE5hbWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NvbnRpbnVpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVHlwZTogJ3Byb2plY3RfbmFtZV9pbnB1dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSB0aGUgYWdlbnQgd2l0aCB0aGUgcHJvamVjdCBuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfmoAgRXhlY3V0aW5nIGFnZW50IHdpdGggcHJvamVjdCBuYW1lOicsIHByb2plY3ROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleGVjdXRlQWdlbnRUb29sKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdENyZWF0b3JBZ2VudC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3RDcmVhdG9yQWdlbnQudG9vbHNbMF0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZleE11dGF0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6UgQWdlbnQgZXhlY3V0aW9uIHJlc3VsdDonLCByZXN1bHQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBzdG9yZSBub24tZW1wdHkgcmVzdWx0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnRyaW0oKSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBTdG9yaW5nIHByb2plY3QgY3JlYXRpb24gc3VjY2VzcyBtZXNzYWdlLi4uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBhZ2VudCdzIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnd2FpdGluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1R5cGU6ICdwcm9qZWN0X2NyZWF0aW9uX2NvbXBsZXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2dyZWVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFByb2plY3QgY3JlYXRpb24gc3VjY2VzcyBtZXNzYWdlIHN0b3JlZCEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBBZ2VudCByZXR1cm5lZCBlbXB0eSByZXN1bHQgYWZ0ZXIgcHJvamVjdCBuYW1lIGlucHV0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBoYW5kbGluZyBwcm9qZWN0IG5hbWUgaW5wdXQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAn4p2MIEVycm9yIHByb2Nlc3NpbmcgcHJvamVjdCBuYW1lLiBQbGVhc2UgdHJ5IGFnYWluLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DYW5jZWw9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IG1zZy5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY2FuY2VsbGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICfinYwgUHJvamVjdCBjcmVhdGlvbiBjYW5jZWxsZWQuIFlvdSBjYW4gc3RhcnQgYSBuZXcgcHJvamVjdCBjcmVhdGlvbiByZXF1ZXN0IGFueXRpbWUuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjYW5jZWxsaW5nIHByb2plY3QgbmFtZSBpbnB1dDonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtYi0yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7KG1zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC50eXBlIGFzIHN0cmluZykgPT09ICdmaWxlX3R5cGVfc2VsZWN0b3InICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEZpbGVUeXBlU2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkZpbGVUeXBlU2VsZWN0ZWQ9e2FzeW5jIChmaWxlVHlwZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgc2VyaWFsaXphYmxlIHZlcnNpb24gb2YgdGhlIGZpbGVUeXBlIHdpdGhvdXQgUmVhY3QgY29tcG9uZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXJpYWxpemFibGVGaWxlVHlwZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBmaWxlVHlwZS50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbjogZmlsZVR5cGUuZXh0ZW5zaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBmaWxlVHlwZS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybTogZmlsZVR5cGUucGxhdGZvcm0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlOiBmaWxlVHlwZS5hdmFpbGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGNvbXBvbmVudCBzdGF0dXMgdG8gY29tcGxldGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IG1zZy5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IHsgZmlsZVR5cGU6IHNlcmlhbGl6YWJsZUZpbGVUeXBlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIHRoZSBmaWxlIGNyZWF0aW9uIHByb2Nlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udmV4TXV0YXRpb25zID0gY3JlYXRlQ29udmV4TXV0YXRpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVDcmVhdG9yQWdlbnQgPSBhZ2VudHMuZmluZChhID0+IGEuaWQgPT09ICdmaWxlLWNyZWF0b3InKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVDcmVhdG9yQWdlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZW5kIHVzZXIgbWVzc2FnZSBzaG93aW5nIHRoZSBmaWxlIHR5cGUgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBgU2VsZWN0ZWQgZmlsZSB0eXBlOiAke2ZpbGVUeXBlLmRlc2NyaXB0aW9ufWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NvbnRpbnVpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVHlwZTogJ2ZpbGVfdHlwZV9zZWxlY3Rpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIGFnZW50IHdpdGggdGhlIGZpbGUgdHlwZSBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+agCBFeGVjdXRpbmcgZmlsZSBjcmVhdG9yIGFnZW50IHdpdGggZmlsZSB0eXBlOicsIGZpbGVUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleGVjdXRlQWdlbnRUb29sKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZUNyZWF0b3JBZ2VudC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVDcmVhdG9yQWdlbnQudG9vbHNbMF0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgRmlsZSB0eXBlOiAke2ZpbGVUeXBlLnR5cGV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZleE11dGF0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6UgRmlsZSBjcmVhdG9yIGFnZW50IHJlc3VsdDonLCByZXN1bHQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBzdG9yZSBub24tZW1wdHkgcmVzdWx0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnRyaW0oKSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBTdG9yaW5nIGZpbGUgdHlwZSBjb250aW51YXRpb24gbWVzc2FnZS4uLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZSB0aGUgYWdlbnQncyByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzSW5kaWNhdG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhaXRpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NUeXBlOiAnZmlsZV90eXBlX2NvbnRpbnVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2dyZWVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEZpbGUgdHlwZSBjb250aW51YXRpb24gbWVzc2FnZSBzdG9yZWQhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gQWdlbnQgcmV0dXJuZWQgZW1wdHkgcmVzdWx0IGFmdGVyIGZpbGUgdHlwZSBzZWxlY3Rpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGhhbmRsaW5nIGZpbGUgdHlwZSBzZWxlY3Rpb246JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAn4p2MIEVycm9yIHByb2Nlc3NpbmcgZmlsZSB0eXBlIHNlbGVjdGlvbi4gUGxlYXNlIHRyeSBhZ2Fpbi4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBtc2cuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NhbmNlbGxlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAn4p2MIEZpbGUgY3JlYXRpb24gY2FuY2VsbGVkLiBZb3UgY2FuIHN0YXJ0IGEgbmV3IGZpbGUgY3JlYXRpb24gcmVxdWVzdCBhbnl0aW1lLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNhbmNlbGxpbmcgZmlsZSB0eXBlIHNlbGVjdGlvbjonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRGaWxlVHlwZT17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcgPyBtc2cuaW50ZXJhY3RpdmVDb21wb25lbnQucmVzdWx0Py5maWxlVHlwZSA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtYi0yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7KG1zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC50eXBlIGFzIHN0cmluZykgPT09ICdmaWxlX25hbWVfaW5wdXQnICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEZpbGVOYW1lSW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LmRhdGE/LnBsYWNlaG9sZGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LmRhdGE/LmRlZmF1bHRWYWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlVHlwZT17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LmRhdGE/LmZpbGVUeXBlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRmlsZU5hbWVTdWJtaXR0ZWQ9e2FzeW5jIChmaWxlTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBjb21wb25lbnQgc3RhdHVzIHRvIGNvbXBsZXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBtc2cuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiB7IGZpbGVOYW1lIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIHRoZSBmaWxlIGNyZWF0aW9uIHByb2Nlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udmV4TXV0YXRpb25zID0gY3JlYXRlQ29udmV4TXV0YXRpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVDcmVhdG9yQWdlbnQgPSBhZ2VudHMuZmluZChhID0+IGEuaWQgPT09ICdmaWxlLWNyZWF0b3InKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVDcmVhdG9yQWdlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIHRoZSBhZ2VudCB3aXRoIHRoZSBmaWxlIG5hbWUgRklSU1RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+agCBFeGVjdXRpbmcgZmlsZSBjcmVhdG9yIGFnZW50IHdpdGggZmlsZSBuYW1lOicsIGZpbGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleGVjdXRlQWdlbnRUb29sKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZUNyZWF0b3JBZ2VudC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVDcmVhdG9yQWdlbnQudG9vbHNbMF0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZleE11dGF0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUSEVOIHNlbmQgdXNlciBtZXNzYWdlIHNob3dpbmcgdGhlIGZpbGUgbmFtZSAoYWZ0ZXIgYWdlbnQgcHJvY2Vzc2VzIGl0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogZmlsZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NvbnRpbnVpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVHlwZTogJ2ZpbGVfbmFtZV9pbnB1dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OlIEZpbGUgY3JlYXRvciBhZ2VudCByZXN1bHQ6JywgcmVzdWx0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgc3RvcmUgbm9uLWVtcHR5IHJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC50cmltKCkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgU3RvcmluZyBmaWxlIGNyZWF0aW9uIGNvbnRpbnVhdGlvbiBtZXNzYWdlLi4uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBhZ2VudCdzIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnd2FpdGluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1R5cGU6ICdmaWxlX2NyZWF0aW9uX2NvbnRpbnVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2dyZWVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEZpbGUgY3JlYXRpb24gY29udGludWF0aW9uIG1lc3NhZ2Ugc3RvcmVkIScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIEFnZW50IHJldHVybmVkIGVtcHR5IHJlc3VsdCBhZnRlciBmaWxlIG5hbWUgaW5wdXQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGhhbmRsaW5nIGZpbGUgbmFtZSBpbnB1dDonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICfinYwgRXJyb3IgcHJvY2Vzc2luZyBmaWxlIG5hbWUuIFBsZWFzZSB0cnkgYWdhaW4uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbD17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogbXNnLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjYW5jZWxsZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJ+KdjCBGaWxlIGNyZWF0aW9uIGNhbmNlbGxlZC4gWW91IGNhbiBzdGFydCBhIG5ldyBmaWxlIGNyZWF0aW9uIHJlcXVlc3QgYW55dGltZS4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjYW5jZWxsaW5nIGZpbGUgbmFtZSBpbnB1dDonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtYi0yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB7aXNBZ2VudFByb2Nlc3NNZXNzYWdlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIG10LTEgb3BhY2l0eS04MFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBzdWNjZXNzZnVsIGZpbGUgY3JlYXRpb24gd2l0aCBzcGVjaWZpYyBmaWxlIGluZm9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1zZy5jb250ZW50LmluY2x1ZGVzKFwiVGhlIGNvbXByZWhlbnNpdmUgaW5zdHJ1Y3Rpb24gZG9jdW1lbnQgaGFzIGJlZW4gY3JlYXRlZCBhbmQgc2F2ZWQgdG8geW91ciBmaWxlcy5cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IGZpbGVuYW1lIGZyb20gdGhlIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlTWF0Y2ggPSBtc2cuY29udGVudC5tYXRjaCgv8J+ThCBcXCpcXCpGaWxlOlxcKlxcKiBgKFteYF0rKWAvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGZpbGVNYXRjaCA/IGZpbGVNYXRjaFsxXSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBwcm9qZWN0RmlsZXMgfSA9IHVzZUVkaXRvclN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gcHJvamVjdEZpbGVzLmZpbmQoZiA9PiBmLm5hbWUgPT09IGZpbGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUVkaXRvclN0b3JlLmdldFN0YXRlKCkub3BlblRhYihmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtWyMwMDdhY2NdIGhvdmVyOnRleHQtWyM0ZWM5YjBdIGhvdmVyOnVuZGVybGluZSBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDihrMgQ2xpY2sgaGVyZSB0byB2aWV3IHlvdXIgZmlsZS4uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIENNTyByZXBvcnQgZ2VuZXJhdGlvbiBzdWNjZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtc2cuY29udGVudC5pbmNsdWRlcyhcIkNNT19SRVBPUlRfR0VORVJBVEVEX1NVQ0NFU1M6XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZU1hdGNoID0gbXNnLmNvbnRlbnQubWF0Y2goL0NNT19SRVBPUlRfR0VORVJBVEVEX1NVQ0NFU1M6XFxzKiguKykkLyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBmaWxlTWF0Y2ggPyBmaWxlTWF0Y2hbMV0udHJpbSgpIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHByb2plY3RGaWxlcyB9ID0gdXNlRWRpdG9yU3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBwcm9qZWN0RmlsZXMuZmluZChmID0+IGYubmFtZSA9PT0gZmlsZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlRWRpdG9yU3RvcmUuZ2V0U3RhdGUoKS5vcGVuVGFiKGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgdGV4dC1bIzAwN2FjY10gaG92ZXI6dGV4dC1bIzRlYzliMF0gaG92ZXI6dW5kZXJsaW5lIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tY29sb3JzIHRleHQteHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidHJhbnNmb3JtIHJvdGF0ZS05MFwiPuKGszwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPcGVuIEluc3RydWN0aW9ucyBGaWxlIFRhYlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIENNTyByZXBvcnQgdGhhdCBuZWVkcyBtYW51YWwgc2F2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobXNnLmNvbnRlbnQuaW5jbHVkZXMoXCJDTU9fUkVQT1JUX01BTlVBTF9TQVZFX05FRURFRDpcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlTWF0Y2ggPSBtc2cuY29udGVudC5tYXRjaCgvQ01PX1JFUE9SVF9NQU5VQUxfU0FWRV9ORUVERUQ6XFxzKiguKykkLyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBmaWxlTWF0Y2ggPyBmaWxlTWF0Y2hbMV0udHJpbSgpIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb252ZXhNdXRhdGlvbnMgPSBjcmVhdGVDb252ZXhNdXRhdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBzYW1lIHJlcG9ydCBjb250ZW50IGZyb20gdGhlIG1lc3NhZ2UgdG8gY3JlYXRlIGluc3RydWN0aW9uIGZpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVwb3J0TWF0Y2ggPSBtc2cuY29udGVudC5tYXRjaCgv8J+TiyBcXCpcXCpNYXJrZXRpbmcgQ2FtcGFpZ24gUmVwb3J0IEdlbmVyYXRlZFxcKlxcKihbXFxzXFxTXSo/KeKaoO+4jyBcXCpcXCpOb3RlOi8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXBvcnRDb250ZW50ID0gcmVwb3J0TWF0Y2ggPyByZXBvcnRNYXRjaFsxXS50cmltKCkgOiAnTWFya2V0aW5nIENhbXBhaWduIFJlcG9ydCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIHRoZSBpbnN0cnVjdGlvbnMgYWdlbnQgdG8gY3JlYXRlIHRoZSBmaWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGV4ZWN1dGVBZ2VudFRvb2woXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luc3RydWN0aW9ucycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ25hdHVyYWwtbGFuZ3VhZ2UtaW5zdHJ1Y3Rpb25zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgQ3JlYXRlIG1hcmtldGluZyBjYW1wYWlnbiBpbnN0cnVjdGlvbiBmaWxlIG5hbWVkIFwiJHtmaWxlTmFtZX1cIiB3aXRoIHRoZSBjYW1wYWlnbiBzdHJhdGVneSByZXBvcnQgdGhhdCB3YXMganVzdCBnZW5lcmF0ZWRgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZleE11dGF0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgaW5zdHJ1Y3Rpb24gZmlsZTonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSB0ZXh0LVsjMDA3YWNjXSBob3Zlcjp0ZXh0LVsjNGVjOWIwXSBob3Zlcjp1bmRlcmxpbmUgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1jb2xvcnMgdGV4dC14c1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0cmFuc2Zvcm0gcm90YXRlLTkwXCI+4oazPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENyZWF0ZSBhbiBJbnN0cnVjdGlvbiBGaWxlIEhlcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIG90aGVyIHN1Y2Nlc3MgaW5kaWNhdG9yc1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobXNnLmNvbnRlbnQuaW5jbHVkZXMoXCLinIUgKipGaWxlIENyZWF0ZWQgU3VjY2Vzc2Z1bGx5ISoqXCIpIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnLmNvbnRlbnQuaW5jbHVkZXMoXCLinIUgKipQcm9qZWN0IENyZWF0ZWQgU3VjY2Vzc2Z1bGx5ISoqXCIpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2cuY29udGVudC5pbmNsdWRlcyhcIuKchSAqKlRlbXBsYXRlIEFwcGxpZWQgU3VjY2Vzc2Z1bGx5ISoqXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWyM0ZWM5YjBdXCI+4oazIFByb2Nlc3MgY29tcGxldGVkIHN1Y2Nlc3NmdWxseSE8L3NwYW4+O1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IHdhaXRpbmcgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bIzRlYzliMF1cIj7ihrMgQWdlbnQgd2FpdGluZyBmb3IgeW91ciBpbnB1dC4uLjwvc3Bhbj47XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBDTU8gQWdlbnQgQ3JlYXRlIEluc3RydWN0aW9uIEZpbGUgQnV0dG9uIC0gb25seSBhcHBlYXJzIHdoZW4gQ01PIGFnZW50IGlzIGFjdGl2ZSAqL31cbiAgICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hvdWxkU2hvdyA9IGFjdGl2ZUFnZW50SWQgPT09ICdjbW8nICYmIG1zZy5yb2xlID09PSAnYXNzaXN0YW50JztcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBCdXR0b24gY29uZGl0aW9uIGNoZWNrOicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUFnZW50SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBtc2dSb2xlOiBtc2cucm9sZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZFNob3csXG4gICAgICAgICAgICAgICAgICAgICAgICBtc2dDb250ZW50OiBtc2cuY29udGVudC5zdWJzdHJpbmcoMCwgNTApXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNob3VsZFNob3c7XG4gICAgICAgICAgICAgICAgICAgIH0pKCkgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBtbC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBrZXkgaW5mb3JtYXRpb24gZnJvbSB0aGUgQ2FtcGFpZ24gRGlyZWN0b3IncyByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IG1zZy5jb250ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSBhIGRlc2NyaXB0aXZlIGZpbGVuYW1lIGJhc2VkIG9uIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaWxlTmFtZSA9IFwiY2FtcGFpZ24tc3RyYXRlZ3lcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJ5IHRvIGV4dHJhY3QgY2FtcGFpZ24gbmFtZSBvciB0eXBlIGZyb20gY29udGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGl0bGVNYXRjaCA9IGNvbnRlbnQubWF0Y2goLyg/Ol58XFxuKSNcXHMqKC4rKSQvbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGl0bGVNYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aXRsZSA9IHRpdGxlTWF0Y2hbMV0udHJpbSgpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvW15hLXowLTlcXHNdL2csICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHMrL2csICctJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3Vic3RyaW5nKDAsIDUwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWUgPSB0aXRsZSB8fCBmaWxlTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRpbWVzdGFtcCB0byBlbnN1cmUgdW5pcXVlbmVzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5hbEZpbGVOYW1lID0gYCR7ZmlsZU5hbWV9LSR7dGltZXN0YW1wfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvcm1hdCB0aGUgY29udGVudCBhcyBhIG5pY2UgaW5zdHJ1Y3Rpb24gZG9jdW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluc3RydWN0aW9uQ29udGVudCA9IGAjIENhbXBhaWduIFN0cmF0ZWd5IEluc3RydWN0aW9uc1xuXG5UaGlzIGluc3RydWN0aW9uIGRvY3VtZW50IHdhcyBnZW5lcmF0ZWQgZnJvbSBhIENhbXBhaWduIFN0cmF0ZWd5IHJlc3BvbnNlLlxuXG4tLS1cblxuJHtjb250ZW50fVxuXG4tLS1cblxuKipHZW5lcmF0ZWQ6KiogJHtuZXcgRGF0ZSgpLnRvTG9jYWxlU3RyaW5nKCl9XG4qKlNvdXJjZToqKiBDYW1wYWlnbiBTdHJhdGVneSBBZ2VudGA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgaW5zdHJ1Y3Rpb24gZmlsZSBkaXJlY3RseVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgY3JlYXRlSW5zdHJ1Y3Rpb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBmaW5hbEZpbGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBpbnN0cnVjdGlvbkNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcGljOiBcIkNhbXBhaWduIFN0cmF0ZWd5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGllbmNlOiBcIk1hcmtldGluZyBUZWFtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEluc3RydWN0aW9uIGZpbGUgY3JlYXRlZCBzdWNjZXNzZnVsbHk6JywgZmluYWxGaWxlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNob3cgc3VjY2VzcyBmZWVkYmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3VjY2Vzc01lc3NhZ2UgPSBg4pyFICoqSW5zdHJ1Y3Rpb24gRmlsZSBDcmVhdGVkISoqXFxuXFxu8J+ThCAqKkZpbGU6KiogXFxgJHtmaW5hbEZpbGVOYW1lfS5tZFxcYFxcbvCfjq8gKipUb3BpYzoqKiBDYW1wYWlnbiBTdHJhdGVneVxcbvCfk4EgKipMb2NhdGlvbjoqKiBJbnN0cnVjdGlvbnMgUHJvamVjdFxcblxcblRoZSBjYW1wYWlnbiBzdHJhdGVneSBoYXMgYmVlbiBzYXZlZCBhcyBhbiBpbnN0cnVjdGlvbiBmaWxlIGZvciBmdXR1cmUgcmVmZXJlbmNlLmA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCBzdWNjZXNzIG1lc3NhZ2UgdG8gY2hhdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3JlQ2hhdE1lc3NhZ2UgJiYgc2Vzc2lvbklkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHN1Y2Nlc3NNZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IHVzZXI/LmlkIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBpbnN0cnVjdGlvbiBmaWxlOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2hvdyBlcnJvciBmZWVkYmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYOKdjCAqKkZhaWxlZCB0byBDcmVhdGUgSW5zdHJ1Y3Rpb24gRmlsZSoqXFxuXFxuVGhlcmUgd2FzIGFuIGVycm9yIHNhdmluZyB0aGUgY2FtcGFpZ24gc3RyYXRlZ3kgYXMgYW4gaW5zdHJ1Y3Rpb24gZmlsZS4gUGxlYXNlIHRyeSBhZ2FpbiBvciBjb250YWN0IHN1cHBvcnQgaWYgdGhlIGlzc3VlIHBlcnNpc3RzLmA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdG9yZUNoYXRNZXNzYWdlICYmIHNlc3Npb25JZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBlcnJvck1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJZDogdXNlcj8uaWQgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgdGV4dC1bIzAwN2FjY10gaG92ZXI6dGV4dC1bIzRlYzliMF0gaG92ZXI6dW5kZXJsaW5lIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tY29sb3JzIHRleHQteHMgb3BhY2l0eS02MCBob3ZlcjpvcGFjaXR5LTEwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRyYW5zZm9ybSByb3RhdGUtOTBcIj7ihrM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIENyZWF0ZSBhbiBJbnN0cnVjdGlvbiBGaWxlIEhlcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBDTU8gQWdlbnQgQ3JlYXRlIEluc3RydWN0aW9uIEZpbGUgQnV0dG9uIC0gb25seSBhcHBlYXJzIGZvciBDTU8gYWdlbnQgcmVzcG9uc2VzICovfVxuICAgICAgICAgICAgICAgICAgICB7KG1zZy5jb250ZW50LmluY2x1ZGVzKCdDTU9fUkVQT1JUX0dFTkVSQVRFRF9TVUNDRVNTJykgfHwgbXNnLmNvbnRlbnQuaW5jbHVkZXMoJ0NNT19SRVBPUlRfTUFOVUFMX1NBVkVfTkVFREVEJykpICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgbWwtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZleE11dGF0aW9ucyA9IGNyZWF0ZUNvbnZleE11dGF0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBkZXNjcmlwdGl2ZSBwcm9tcHQgZnJvbSB0aGUgYXNzaXN0YW50J3MgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlQ29udGVudCA9IG1zZy5jb250ZW50LnN1YnN0cmluZygwLCAyMDApLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb21wdCA9IGBDcmVhdGUgaW5zdHJ1Y3Rpb24gZmlsZSBmcm9tIHRoaXMgQ01PIGFnZW50IHJlc3BvbnNlOiBcIiR7cmVzcG9uc2VDb250ZW50fSR7bXNnLmNvbnRlbnQubGVuZ3RoID4gMjAwID8gJy4uLicgOiAnJ31cImA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIGluc3RydWN0aW9ucyBhZ2VudCB0byBjcmVhdGUgdGhlIGZpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGV4ZWN1dGVBZ2VudFRvb2woXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpbnN0cnVjdGlvbnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZ2VuZXJhdGUtaW5zdHJ1Y3Rpb25zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbXB0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXhNdXRhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGluc3RydWN0aW9uIGZpbGU6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgdGV4dC1bIzAwN2FjY10gaG92ZXI6dGV4dC1bIzRlYzliMF0gaG92ZXI6dW5kZXJsaW5lIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tY29sb3JzIHRleHQteHMgb3BhY2l0eS02MCBob3ZlcjpvcGFjaXR5LTEwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRyYW5zZm9ybSByb3RhdGUtOTBcIj7ihrM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIENyZWF0ZSBhbiBJbnN0cnVjdGlvbiBGaWxlIEhlcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7bXNnLnJvbGUgPT09ICd0aGlua2luZycgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjZDRkNGFhXVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjZDRkNGFhXVwiPvCfp6AgdGhpbmtpbmc6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1sLTEgdGV4dC1bI2NjY2NjY10gd2hpdGVzcGFjZS1wcmUtd3JhcCB0ZXh0LXhzIGZvbnQtbW9ubyBpdGFsaWNcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7bXNnLmNvbnRlbnR9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7bXNnLnJvbGUgPT09ICd0ZXJtaW5hbCcgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjODU4NTg1XVwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyM1ODU4NThdIHdoaXRlc3BhY2UtcHJlLXdyYXAgYmctWyMxYTFhMWFdIHAtMSByb3VuZGVkIHRleHQtWzEwcHhdIGJvcmRlci1sLTIgYm9yZGVyLVsjMzMzXVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHttc2cuY29udGVudH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG5cbiAgICAgICAgICB7LyogU3RyZWFtaW5nIFRoaW5raW5nIERpc3BsYXkgKi99XG4gICAgICAgICAge2lzU3RyZWFtaW5nVGhpbmtpbmcgJiYgc3RyZWFtaW5nVGhpbmtpbmcgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjZDRkNGFhXVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWyNkNGQ0YWFdXCI+8J+noCB0aGlua2luZzo8L3NwYW4+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC0xIHRleHQtWyNjY2NjY2NdIHdoaXRlc3BhY2UtcHJlLXdyYXAgdGV4dC14cyBmb250LW1vbm8gaXRhbGljXCI+XG4gICAgICAgICAgICAgICAgICB7c3RyZWFtaW5nVGhpbmtpbmd9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHsvKiBMb2FkaW5nIGluZGljYXRvciAqL31cbiAgICAgICAgICB7aXNMb2FkaW5nICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bIzRlYzliMF1cIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bIzRlYzliMF1cIj7wn6SWIGFzc2lzdGFudDo8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTEgdGV4dC1bIzg1ODU4NV1cIj50aGlua2luZy4uLjwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBQaW5uZWQgQWdlbnQgUHJvZ3Jlc3MgQmFyICovfVxuICAgICAge2FnZW50UHJvZ3Jlc3MgJiYgYWdlbnRQcm9ncmVzcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1bIzBlMGUwZV0gcC0yIGZvbnQtbW9ubyB0ZXh0LXhzIGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICB7YWdlbnRQcm9ncmVzcy5tYXAoKHByb2dyZXNzKSA9PiAoXG4gICAgICAgICAgICA8ZGl2IGtleT17cHJvZ3Jlc3MuX2lkfSBjbGFzc05hbWU9XCJtYi0yIGxhc3Q6bWItMFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0xXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bIzAwN2FjY10gdGV4dC14c1wiPlxuICAgICAgICAgICAgICAgICAg8J+kliB7cHJvZ3Jlc3MuYWdlbnRUeXBlfSBBZ2VudFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjODU4NTg1XSB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgICAgICB7cHJvZ3Jlc3MucGVyY2VudGFnZX0lXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTY0IGJnLVsjMzMzXSByb3VuZGVkLWZ1bGwgaC0xLjUgcmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLVsjMDA3YWNjXSBoLTEuNSByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGFic29sdXRlIGxlZnQtMCB0b3AtMFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYCR7TWF0aC5taW4oMTAwLCBNYXRoLm1heCgwLCBwcm9ncmVzcy5wZXJjZW50YWdlKSl9JWAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAge3Byb2dyZXNzLnN0YXR1cyAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjODU4NTg1XSB0ZXh0LXhzIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgIHtwcm9ncmVzcy5zdGF0dXN9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogSW5wdXQgYXJlYSAtIE5vdyBvdXRzaWRlIHRoZSBzY3JvbGxhYmxlIGNvbnRhaW5lciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctWyMwZTBlMGVdIHAtMiBmb250LW1vbm8gdGV4dC14cyBmbGV4LXNocmluay0wXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjMDA3YWNjXVwiPiQgdXNlcjo8L3NwYW4+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwiZmxleC0xIG1sLTFcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICByZWY9e2lucHV0UmVmfVxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgIHZhbHVlPXttZXNzYWdlfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlSW5wdXRDaGFuZ2V9XG4gICAgICAgICAgICAgIG9uS2V5RG93bj17aGFuZGxlS2V5RG93bn1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e1xuICAgICAgICAgICAgICAgIGlzQXRTZXNzaW9uTGltaXQgXG4gICAgICAgICAgICAgICAgICA/IFwiU2Vzc2lvbiBsaW1pdCByZWFjaGVkIC0gU3RhcnQgbmV3IHNlc3Npb24gdG8gY29udGludWUuLi5cIiBcbiAgICAgICAgICAgICAgICAgIDogaXNMb2FkaW5nIFxuICAgICAgICAgICAgICAgICAgICA/IFwiQUkgaXMgdGhpbmtpbmcuLi5cIiBcbiAgICAgICAgICAgICAgICAgICAgOiBcIkFzayBhYm91dCB5b3VyIEVBQyBwcm9qZWN0Li4uXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nIHx8IGlzQXRTZXNzaW9uTGltaXR9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBiZy10cmFuc3BhcmVudCBib3JkZXItbm9uZSBvdXRsaW5lLW5vbmUgcGxhY2Vob2xkZXI6dGV4dC1bIzg1ODU4NV0gZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgY2FyZXQtWyNjY2NjY2NdICR7XG4gICAgICAgICAgICAgICAgaXNBdFNlc3Npb25MaW1pdCA/ICd0ZXh0LVsjZjQ4NzcxXScgOiAndGV4dC1bI2NjY2NjY10nXG4gICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59Il0sIm5hbWVzIjpbImFwaSIsInVzZUNoYXQiLCJ1c2VJbnN0cnVjdGlvbkNvbnRleHQiLCJ1c2VJbnN0cnVjdGlvbnMiLCJ1c2VNQ1AiLCJ1c2VBZ2VudFN0b3JlIiwidXNlRWRpdG9yU3RvcmUiLCJ1c2VDaGF0U3RvcmUiLCJ1c2VTZXNzaW9uU3RvcmUiLCJ1c2VVc2VyIiwidXNlQWN0aW9uIiwidXNlTXV0YXRpb24iLCJ1c2VRdWVyeSIsIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJFZGl0SW5zdHJ1Y3Rpb25zSW5wdXQiLCJGaWxlTmFtZUlucHV0IiwiRmlsZVNlbGVjdG9yIiwiRmlsZVR5cGVTZWxlY3RvciIsIk1hcmtkb3duUmVuZGVyZXIiLCJQcm9qZWN0TmFtZUlucHV0IiwiUHJvamVjdFNlbGVjdG9yIiwiQ2hhdE1lc3NhZ2VzIiwic2Nyb2xsUmVmIiwiaW5wdXRSZWYiLCJwcm9jZXNzZWRPcGVyYXRpb25zIiwiU2V0IiwibWVzc2FnZSIsInNldE1lc3NhZ2UiLCJhY3RpdmVBZ2VudFByb2Nlc3MiLCJzZXRBY3RpdmVBZ2VudFByb2Nlc3MiLCJjb25zb2xlIiwibG9nIiwidXNlciIsImlzTG9hZGVkIiwiaW5pdGlhbGl6ZVVzZXJTZXNzaW9uIiwiYWRkVGVybWluYWxGZWVkYmFjayIsInNldFNlc3Npb25JZCIsImFjdGl2ZVNlc3Npb25JZCIsIm1lc3NhZ2VzIiwiaXNMb2FkaW5nIiwiY2hhdExvYWRpbmciLCJzZW5kTWVzc2FnZSIsInNlbmRNZXNzYWdlV2l0aFN0cmVhbWluZyIsInNlc3Npb25JZCIsInN0b3JlQ2hhdE1lc3NhZ2UiLCJ1c2VUZXJtaW5hbEZlZWRiYWNrIiwic3RyZWFtaW5nVGhpbmtpbmciLCJpc1N0cmVhbWluZ1RoaW5raW5nIiwibWVzc2FnZUNvdW50IiwiaXNOZWFyU2Vzc2lvbkxpbWl0IiwiaXNBdFNlc3Npb25MaW1pdCIsImNhbkFkZE1lc3NhZ2VzIiwiZ2V0U2Vzc2lvblN0YXR1cyIsInN0YXJ0TmV3U2Vzc2lvbiIsImFnZW50UHJvZ3Jlc3MiLCJjaGF0IiwiZ2V0QWdlbnRQcm9ncmVzcyIsImlzQ29ubmVjdGVkIiwibWNwQ29ubmVjdGVkIiwibWNwTG9hZGluZyIsImVycm9yIiwibWNwRXJyb3IiLCJhdmFpbGFibGVUb29scyIsInByb2Nlc3NOYXR1cmFsTGFuZ3VhZ2UiLCJhZ2VudHMiLCJhY3RpdmVBZ2VudElkIiwic2V0QWN0aXZlQWdlbnQiLCJleGVjdXRlQWdlbnRUb29sIiwiY3JlYXRlSW5zdHJ1Y3Rpb24iLCJmaWxlcyIsImNyZWF0ZUluc3RydWN0aW9uRmlsZSIsImVuc3VyZUluc3RydWN0aW9uc1Byb2plY3QiLCJwcm9qZWN0cyIsInVwc2VydFBvc3QiLCJzb2NpYWxQb3N0cyIsInNjaGVkdWxlUG9zdCIsImNyZWF0ZUNvbnRlbnRDcmVhdGlvbkZpbGUiLCJjcmVhdGVQcm9qZWN0IiwiY3JlYXRlRmlsZSIsImdldEFsbFVzZXJGaWxlcyIsInVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50IiwiZWRpdEZpbGVXaXRoQUkiLCJlZGl0b3JBY3Rpb25zIiwidXBkYXRlRmlsZUNvbnRlbnQiLCJhbGxQb3N0cyIsImdldEFsbFBvc3RzIiwiYWxsUHJvamVjdHMiLCJnZXRQcm9qZWN0cyIsImluc3RydWN0aW9uQ29udGV4dCIsImluc3RydWN0aW9uc0xvYWRpbmciLCJjcmVhdGVOZXdGaWxlIiwiY3VycmVudCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsInVzZXJJZCIsImlkIiwidGltZW91dCIsInNldFRpbWVvdXQiLCJhZ2UiLCJEYXRlIiwibm93IiwidGltZXN0YW1wIiwiY2xlYXJUaW1lb3V0Iiwic3RyaXBNYXJrZG93biIsInRleHQiLCJyZXBsYWNlIiwic3BsaXQiLCJtYXAiLCJsaW5lIiwidHJpbSIsInN0YXJ0c1dpdGgiLCJsZW5ndGgiLCJqb2luIiwiaXNNQ1BRdWVyeSIsIm1jcEtleXdvcmRzIiwibG93ZXJUZXh0IiwidG9Mb3dlckNhc2UiLCJzb21lIiwia2V5d29yZCIsImluY2x1ZGVzIiwiaGFuZGxlVG9vbFNlbGVjdG9yQ2xvc2UiLCJmb2N1cyIsImNyZWF0ZUNvbnZleE11dGF0aW9ucyIsInBhcmFtcyIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInN0YXR1cyIsImJ1ZGdldCIsImdldEFsbEZpbGVzIiwicm9sZSIsImNvbnRlbnQiLCJvcGVyYXRpb24iLCJwcm9jZXNzSW5kaWNhdG9yIiwiaW50ZXJhY3RpdmVDb21wb25lbnQiLCJtZXNzYWdlSWQiLCJyZXN1bHQiLCJ0eXBlIiwicHJvamVjdElkIiwiZXh0ZW5zaW9uIiwicGxhdGZvcm0iLCJzaXplIiwiZmlsZU5hbWUiLCJvcmlnaW5hbENvbnRlbnQiLCJlZGl0SW5zdHJ1Y3Rpb25zIiwiZmlsZVR5cGUiLCJmaWxlSWQiLCJjcmVhdGVDYW1wYWlnbiIsIl9pZCIsImNyZWF0ZVBvc3RzQmF0Y2giLCJwb3N0cyIsIl8iLCJpbmRleCIsImhhbmRsZVN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIndhcm4iLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyMTIiLCJob3VyIiwibWludXRlIiwic2Vjb25kIiwibWVzc2FnZUNvbnRlbnQiLCJzaG91bGRSb3V0ZVRvQWdlbnQiLCJFZGl0b3JBZ2VudCIsImhhc1NlbGVjdGVkRmlsZSIsInNlbGVjdGVkRmlsZSIsImlzV2FpdGluZ0ZvckVkaXRJbnN0cnVjdGlvbnMiLCJjdXJyZW50U3RlcCIsImxhc3RNZXNzYWdlIiwiY29udmV4TXV0YXRpb25zIiwiaXNGb2xsb3dVcFRvV2FpdGluZ0FnZW50IiwiY29udGVudFByZXZpZXciLCJzdWJzdHJpbmciLCJhY3RpdmVBZ2VudCIsImZpbmQiLCJhZ2VudCIsInRvb2xzIiwiZGVmYXVsdFRvb2wiLCJwcm9jZXNzVHlwZSIsImNvbG9yIiwidW5kZWZpbmVkIiwiaXNXYWl0aW5nRm9ySW5wdXQiLCJpc0NvbXBsZXRpb25SZXNwb25zZSIsImhhc1NlbGVjdFByb2plY3QiLCJoYXNOZXh0TWVzc2FnZSIsImhhc1doaWNoUHJvamVjdCIsImhhc0F2YWlsYWJsZVByb2plY3RzIiwiaGFzRmlsZUNyZWF0ZWQiLCJoYXNOZXh0U3RlcHMiLCJhZ2VudElkIiwibWVzc2FnZVR5cGUiLCJ3aWxsSGF2ZVByb2Nlc3NJbmRpY2F0b3IiLCJyZXN1bHRTbmlwcGV0IiwiRXJyb3IiLCJtY3BSZXNwb25zZSIsInN1Y2Nlc3MiLCJ0ZXh0Q29udGVudCIsInBsYWluVGV4dCIsImNvbnRleHR1YWxNZXNzYWdlIiwiaGFuZGxlS2V5RG93biIsImtleSIsInNoaWZ0S2V5IiwiaGFuZGxlSW5wdXRDaGFuZ2UiLCJ2YWx1ZSIsInRhcmdldCIsImRpdiIsImNsYXNzTmFtZSIsInJlZiIsInNsaWNlIiwic3BhbiIsIm1zZyIsImhhc1Byb2Nlc3NJbmRpY2F0b3IiLCJpc1VzZXJQcm9jZXNzTWVzc2FnZSIsImlzQWdlbnRQcm9jZXNzTWVzc2FnZSIsImRhdGEiLCJwcm9qZWN0TmFtZUlucHV0IiwiZmlsZURldGFpbHMiLCJkaXNhYmxlZCIsInNlbGVjdGVkUHJvamVjdCIsIm9uUHJvamVjdFNlbGVjdGVkIiwicHJvamVjdCIsImZpbGVDcmVhdG9yQWdlbnQiLCJhIiwicHJvamVjdFNlbGVjdGlvbklucHV0IiwidG9vbElkIiwidG9vbE5hbWUiLCJjb252ZXhNdXRhdGlvbnNBdmFpbGFibGUiLCJzdG9yZWRNZXNzYWdlIiwidG90YWxNZXNzYWdlcyIsImxhc3RNZXNzYWdlUm9sZSIsIm9uQ2FuY2VsIiwib25GaWxlU2VsZWN0ZWQiLCJmaWxlIiwiZmlsZVBhdGgiLCJwYXRoIiwiY29tbWFuZCIsImRldGFpbHMiLCJhZ2VudFR5cGUiLCJlZGl0b3JBZ2VudCIsImFjdHVhbEVkaXRvckFnZW50IiwiaGFuZGxlRmlsZVNlbGVjdGVkIiwicGxhY2Vob2xkZXIiLCJleGFtcGxlcyIsIm9uSW5zdHJ1Y3Rpb25zU3VibWl0dGVkIiwiaW5zdHJ1Y3Rpb25zIiwiZGVmYXVsdFZhbHVlIiwib25Qcm9qZWN0TmFtZVN1Ym1pdHRlZCIsInByb2plY3ROYW1lIiwicHJvamVjdENyZWF0b3JBZ2VudCIsIm9uRmlsZVR5cGVTZWxlY3RlZCIsInNlcmlhbGl6YWJsZUZpbGVUeXBlIiwiYXZhaWxhYmxlIiwic2VsZWN0ZWRGaWxlVHlwZSIsIm9uRmlsZU5hbWVTdWJtaXR0ZWQiLCJmaWxlTWF0Y2giLCJtYXRjaCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJwcm9qZWN0RmlsZXMiLCJnZXRTdGF0ZSIsImYiLCJvcGVuVGFiIiwicmVwb3J0TWF0Y2giLCJyZXBvcnRDb250ZW50Iiwic2hvdWxkU2hvdyIsIm1zZ1JvbGUiLCJtc2dDb250ZW50IiwidGl0bGVNYXRjaCIsInRpdGxlIiwidG9JU09TdHJpbmciLCJmaW5hbEZpbGVOYW1lIiwiaW5zdHJ1Y3Rpb25Db250ZW50IiwidG9Mb2NhbGVTdHJpbmciLCJ0b3BpYyIsImF1ZGllbmNlIiwic3VjY2Vzc01lc3NhZ2UiLCJlcnJvck1lc3NhZ2UiLCJyZXNwb25zZUNvbnRlbnQiLCJwcm9tcHQiLCJwcm9ncmVzcyIsInBlcmNlbnRhZ2UiLCJzdHlsZSIsIndpZHRoIiwiTWF0aCIsIm1pbiIsIm1heCIsImZvcm0iLCJvblN1Ym1pdCIsImlucHV0Iiwib25DaGFuZ2UiLCJvbktleURvd24iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/_components/terminal/_components/chatMessages.tsx\n"));

/***/ })

});