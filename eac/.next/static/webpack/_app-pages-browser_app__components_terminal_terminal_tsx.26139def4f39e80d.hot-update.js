"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_app__components_terminal_terminal_tsx",{

/***/ "(app-pages-browser)/./app/_components/terminal/_components/chatMessages.tsx":
/*!***************************************************************!*\
  !*** ./app/_components/terminal/_components/chatMessages.tsx ***!
  \***************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatMessages: () => (/* binding */ ChatMessages)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../node_modules/.pnpm/next@15.3.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _convex_generated_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/convex/_generated/api */ \"(app-pages-browser)/./convex/_generated/api.js\");\n/* harmony import */ var _lib_hooks_useChat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/hooks/useChat */ \"(app-pages-browser)/./lib/hooks/useChat.ts\");\n/* harmony import */ var _lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/hooks/useInstructions */ \"(app-pages-browser)/./lib/hooks/useInstructions.ts\");\n/* harmony import */ var _lib_hooks_useMCP__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/hooks/useMCP */ \"(app-pages-browser)/./lib/hooks/useMCP.ts\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/store */ \"(app-pages-browser)/./store/index.ts\");\n/* harmony import */ var _store_terminal_chat__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/store/terminal/chat */ \"(app-pages-browser)/./store/terminal/chat.ts\");\n/* harmony import */ var _store_terminal_session__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/store/terminal/session */ \"(app-pages-browser)/./store/terminal/session.ts\");\n/* harmony import */ var _clerk_nextjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @clerk/nextjs */ \"(app-pages-browser)/../node_modules/.pnpm/@clerk+clerk-react@5.38.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@clerk/clerk-react/dist/index.mjs\");\n/* harmony import */ var convex_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! convex/react */ \"(app-pages-browser)/../node_modules/.pnpm/convex@1.25.4_@clerk+clerk-react@5.38.0_react-dom@18.3.1_react@18.3.1__react@18.3.1__react@18.3.1/node_modules/convex/dist/esm/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../node_modules/.pnpm/next@15.3.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _editInstructionsInput__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./editInstructionsInput */ \"(app-pages-browser)/./app/_components/terminal/_components/editInstructionsInput.tsx\");\n/* harmony import */ var _fileNameInput__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./fileNameInput */ \"(app-pages-browser)/./app/_components/terminal/_components/fileNameInput.tsx\");\n/* harmony import */ var _fileSelector__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./fileSelector */ \"(app-pages-browser)/./app/_components/terminal/_components/fileSelector.tsx\");\n/* harmony import */ var _fileTypeSelector__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./fileTypeSelector */ \"(app-pages-browser)/./app/_components/terminal/_components/fileTypeSelector.tsx\");\n/* harmony import */ var _markdownRenderer__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./markdownRenderer */ \"(app-pages-browser)/./app/_components/terminal/_components/markdownRenderer.tsx\");\n/* harmony import */ var _projectNameInput__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./projectNameInput */ \"(app-pages-browser)/./app/_components/terminal/_components/projectNameInput.tsx\");\n/* harmony import */ var _projectSelector__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./projectSelector */ \"(app-pages-browser)/./app/_components/terminal/_components/projectSelector.tsx\");\n// Simplified Chat Messages Component - No Slash Commands\n// /Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\n/* __next_internal_client_entry_do_not_use__ ChatMessages auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ChatMessages() {\n    _s();\n    const scrollRef = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n    const processedOperations = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(new Set());\n    const [message, setMessage] = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(\"\");\n    const [activeAgentProcess, setActiveAgentProcess] = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(null);\n    // Debug logging for activeAgentProcess changes\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            console.log('activeAgentProcess changed:', activeAgentProcess);\n        }\n    }[\"ChatMessages.useEffect\"], [\n        activeAgentProcess\n    ]);\n    const { user, isLoaded } = (0,_clerk_nextjs__WEBPACK_IMPORTED_MODULE_17__.useUser)();\n    const { initializeUserSession, addTerminalFeedback, setSessionId } = (0,_store_terminal_chat__WEBPACK_IMPORTED_MODULE_6__.useChatStore)();\n    const { activeSessionId } = (0,_store_terminal_session__WEBPACK_IMPORTED_MODULE_7__.useSessionStore)();\n    const { messages, isLoading: chatLoading, sendMessage, sendMessageWithStreaming, sessionId, storeChatMessage, addTerminalFeedback: useTerminalFeedback, streamingThinking, isStreamingThinking, messageCount, isNearSessionLimit, isAtSessionLimit, canAddMessages, getSessionStatus, startNewSession } = (0,_lib_hooks_useChat__WEBPACK_IMPORTED_MODULE_2__.useChat)();\n    // Query for agent progress\n    const agentProgress = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.chat.getAgentProgress, {\n        sessionId\n    });\n    const { isConnected: mcpConnected, isLoading: mcpLoading, error: mcpError, availableTools, processNaturalLanguage } = (0,_lib_hooks_useMCP__WEBPACK_IMPORTED_MODULE_4__.useMCP)();\n    // Agent execution and mutations\n    const { agents, activeAgentId, setActiveAgent, executeAgentTool } = (0,_store__WEBPACK_IMPORTED_MODULE_5__.useAgentStore)();\n    const createInstruction = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.createInstructionFile);\n    const ensureInstructionsProject = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.projects.ensureInstructionsProject);\n    const upsertPost = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.socialPosts.upsertPost);\n    const schedulePost = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.socialPosts.schedulePost);\n    const createContentCreationFile = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.createContentCreationFile);\n    const createProject = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.projects.createProject);\n    const createFile = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.createFile);\n    const getAllUserFiles = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.getAllUserFiles, {});\n    const updateInteractiveComponent = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.chat.updateInteractiveComponent);\n    const editFileWithAI = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useAction)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.editorActions.editFileWithAI);\n    const updateFileContent = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.updateFileContent);\n    const allPosts = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.socialPosts.getAllPosts, {});\n    const allProjects = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.projects.getProjects, {});\n    const instructionContext = (0,_lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructionContext)();\n    const { isLoading: instructionsLoading } = (0,_lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructions)();\n    const { createNewFile } = (0,_store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore)();\n    const isLoading = chatLoading || mcpLoading || instructionsLoading;\n    // Auto-scroll to bottom when new messages arrive\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (scrollRef.current) {\n                scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        messages\n    ]);\n    // Initialize user session when component mounts and user is loaded\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (isLoaded && user && !sessionId) {\n                console.log(\"🔄 Initializing user session...\", {\n                    userId: user.id\n                });\n                initializeUserSession(user.id);\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        user,\n        isLoaded,\n        sessionId,\n        initializeUserSession\n    ]);\n    // Sync session ID if active session changes\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (activeSessionId && activeSessionId !== sessionId) {\n                console.log(\"🔄 Syncing to active session:\", activeSessionId);\n                setSessionId(activeSessionId);\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        activeSessionId,\n        sessionId,\n        setSessionId\n    ]);\n    // Clear active agent process after timeout\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (activeAgentProcess) {\n                const timeout = setTimeout({\n                    \"ChatMessages.useEffect.timeout\": ()=>{\n                        const age = Date.now() - activeAgentProcess.timestamp;\n                        if (age > 5 * 60 * 1000) {\n                            setActiveAgentProcess(null);\n                        }\n                    }\n                }[\"ChatMessages.useEffect.timeout\"], 5 * 60 * 1000);\n                return ({\n                    \"ChatMessages.useEffect\": ()=>clearTimeout(timeout)\n                })[\"ChatMessages.useEffect\"];\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        activeAgentProcess\n    ]);\n    // DISABLED: Process messages with operations to create UI files\n    // This is now handled by useFileLoad hook which syncs from Convex to local store\n    /*\n  useEffect(() => {\n    if (!messages) return;\n    \n    console.log('🔍 Processing messages for operations:', {\n      totalMessages: messages.length,\n      recentMessagesCount: messages.slice(-10).length,\n      processedCount: processedOperations.current.size\n    });\n    \n    // Look for messages with operations that need UI processing\n    const recentMessages = messages.slice(-10); // Check last 10 messages\n    \n    recentMessages.forEach((message: any, index) => {\n      console.log(`🔍 Message ${index}:`, {\n        id: message._id,\n        role: message.role,\n        hasOperation: !!message.operation,\n        operationType: message.operation?.type,\n        operationDetails: message.operation?.details,\n        contentPreview: message.content?.substring(0, 100),\n        alreadyProcessed: processedOperations.current.has(message._id)\n      });\n      \n      if (message.operation?.type === 'file_created' && message._id) {\n        // Skip if already processed\n        if (processedOperations.current.has(message._id)) {\n          console.log(`⏭️ Skipping already processed message: ${message._id}`);\n          return;\n        }\n        \n        const { fileName, fileType, content, platformData, agentType } = message.operation.details;\n        \n        console.log('🔍 File creation operation found:', {\n          fileName,\n          fileType,\n          agentType,\n          hasContent: !!content,\n          contentLength: content?.length || 0,\n          willProcess: agentType === 'twitter' && content\n        });\n        \n        // Only process Twitter agent files for UI creation that have content\n        if (agentType === 'twitter' && content) {\n          console.log('🔄 Processing social file operation:', {\n            fileName,\n            fileType,\n            content: content,\n            contentLength: content?.length || 0,\n            contentType: typeof content,\n            messageId: message._id,\n            platformData: platformData,\n            allDetails: message.operation.details\n          });\n          \n          // Mark as processed FIRST to prevent race conditions\n          processedOperations.current.add(message._id);\n          \n          // Parse the platform data with error handling\n          let platformDataObj;\n          try {\n            platformDataObj = platformData ? JSON.parse(platformData) : {};\n          } catch (error) {\n            console.warn('⚠️ Failed to parse platform data, using defaults:', error);\n            platformDataObj = {\n              replySettings: 'following',\n              scheduledDate: '',\n              scheduledTime: '',\n              isThread: false\n            };\n          }\n          \n          // Create the content for the Twitter post file in the expected format\n          const postContent = `# ${fileName.replace(/\\.[^/.]+$/, \"\")} - X (Twitter) Post\nPlatform: X (Twitter)\nCreated: ${new Date().toLocaleDateString()}\n\n## Post Content\n${content}\n\n## Settings\n- Reply Settings: ${platformDataObj.replySettings || 'following'}\n- Schedule: ${platformDataObj.scheduledDate && platformDataObj.scheduledTime ? `${platformDataObj.scheduledDate} ${platformDataObj.scheduledTime}` : 'Now'}\n- Thread: ${platformDataObj.isThread ? 'Multi-tweet Thread' : 'Single Tweet'}\n\n## Media\n- Images: []\n- Videos: []\n\n## Analytics\n- Impressions: 0\n- Engagements: 0\n- Likes: 0\n- Shares: 0`;\n\n          // Get the createNewFile function from the store at execution time\n          const { createNewFile, projectFolders } = useEditorStore.getState();\n          \n          // Find the Content Creation folder ID\n          const contentCreationFolder = projectFolders.find(folder => \n            folder.name === 'Content Creation'\n          );\n          \n          if (contentCreationFolder) {\n            // Create the file in the Content Creation folder\n            createNewFile(\n              fileName,\n              'x', // Use 'x' type for Twitter files\n              'project',\n              contentCreationFolder.id,\n              postContent\n            );\n            \n            console.log('✅ Created social file in UI:', fileName);\n          } else {\n            console.warn('⚠️ Content Creation folder not found');\n            \n            // Create without folder ID if folder not found\n            createNewFile(\n              fileName,\n              'x',\n              'project',\n              undefined,\n              postContent\n            );\n          }\n        }\n      }\n    });\n  }, [messages]); // Removed createNewFile from dependencies to prevent re-runs on panel switches\n  */ // Helper function to strip markdown formatting\n    const stripMarkdown = (text)=>{\n        return text.replace(/#{1,6}\\s*/g, '') // Remove headers\n        .replace(/\\*\\*(.*?)\\*\\*/g, '$1') // Remove **bold**\n        .replace(/\\*(.*?)\\*/g, '$1') // Remove *italic*\n        .replace(/`([^`]+)`/g, '$1') // Remove `code`\n        .replace(/^\\s*[-*+]\\s+/gm, '• ') // Convert markdown lists to bullet points\n        .replace(/^\\s*\\d+\\.\\s+/gm, '• ') // Convert numbered lists to bullet points\n        .replace(/\\n\\s*\\n\\s*\\n/g, '\\n\\n') // Reduce multiple blank lines to double\n        .split('\\n') // Split into lines for processing\n        .map((line)=>{\n            // Add spacing after section headers (lines that don't start with bullet points)\n            if (line.trim() && !line.startsWith('•') && !line.startsWith(' ') && line.length > 0) {\n                return line + '\\n'; // Add extra newline after headers\n            }\n            return line;\n        }).join('\\n').replace(/\\n{3,}/g, '\\n\\n') // Clean up excessive newlines\n        .trim();\n    };\n    // Helper function to detect MCP-related queries (excluding direct tool commands)\n    const isMCPQuery = (text)=>{\n        // Don't treat direct tool commands as NLP queries\n        if (text.startsWith('/')) return false;\n        // Look for keywords that suggest MCP analysis would be helpful\n        const mcpKeywords = [\n            'analyze',\n            'examine',\n            'review',\n            'explain',\n            'understand',\n            'architecture',\n            'structure',\n            'code',\n            'component',\n            'function',\n            'implementation',\n            'pattern',\n            'best practice',\n            'issue',\n            'bug',\n            'error',\n            'performance',\n            'optimization',\n            'refactor',\n            'improvement',\n            'documentation',\n            'overview',\n            'summary',\n            'how does',\n            'what is',\n            'why is',\n            'where is',\n            'when is',\n            'which'\n        ];\n        const lowerText = text.toLowerCase();\n        return mcpKeywords.some((keyword)=>lowerText.includes(keyword));\n    };\n    const handleToolSelectorClose = ()=>{\n        var _inputRef_current;\n        setMessage(\"\");\n        (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n    };\n    // Helper function to create convexMutations object for agents\n    const createConvexMutations = ()=>{\n        return {\n            ensureInstructionsProject,\n            createInstructionFile: createInstruction,\n            upsertPost,\n            schedulePost,\n            createContentCreationFile,\n            createProject: async (params)=>{\n                return await createProject({\n                    name: params.name,\n                    description: params.description,\n                    status: params.status || 'active',\n                    budget: params.budget\n                });\n            },\n            getProjects: async ()=>{\n                return allProjects || [];\n            },\n            getAllFiles: async ()=>{\n                return getAllUserFiles || [];\n            },\n            storeChatMessage: async (params)=>{\n                return await storeChatMessage({\n                    role: params.role,\n                    content: params.content,\n                    sessionId: params.sessionId || sessionId,\n                    operation: params.operation,\n                    processIndicator: params.processIndicator,\n                    interactiveComponent: params.interactiveComponent\n                });\n            },\n            updateInteractiveComponent: async (params)=>{\n                return await updateInteractiveComponent({\n                    messageId: params.messageId,\n                    status: params.status,\n                    result: params.result\n                });\n            },\n            createFile: async (params)=>{\n                return await createFile({\n                    name: params.name,\n                    type: params.type,\n                    projectId: params.projectId,\n                    content: params.content,\n                    extension: params.extension,\n                    platform: params.platform,\n                    size: params.size\n                });\n            },\n            getAllPosts: async ()=>{\n                return allPosts || [];\n            },\n            editFileWithAI: async (params)=>{\n                return await editFileWithAI({\n                    fileName: params.fileName,\n                    originalContent: params.originalContent,\n                    editInstructions: params.editInstructions,\n                    fileType: params.fileType\n                });\n            },\n            updateFileContent: async (params)=>{\n                return await updateFileContent({\n                    fileId: params.fileId,\n                    content: params.content\n                });\n            },\n            // Campaign-related functions (simplified for now)\n            createCampaign: async (params)=>{\n                // For now, just return a simple campaign ID since the API isn't ready\n                console.log('Campaign creation requested:', params);\n                return {\n                    _id: \"campaign_\".concat(Date.now())\n                };\n            },\n            createPostsBatch: async (params)=>{\n                // For now, just log the batch creation\n                console.log('Batch posts creation requested:', params);\n                return params.posts.map((_, index)=>\"post_\".concat(Date.now(), \"_\").concat(index));\n            }\n        };\n    };\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        // Check session limit before processing\n        if (!canAddMessages()) {\n            console.warn(\"Cannot send message: Session limit reached\");\n            // Add a terminal feedback message about the limit\n            await storeChatMessage({\n                role: \"terminal\",\n                content: \"[\".concat(new Date().toLocaleTimeString('en-US', {\n                    hour12: false,\n                    hour: '2-digit',\n                    minute: '2-digit',\n                    second: '2-digit'\n                }), \"] \\uD83D\\uDEA8 Message not sent: Session limit reached (500 messages)\\nPlease start a new session to continue chatting.\"),\n                sessionId\n            });\n            return;\n        }\n        if (message.trim() && !isLoading) {\n            const messageContent = message.trim();\n            console.log('💬 User submitting message:', messageContent);\n            setMessage(\"\");\n            // Check if this is an agent command when an agent is active\n            // BUT only route to editor agent if it has a selected file and is waiting for edit instructions\n            if (activeAgentId && !messageContent.startsWith('/')) {\n                console.log('🤖 Checking if should route to active agent:', activeAgentId);\n                let shouldRouteToAgent = true;\n                // Special handling for editor agent - only route if file is selected and waiting for edit instructions\n                if (activeAgentId === 'editor') {\n                    const { EditorAgent } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/store/agents/editorAgent */ \"(app-pages-browser)/./store/agents/editorAgent.ts\"));\n                    const hasSelectedFile = EditorAgent.selectedFile !== null;\n                    const isWaitingForEditInstructions = EditorAgent.currentStep === 'edit-request';\n                    console.log('🔍 Editor agent state check:', {\n                        hasSelectedFile,\n                        isWaitingForEditInstructions,\n                        selectedFile: EditorAgent.selectedFile,\n                        currentStep: EditorAgent.currentStep\n                    });\n                    // If no file selected, agent should show file selector\n                    // If file selected and waiting for instructions, agent should process the edit\n                    // Always route to editor agent when it's active\n                    shouldRouteToAgent = true;\n                }\n                if (shouldRouteToAgent) {\n                    console.log('🤖 Routing to active agent:', activeAgentId);\n                    try {\n                        var _lastMessage_processIndicator;\n                        console.log(\"\\uD83E\\uDD16 Executing agent \".concat(activeAgentId, \" with message: \").concat(messageContent));\n                        // Create convex mutations for the agent\n                        const convexMutations = createConvexMutations();\n                        // Check if the last message was an agent waiting for input\n                        const lastMessage = messages && messages.length > 0 ? messages[messages.length - 1] : null;\n                        const isFollowUpToWaitingAgent = lastMessage && lastMessage.role === 'assistant' && ((_lastMessage_processIndicator = lastMessage.processIndicator) === null || _lastMessage_processIndicator === void 0 ? void 0 : _lastMessage_processIndicator.type) === 'waiting';\n                        console.log('Pre-execution state:', {\n                            lastMessage: lastMessage ? {\n                                role: lastMessage.role,\n                                processIndicator: lastMessage.processIndicator,\n                                contentPreview: lastMessage.content.substring(0, 50)\n                            } : null,\n                            isFollowUpToWaitingAgent\n                        });\n                        // Find the active agent and its default tool\n                        const activeAgent = agents.find((agent)=>agent.id === activeAgentId);\n                        if (activeAgent && activeAgent.tools.length > 0) {\n                            const defaultTool = activeAgent.tools[0]; // Use the first tool as default\n                            // ✅ FIX #1: Always store the user message first, regardless of agent result\n                            await storeChatMessage({\n                                role: \"user\",\n                                content: messageContent,\n                                sessionId,\n                                processIndicator: isFollowUpToWaitingAgent ? {\n                                    type: 'continuing',\n                                    processType: 'file-creation',\n                                    color: 'blue'\n                                } : undefined\n                            });\n                            // Execute the agent tool\n                            const result = await executeAgentTool(activeAgentId, defaultTool.id, messageContent, convexMutations, sessionId);\n                            // Handle empty results from interactive components\n                            if (!result || result.trim() === \"\") {\n                                console.log('Agent returned empty result - this is expected for interactive components');\n                                // User message was already stored above - interactive component handles the UI\n                                return;\n                            }\n                            // Check if result indicates waiting for user input (project selection)\n                            const isWaitingForInput = result.includes(\"🎯 Select a project:\") || result.includes(\"💡 **Next message:** Just type your selection!\") || result.includes(\"Which Project?\") || result.includes(\"Available Projects:\");\n                            // Check if result indicates successful completion\n                            const isCompletionResponse = result.includes(\"✅ **File Created Successfully!**\") || result.includes(\"File Created Successfully!\") || result.includes(\"**Next Steps:**\") || result.includes(\"Next Steps:\");\n                            console.log('Agent Execution Debug:', {\n                                activeAgentId,\n                                result: result.substring(0, 200) + '...',\n                                isWaitingForInput,\n                                isCompletionResponse,\n                                isFollowUpToWaitingAgent,\n                                hasSelectProject: result.includes(\"🎯 Select a project:\"),\n                                hasNextMessage: result.includes(\"💡 **Next message:** Just type your selection!\"),\n                                hasWhichProject: result.includes(\"Which Project?\"),\n                                hasAvailableProjects: result.includes(\"Available Projects:\"),\n                                hasFileCreated: result.includes(\"✅ **File Created Successfully!**\"),\n                                hasNextSteps: result.includes(\"**Next Steps:**\")\n                            });\n                            if (isWaitingForInput) {\n                                console.log('Setting active agent process for file creation');\n                                setActiveAgentProcess({\n                                    agentId: activeAgentId,\n                                    processType: 'file-creation',\n                                    timestamp: Date.now()\n                                });\n                            } else {\n                                console.log('Clearing active agent process - agent completed');\n                                // Clear active process when agent completes\n                                setActiveAgentProcess(null);\n                                // For editor agent, keep it active during the file selection workflow\n                                // Only clear it when the editing is actually complete\n                                if (activeAgentId === 'editor') {\n                                    // Check if editor agent is waiting for edit instructions after file selection\n                                    const { EditorAgent } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/store/agents/editorAgent */ \"(app-pages-browser)/./store/agents/editorAgent.ts\"));\n                                    if (EditorAgent.currentStep === 'edit-request' && EditorAgent.selectedFile) {\n                                        console.log('Keeping editor agent active - waiting for edit instructions');\n                                    // Keep the agent active to receive editing instructions\n                                    } else if (EditorAgent.currentStep === 'file-selection') {\n                                        console.log('Keeping editor agent active - waiting for file selection');\n                                    // Keep the agent active during file selection\n                                    } else {\n                                        console.log('Clearing editor agent - editing complete');\n                                        setActiveAgent(null);\n                                    }\n                                } else {\n                                    // Clear active agent ID if the result indicates interactive components are shown\n                                    // This prevents subsequent text input from being routed back to the agent\n                                    if (result.includes(\"Select a file to edit\") || result.includes(\"file_selector\") || result.includes(\"Choose a file from the selector\")) {\n                                        console.log('Clearing active agent ID - interactive component shown');\n                                        setActiveAgent(null);\n                                    }\n                                }\n                            }\n                            // Store agent result with process indicators (user message already stored above)\n                            await storeChatMessage({\n                                role: \"assistant\",\n                                content: \"\\uD83E\\uDD16 **\".concat(activeAgent.name, \" Agent Result:**\\n\\n\").concat(result),\n                                sessionId,\n                                processIndicator: isWaitingForInput || isCompletionResponse || isFollowUpToWaitingAgent ? {\n                                    type: 'waiting',\n                                    processType: 'file-creation',\n                                    color: 'green'\n                                } : undefined\n                            });\n                            // Debug log for what processIndicator was set\n                            console.log('StoreChatMessage Debug:', {\n                                messageType: 'assistant',\n                                willHaveProcessIndicator: !!(isWaitingForInput || isCompletionResponse || isFollowUpToWaitingAgent),\n                                isWaitingForInput,\n                                isCompletionResponse,\n                                isFollowUpToWaitingAgent,\n                                resultSnippet: result.substring(0, 100)\n                            });\n                            return;\n                        }\n                    } catch (error) {\n                        console.error('Agent execution error:', error);\n                        // Store the user message and error\n                        await storeChatMessage({\n                            role: \"user\",\n                            content: messageContent,\n                            sessionId\n                        });\n                        await storeChatMessage({\n                            role: \"assistant\",\n                            content: \"❌ Agent execution failed: \".concat(error instanceof Error ? error.message : 'Unknown error'),\n                            sessionId\n                        });\n                        return;\n                    }\n                } // Close the if (shouldRouteToAgent) block\n            }\n            // Check if this looks like a natural language MCP query\n            if (mcpConnected && isMCPQuery(messageContent)) {\n                try {\n                    const mcpResponse = await processNaturalLanguage(messageContent);\n                    if (mcpResponse.success && mcpResponse.content && mcpResponse.content.length > 0) {\n                        // Extract the actual text content from the MCP response\n                        const textContent = mcpResponse.content[0].text;\n                        // Strip markdown formatting and convert to plain text\n                        const plainText = stripMarkdown(textContent);\n                        // Send the MCP response with clean text content\n                        await sendMessage(\"\\uD83E\\uDD16 MCP Analysis:\\n\\n\".concat(plainText));\n                    } else {\n                        await sendMessage(messageContent);\n                    }\n                } catch (error) {\n                    console.error('MCP Error:', error);\n                    // Fall back to regular chat\n                    await sendMessage(messageContent);\n                }\n            } else {\n                // Regular chat message - add instruction context if available\n                let contextualMessage = messageContent;\n                if (instructionContext) {\n                    contextualMessage = \"\".concat(instructionContext, \"\\n\\n---\\n\\n\").concat(messageContent);\n                }\n                // Always use streaming thinking for all messages (thinking enabled by default)\n                await sendMessageWithStreaming(contextualMessage, messageContent);\n            }\n        }\n    };\n    const handleKeyDown = (e)=>{\n        if (e.key === 'Enter' && !e.shiftKey) {\n            e.preventDefault();\n            handleSubmit(e);\n        }\n    };\n    const handleInputChange = (e)=>{\n        const value = e.target.value;\n        setMessage(value);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex-1 flex flex-col min-h-0\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: scrollRef,\n                className: \"flex-1 overflow-y-auto bg-[#0e0e0e] p-2 pb-8 min-h-0 scrollbar-hidden\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"font-mono text-xs space-y-2 min-h-full\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-[#cccccc] space-y-1 mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: \"EAC Financial Dashboard - AI Assistant\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 665,\n                                    columnNumber: 13\n                                }, this),\n                                mcpError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#f48771] text-xs\",\n                                    children: [\n                                        \"MCP Error: \",\n                                        mcpError\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 667,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#858585] mt-2\",\n                                    children: \"AI Assistant ready for EAC project questions.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 669,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#858585] text-xs\",\n                                    children: [\n                                        \"Session: \",\n                                        sessionId.slice(-8)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 670,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#858585] text-xs\",\n                                    children: [\n                                        \"Messages: \",\n                                        messageCount,\n                                        \"/500\",\n                                        isNearSessionLimit && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-[#f48771] ml-2\",\n                                            children: \"⚠️ Approaching limit\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                            lineNumber: 676,\n                                            columnNumber: 17\n                                        }, this),\n                                        isAtSessionLimit && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-[#f48771] ml-2\",\n                                            children: \"\\uD83D\\uDEA8 Session full\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                            lineNumber: 679,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 673,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 664,\n                            columnNumber: 11\n                        }, this),\n                        messages === null || messages === void 0 ? void 0 : messages.map((msg, index)=>{\n                            var _msg_processIndicator_processType, _msg_processIndicator, _msg_interactiveComponent_data, _msg_interactiveComponent_data1, _msg_interactiveComponent_result, _msg_interactiveComponent_result1, _msg_interactiveComponent_data2, _msg_interactiveComponent_data3, _msg_interactiveComponent_data4, _msg_interactiveComponent_data5, _msg_interactiveComponent_data6, _msg_interactiveComponent_data7, _msg_interactiveComponent_result2, _msg_interactiveComponent_data8, _msg_interactiveComponent_data9, _msg_interactiveComponent_data10;\n                            // Use the stored processIndicator for visual continuity\n                            const hasProcessIndicator = msg.processIndicator;\n                            const isUserProcessMessage = hasProcessIndicator && msg.role === 'user' && hasProcessIndicator.type === 'continuing';\n                            const isAgentProcessMessage = hasProcessIndicator && msg.role === 'assistant' && hasProcessIndicator.type === 'waiting';\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1\",\n                                children: [\n                                    msg.role === 'user' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#007acc] \".concat(isUserProcessMessage ? 'border-l-4 border-[#0078d4] pl-3' : ''),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[#007acc]\",\n                                                children: \"$ user:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 697,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"ml-1 text-[#cccccc]\",\n                                                children: msg.content\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 698,\n                                                columnNumber: 21\n                                            }, this),\n                                            isUserProcessMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-[10px] text-[#0078d4] mt-1 opacity-80\",\n                                                children: [\n                                                    \"↳ Continuing \",\n                                                    (_msg_processIndicator = msg.processIndicator) === null || _msg_processIndicator === void 0 ? void 0 : (_msg_processIndicator_processType = _msg_processIndicator.processType) === null || _msg_processIndicator_processType === void 0 ? void 0 : _msg_processIndicator_processType.replace('-', ' '),\n                                                    \"...\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 700,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 696,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.role === 'assistant' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#4ec9b0] \".concat(isAgentProcessMessage ? 'border-l-4 border-[#4ec9b0] pl-3' : ''),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[#4ec9b0]\",\n                                                children: \"$ assistant:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 708,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"ml-1\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_markdownRenderer__WEBPACK_IMPORTED_MODULE_14__.MarkdownRenderer, {\n                                                    content: msg.content\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                    lineNumber: 710,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 709,\n                                                columnNumber: 21\n                                            }, this),\n                                            msg.interactiveComponent && (msg.interactiveComponent.status === 'pending' || msg.interactiveComponent.status === 'completed') && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-3 ml-1\",\n                                                children: [\n                                                    msg.interactiveComponent.type === 'project_selector' && !((_msg_interactiveComponent_data = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data === void 0 ? void 0 : _msg_interactiveComponent_data.projectNameInput) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_projectSelector__WEBPACK_IMPORTED_MODULE_16__.ProjectSelector, {\n                                                        fileDetails: (_msg_interactiveComponent_data1 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data1 === void 0 ? void 0 : _msg_interactiveComponent_data1.fileDetails,\n                                                        disabled: msg.interactiveComponent.status === 'completed',\n                                                        selectedProject: msg.interactiveComponent.status === 'completed' ? (_msg_interactiveComponent_result = msg.interactiveComponent.result) === null || _msg_interactiveComponent_result === void 0 ? void 0 : _msg_interactiveComponent_result.selectedProject : undefined,\n                                                        onProjectSelected: async (project)=>{\n                                                            try {\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        selectedProject: project\n                                                                    }\n                                                                });\n                                                                // Continue the file creation process\n                                                                const convexMutations = createConvexMutations();\n                                                                const fileCreatorAgent = agents.find((a)=>a.id === 'file-creator');\n                                                                if (fileCreatorAgent) {\n                                                                    var _result_trim;\n                                                                    // Simulate user input for project selection\n                                                                    const projectSelectionInput = \"Add it to \".concat(project.name);\n                                                                    // Send user message showing the selection\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: \"Selected project: \".concat(project.name),\n                                                                        sessionId: sessionId,\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'project_selection',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    // Execute the agent with the selection\n                                                                    console.log('🚀 Executing agent with project selection:', projectSelectionInput);\n                                                                    console.log('🔧 Agent details:', {\n                                                                        agentId: fileCreatorAgent.id,\n                                                                        toolId: fileCreatorAgent.tools[0].id,\n                                                                        toolName: fileCreatorAgent.tools[0].name,\n                                                                        convexMutationsAvailable: {\n                                                                            createFile: !!convexMutations.createFile,\n                                                                            getProjects: !!convexMutations.getProjects,\n                                                                            storeChatMessage: !!convexMutations.storeChatMessage\n                                                                        }\n                                                                    });\n                                                                    const result = await executeAgentTool(fileCreatorAgent.id, fileCreatorAgent.tools[0].id, projectSelectionInput, convexMutations, sessionId);\n                                                                    console.log('📥 Agent execution result:', result);\n                                                                    console.log('📏 Result length:', (result === null || result === void 0 ? void 0 : result.length) || 0);\n                                                                    console.log('📋 Result content preview:', result === null || result === void 0 ? void 0 : result.substring(0, 100));\n                                                                    console.log('🔍 Result type:', typeof result);\n                                                                    console.log('🎯 Is result truthy:', !!result);\n                                                                    console.log('🎯 Is result empty string:', result === \"\");\n                                                                    console.log('🎯 Result trimmed length:', (result === null || result === void 0 ? void 0 : (_result_trim = result.trim()) === null || _result_trim === void 0 ? void 0 : _result_trim.length) || 0);\n                                                                    // Only store non-empty results\n                                                                    if (result && result.trim() !== \"\") {\n                                                                        console.log('✅ Storing success message to chat...');\n                                                                        console.log('📋 Current session ID:', sessionId);\n                                                                        console.log('📋 Message content length:', result.length);\n                                                                        // Store the agent's response\n                                                                        const storedMessage = await storeChatMessage({\n                                                                            role: 'assistant',\n                                                                            content: result,\n                                                                            sessionId: sessionId,\n                                                                            processIndicator: {\n                                                                                type: 'waiting',\n                                                                                processType: 'file_creation_complete',\n                                                                                color: 'green'\n                                                                            }\n                                                                        });\n                                                                        console.log('✅ Success message stored to chat!');\n                                                                        console.log('📋 Stored message result:', storedMessage);\n                                                                        // Wait a moment and check if the message appears in the messages array\n                                                                        setTimeout(()=>{\n                                                                            var _messages__content, _messages_, _messages_1;\n                                                                            console.log('🔍 Messages after success storage:', {\n                                                                                totalMessages: (messages === null || messages === void 0 ? void 0 : messages.length) || 0,\n                                                                                lastMessage: (messages === null || messages === void 0 ? void 0 : (_messages_ = messages[messages.length - 1]) === null || _messages_ === void 0 ? void 0 : (_messages__content = _messages_.content) === null || _messages__content === void 0 ? void 0 : _messages__content.substring(0, 50)) + '...',\n                                                                                lastMessageRole: messages === null || messages === void 0 ? void 0 : (_messages_1 = messages[messages.length - 1]) === null || _messages_1 === void 0 ? void 0 : _messages_1.role,\n                                                                                sessionId: sessionId\n                                                                            });\n                                                                        }, 1000);\n                                                                    } else {\n                                                                        console.log('⚠️ Agent returned empty result after project selection');\n                                                                    }\n                                                                }\n                                                            } catch (error) {\n                                                                console.error('Error handling project selection:', error);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ Error processing project selection. Please try again.'\n                                                                });\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ File creation cancelled. You can start a new file creation request anytime.'\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling project selection:', error);\n                                                            }\n                                                        },\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 717,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    msg.interactiveComponent.type === 'file_selector' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_fileSelector__WEBPACK_IMPORTED_MODULE_12__.FileSelector, {\n                                                        disabled: msg.interactiveComponent.status === 'completed',\n                                                        selectedFile: msg.interactiveComponent.status === 'completed' ? (_msg_interactiveComponent_result1 = msg.interactiveComponent.result) === null || _msg_interactiveComponent_result1 === void 0 ? void 0 : _msg_interactiveComponent_result1.selectedFile : undefined,\n                                                        onFileSelected: async (file)=>{\n                                                            try {\n                                                                console.log('🔥 [FileSelector] File selected callback triggered:', file);\n                                                                // Use the file name for database storage but pass complete object to agent\n                                                                const filePath = file.name || file.path || file.id;\n                                                                console.log('🔥 [FileSelector] Updating interactive component status');\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        selectedFile: filePath\n                                                                    }\n                                                                });\n                                                                console.log('🔥 [FileSelector] Continuing the file selection process');\n                                                                // Continue the file selection process based on the active agent\n                                                                const convexMutations = createConvexMutations();\n                                                                const activeAgent = agents.find((a)=>a.id === activeAgentId);\n                                                                if (activeAgent && activeAgentId === 'director') {\n                                                                    console.log('🔥 [FileSelector] Found director agent, processing campaign instructions');\n                                                                    // Send user message showing the selection\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: \"Selected file: \".concat(file.name),\n                                                                        sessionId: sessionId,\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'file_selection',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    console.log('🔥 [FileSelector] Executing director agent with file selection');\n                                                                    try {\n                                                                        const result = await executeAgentTool(activeAgentId, activeAgent.tools[0].command, \"Selected file: \".concat(file.name), convexMutations, sessionId);\n                                                                        console.log('🔥 [FileSelector] Director agent execution result:', result);\n                                                                        // Store the director agent's response\n                                                                        await storeChatMessage({\n                                                                            role: 'assistant',\n                                                                            content: result,\n                                                                            sessionId,\n                                                                            operation: {\n                                                                                type: 'tool_executed',\n                                                                                details: {\n                                                                                    selectedFile: file.name,\n                                                                                    agentType: 'director'\n                                                                                }\n                                                                            }\n                                                                        });\n                                                                    } catch (error) {\n                                                                        console.error('❌ [FileSelector] Error executing director agent:', error);\n                                                                    }\n                                                                } else if (activeAgent && activeAgentId === 'editor') {\n                                                                    console.log('🔥 [FileSelector] Found editor agent, processing file edit');\n                                                                    // Send user message showing the selection\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: \"Selected file: \".concat(file.name),\n                                                                        sessionId: sessionId,\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'file_selection',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    console.log('🔥 [FileSelector] Calling handleFileSelected method');\n                                                                    // Call the editor agent's handleFileSelected method with complete file object\n                                                                    try {\n                                                                        const { editorAgent: actualEditorAgent } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/store/agents/editorAgent */ \"(app-pages-browser)/./store/agents/editorAgent.ts\"));\n                                                                        console.log('🔥 [FileSelector] Imported actual editor agent instance');\n                                                                        console.log('🔥 [FileSelector] Agent has handleFileSelected:', 'handleFileSelected' in actualEditorAgent);\n                                                                        if ('handleFileSelected' in actualEditorAgent) {\n                                                                            await actualEditorAgent.handleFileSelected(sessionId, file);\n                                                                            console.log('🔥 [FileSelector] handleFileSelected completed successfully');\n                                                                        } else {\n                                                                            console.error('❌ [FileSelector] handleFileSelected method not found on editor agent');\n                                                                        }\n                                                                    } catch (error) {\n                                                                        console.error('❌ [FileSelector] Error calling handleFileSelected:', error);\n                                                                    }\n                                                                    console.log('🔥 [FileSelector] Storing message with edit instructions input');\n                                                                    // Show edit instructions input component\n                                                                    await storeChatMessage({\n                                                                        role: 'assistant',\n                                                                        content: \"✅ **File Selected: \".concat(file.name, \"**\\n\\n\\uD83D\\uDCC4 **The file has been opened in the editor tab.**\"),\n                                                                        sessionId,\n                                                                        interactiveComponent: {\n                                                                            type: 'edit_instructions_input',\n                                                                            status: 'pending',\n                                                                            data: {\n                                                                                fileName: file.name,\n                                                                                placeholder: 'Describe what changes you want to make to this file...',\n                                                                                examples: [\n                                                                                    'Add a section about best practices',\n                                                                                    'Update the pricing information',\n                                                                                    'Make the tone more professional',\n                                                                                    'Fix any grammar or spelling errors',\n                                                                                    'Add examples and code snippets'\n                                                                                ]\n                                                                            }\n                                                                        }\n                                                                    });\n                                                                }\n                                                            } catch (error) {\n                                                                console.error('Error handling file selection:', error);\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ File editing cancelled. You can start a new edit request anytime.',\n                                                                    sessionId\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling file selection:', error);\n                                                            }\n                                                        },\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 839,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    msg.interactiveComponent.type === 'edit_instructions_input' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_editInstructionsInput__WEBPACK_IMPORTED_MODULE_10__.EditInstructionsInput, {\n                                                        placeholder: (_msg_interactiveComponent_data2 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data2 === void 0 ? void 0 : _msg_interactiveComponent_data2.placeholder,\n                                                        fileName: (_msg_interactiveComponent_data3 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data3 === void 0 ? void 0 : _msg_interactiveComponent_data3.fileName,\n                                                        examples: (_msg_interactiveComponent_data4 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data4 === void 0 ? void 0 : _msg_interactiveComponent_data4.examples,\n                                                        onInstructionsSubmitted: async (instructions)=>{\n                                                            try {\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        instructions\n                                                                    }\n                                                                });\n                                                                // Send user message showing the edit instructions\n                                                                await storeChatMessage({\n                                                                    role: 'user',\n                                                                    content: instructions,\n                                                                    sessionId: sessionId,\n                                                                    processIndicator: {\n                                                                        type: 'continuing',\n                                                                        processType: 'edit_instructions',\n                                                                        color: 'blue'\n                                                                    }\n                                                                });\n                                                                // Continue the editing process using agent registry\n                                                                const convexMutations = createConvexMutations();\n                                                                const result = await executeAgentTool('editor', 'edit-file', instructions, convexMutations, sessionId);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: result,\n                                                                    sessionId: sessionId\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error processing edit instructions:', error);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: \"❌ **Error processing edit instructions**\\n\\n\".concat(error instanceof Error ? error.message : 'Unknown error occurred'),\n                                                                    sessionId: sessionId\n                                                                });\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ Edit instructions cancelled. You can start a new edit request anytime.',\n                                                                    sessionId\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling edit instructions:', error);\n                                                            }\n                                                        },\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 984,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    msg.interactiveComponent.type === 'project_selector' && ((_msg_interactiveComponent_data5 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data5 === void 0 ? void 0 : _msg_interactiveComponent_data5.projectNameInput) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_projectNameInput__WEBPACK_IMPORTED_MODULE_15__.ProjectNameInput, {\n                                                        placeholder: (_msg_interactiveComponent_data6 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data6 === void 0 ? void 0 : _msg_interactiveComponent_data6.placeholder,\n                                                        defaultValue: (_msg_interactiveComponent_data7 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data7 === void 0 ? void 0 : _msg_interactiveComponent_data7.defaultValue,\n                                                        onProjectNameSubmitted: async (projectName)=>{\n                                                            try {\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        projectName\n                                                                    }\n                                                                });\n                                                                // Continue the project creation process\n                                                                const convexMutations = createConvexMutations();\n                                                                const projectCreatorAgent = agents.find((a)=>a.id === 'project-creator');\n                                                                if (projectCreatorAgent) {\n                                                                    // Send user message showing the project name\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: \"Project name: \".concat(projectName),\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'project_name_input',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    // Execute the agent with the project name\n                                                                    console.log('🚀 Executing agent with project name:', projectName);\n                                                                    const result = await executeAgentTool(projectCreatorAgent.id, projectCreatorAgent.tools[0].id, projectName, convexMutations);\n                                                                    console.log('📥 Agent execution result:', result);\n                                                                    // Only store non-empty results\n                                                                    if (result && result.trim() !== \"\") {\n                                                                        console.log('✅ Storing project creation success message...');\n                                                                        // Store the agent's response\n                                                                        await storeChatMessage({\n                                                                            role: 'assistant',\n                                                                            content: result,\n                                                                            sessionId: sessionId,\n                                                                            processIndicator: {\n                                                                                type: 'waiting',\n                                                                                processType: 'project_creation_complete',\n                                                                                color: 'green'\n                                                                            }\n                                                                        });\n                                                                        console.log('✅ Project creation success message stored!');\n                                                                    } else {\n                                                                        console.log('⚠️ Agent returned empty result after project name input');\n                                                                    }\n                                                                }\n                                                            } catch (error) {\n                                                                console.error('Error handling project name input:', error);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ Error processing project name. Please try again.'\n                                                                });\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ Project creation cancelled. You can start a new project creation request anytime.'\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling project name input:', error);\n                                                            }\n                                                        },\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 1053,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    msg.interactiveComponent.type === 'file_type_selector' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_fileTypeSelector__WEBPACK_IMPORTED_MODULE_13__.FileTypeSelector, {\n                                                        onFileTypeSelected: async (fileType)=>{\n                                                            try {\n                                                                // Create a serializable version of the fileType without React components\n                                                                const serializableFileType = {\n                                                                    type: fileType.type,\n                                                                    extension: fileType.extension,\n                                                                    description: fileType.description,\n                                                                    platform: fileType.platform,\n                                                                    available: fileType.available\n                                                                };\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        fileType: serializableFileType\n                                                                    }\n                                                                });\n                                                                // Continue the file creation process\n                                                                const convexMutations = createConvexMutations();\n                                                                const fileCreatorAgent = agents.find((a)=>a.id === 'file-creator');\n                                                                if (fileCreatorAgent) {\n                                                                    // Send user message showing the file type selection\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: \"Selected file type: \".concat(fileType.description),\n                                                                        sessionId: sessionId,\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'file_type_selection',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    // Execute the agent with the file type selection\n                                                                    console.log('🚀 Executing file creator agent with file type:', fileType);\n                                                                    const result = await executeAgentTool(fileCreatorAgent.id, fileCreatorAgent.tools[0].id, \"File type: \".concat(fileType.type), convexMutations);\n                                                                    console.log('📥 File creator agent result:', result);\n                                                                    // Only store non-empty results\n                                                                    if (result && result.trim() !== \"\") {\n                                                                        console.log('✅ Storing file type continuation message...');\n                                                                        // Store the agent's response\n                                                                        await storeChatMessage({\n                                                                            role: 'assistant',\n                                                                            content: result,\n                                                                            sessionId: sessionId,\n                                                                            processIndicator: {\n                                                                                type: 'waiting',\n                                                                                processType: 'file_type_continue',\n                                                                                color: 'green'\n                                                                            }\n                                                                        });\n                                                                        console.log('✅ File type continuation message stored!');\n                                                                    } else {\n                                                                        console.log('⚠️ Agent returned empty result after file type selection');\n                                                                    }\n                                                                }\n                                                            } catch (error) {\n                                                                console.error('Error handling file type selection:', error);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ Error processing file type selection. Please try again.',\n                                                                    sessionId: sessionId\n                                                                });\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ File creation cancelled. You can start a new file creation request anytime.',\n                                                                    sessionId\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling file type selection:', error);\n                                                            }\n                                                        },\n                                                        disabled: msg.interactiveComponent.status === 'completed',\n                                                        selectedFileType: msg.interactiveComponent.status === 'completed' ? (_msg_interactiveComponent_result2 = msg.interactiveComponent.result) === null || _msg_interactiveComponent_result2 === void 0 ? void 0 : _msg_interactiveComponent_result2.fileType : undefined,\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 1139,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    msg.interactiveComponent.type === 'file_name_input' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_fileNameInput__WEBPACK_IMPORTED_MODULE_11__.FileNameInput, {\n                                                        placeholder: (_msg_interactiveComponent_data8 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data8 === void 0 ? void 0 : _msg_interactiveComponent_data8.placeholder,\n                                                        defaultValue: (_msg_interactiveComponent_data9 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data9 === void 0 ? void 0 : _msg_interactiveComponent_data9.defaultValue,\n                                                        fileType: (_msg_interactiveComponent_data10 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data10 === void 0 ? void 0 : _msg_interactiveComponent_data10.fileType,\n                                                        onFileNameSubmitted: async (fileName)=>{\n                                                            try {\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        fileName\n                                                                    }\n                                                                });\n                                                                // Continue the file creation process\n                                                                const convexMutations = createConvexMutations();\n                                                                const fileCreatorAgent = agents.find((a)=>a.id === 'file-creator');\n                                                                if (fileCreatorAgent) {\n                                                                    // Execute the agent with the file name FIRST\n                                                                    console.log('🚀 Executing file creator agent with file name:', fileName);\n                                                                    const result = await executeAgentTool(fileCreatorAgent.id, fileCreatorAgent.tools[0].id, fileName, convexMutations);\n                                                                    // THEN send user message showing the file name (after agent processes it)\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: fileName,\n                                                                        sessionId: sessionId,\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'file_name_input',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    console.log('📥 File creator agent result:', result);\n                                                                    // Only store non-empty results\n                                                                    if (result && result.trim() !== \"\") {\n                                                                        console.log('✅ Storing file creation continuation message...');\n                                                                        // Store the agent's response\n                                                                        await storeChatMessage({\n                                                                            role: 'assistant',\n                                                                            content: result,\n                                                                            sessionId: sessionId,\n                                                                            processIndicator: {\n                                                                                type: 'waiting',\n                                                                                processType: 'file_creation_continue',\n                                                                                color: 'green'\n                                                                            }\n                                                                        });\n                                                                        console.log('✅ File creation continuation message stored!');\n                                                                    } else {\n                                                                        console.log('⚠️ Agent returned empty result after file name input');\n                                                                    }\n                                                                }\n                                                            } catch (error) {\n                                                                console.error('Error handling file name input:', error);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ Error processing file name. Please try again.',\n                                                                    sessionId: sessionId\n                                                                });\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ File creation cancelled. You can start a new file creation request anytime.',\n                                                                    sessionId\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling file name input:', error);\n                                                            }\n                                                        },\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 1237,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 715,\n                                                columnNumber: 23\n                                            }, this),\n                                            isAgentProcessMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-[10px] mt-1 opacity-80\",\n                                                children: (()=>{\n                                                    // Check for successful file creation with specific file info\n                                                    if (msg.content.includes(\"The comprehensive instruction document has been created and saved to your files.\")) {\n                                                        // Extract filename from the message\n                                                        const fileMatch = msg.content.match(/📄 \\*\\*File:\\*\\* `([^`]+)`/);\n                                                        const fileName = fileMatch ? fileMatch[1] : null;\n                                                        if (fileName) {\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: ()=>{\n                                                                    const { projectFiles } = _store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore.getState();\n                                                                    const file = projectFiles.find((f)=>f.name === fileName);\n                                                                    if (file) {\n                                                                        _store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore.getState().openTab(file);\n                                                                    }\n                                                                },\n                                                                className: \"text-[#007acc] hover:text-[#4ec9b0] hover:underline cursor-pointer transition-colors\",\n                                                                children: \"↳ Click here to view your file...\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                                lineNumber: 1340,\n                                                                columnNumber: 33\n                                                            }, this);\n                                                        }\n                                                    }\n                                                    // Check for CMO report generation success\n                                                    if (msg.content.includes(\"CMO_REPORT_GENERATED_SUCCESS:\")) {\n                                                        const fileMatch = msg.content.match(/CMO_REPORT_GENERATED_SUCCESS:\\s*(.+)$/);\n                                                        const fileName = fileMatch ? fileMatch[1].trim() : null;\n                                                        if (fileName) {\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: ()=>{\n                                                                    const { projectFiles } = _store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore.getState();\n                                                                    const file = projectFiles.find((f)=>f.name === fileName);\n                                                                    if (file) {\n                                                                        _store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore.getState().openTab(file);\n                                                                    }\n                                                                },\n                                                                className: \"flex items-center gap-1 text-[#007acc] hover:text-[#4ec9b0] hover:underline cursor-pointer transition-colors text-xs\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"transform rotate-90\",\n                                                                        children: \"↳\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                                        lineNumber: 1373,\n                                                                        columnNumber: 35\n                                                                    }, this),\n                                                                    \"Open Instructions File Tab\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                                lineNumber: 1363,\n                                                                columnNumber: 33\n                                                            }, this);\n                                                        }\n                                                    }\n                                                    // Check for CMO report that needs manual save\n                                                    if (msg.content.includes(\"CMO_REPORT_MANUAL_SAVE_NEEDED:\")) {\n                                                        const fileMatch = msg.content.match(/CMO_REPORT_MANUAL_SAVE_NEEDED:\\s*(.+)$/);\n                                                        const fileName = fileMatch ? fileMatch[1].trim() : null;\n                                                        if (fileName) {\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: async ()=>{\n                                                                    try {\n                                                                        const convexMutations = createConvexMutations();\n                                                                        // Use the same report content from the message to create instruction file\n                                                                        const reportMatch = msg.content.match(/📋 \\*\\*Marketing Campaign Report Generated\\*\\*([\\s\\S]*?)⚠️ \\*\\*Note:/);\n                                                                        const reportContent = reportMatch ? reportMatch[1].trim() : 'Marketing Campaign Report';\n                                                                        // Execute the instructions agent to create the file\n                                                                        await executeAgentTool('instructions', 'natural-language-instructions', 'Create marketing campaign instruction file named \"'.concat(fileName, '\" with the campaign strategy report that was just generated'), convexMutations);\n                                                                    } catch (error) {\n                                                                        console.error('Error creating instruction file:', error);\n                                                                    }\n                                                                },\n                                                                className: \"flex items-center gap-1 text-[#007acc] hover:text-[#4ec9b0] hover:underline cursor-pointer transition-colors text-xs\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"transform rotate-90\",\n                                                                        children: \"↳\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                                        lineNumber: 1408,\n                                                                        columnNumber: 35\n                                                                    }, this),\n                                                                    \"Create an Instruction File Here\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                                lineNumber: 1387,\n                                                                columnNumber: 33\n                                                            }, this);\n                                                        }\n                                                    }\n                                                    // Check for other success indicators\n                                                    if (msg.content.includes(\"✅ **File Created Successfully!**\") || msg.content.includes(\"✅ **Project Created Successfully!**\") || msg.content.includes(\"✅ **Template Applied Successfully!**\")) {\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-[#4ec9b0]\",\n                                                            children: \"↳ Process completed successfully!\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                            lineNumber: 1419,\n                                                            columnNumber: 36\n                                                        }, this);\n                                                    }\n                                                    // Default waiting message\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-[#4ec9b0]\",\n                                                        children: \"↳ Agent waiting for your input...\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 1423,\n                                                        columnNumber: 34\n                                                    }, this);\n                                                })()\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 1330,\n                                                columnNumber: 23\n                                            }, this),\n                                            (()=>{\n                                                const shouldShow = activeAgentId === 'cmo' && msg.role === 'assistant';\n                                                console.log('🔍 Button condition check:', {\n                                                    activeAgentId,\n                                                    msgRole: msg.role,\n                                                    shouldShow,\n                                                    msgContent: msg.content.substring(0, 50)\n                                                });\n                                                return shouldShow;\n                                            })() && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-2 ml-1\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: async ()=>{\n                                                        try {\n                                                            // Extract key information from the Campaign Director's response\n                                                            const content = msg.content;\n                                                            // Generate a descriptive filename based on content\n                                                            let fileName = \"campaign-strategy\";\n                                                            // Try to extract campaign name or type from content\n                                                            const titleMatch = content.match(/(?:^|\\n)#\\s*(.+)$/m);\n                                                            if (titleMatch) {\n                                                                const title = titleMatch[1].trim().toLowerCase().replace(/[^a-z0-9\\s]/g, '').replace(/\\s+/g, '-').substring(0, 50);\n                                                                fileName = title || fileName;\n                                                            }\n                                                            // Add timestamp to ensure uniqueness\n                                                            const timestamp = new Date().toISOString().split('T')[0];\n                                                            const finalFileName = \"\".concat(fileName, \"-\").concat(timestamp);\n                                                            // Format the content as a nice instruction document\n                                                            const instructionContent = \"# Campaign Strategy Instructions\\n\\nThis instruction document was generated from a Campaign Strategy response.\\n\\n---\\n\\n\".concat(content, \"\\n\\n---\\n\\n**Generated:** \").concat(new Date().toLocaleString(), \"\\n**Source:** Campaign Strategy Agent\");\n                                                            // Create the instruction file directly\n                                                            await createInstruction({\n                                                                name: finalFileName,\n                                                                content: instructionContent,\n                                                                topic: \"Campaign Strategy\",\n                                                                audience: \"Marketing Team\"\n                                                            });\n                                                            console.log('✅ Instruction file created successfully:', finalFileName);\n                                                            // Show success feedback\n                                                            const successMessage = \"✅ **Instruction File Created!**\\n\\n\\uD83D\\uDCC4 **File:** `\".concat(finalFileName, \".md`\\n\\uD83C\\uDFAF **Topic:** Campaign Strategy\\n\\uD83D\\uDCC1 **Location:** Instructions Project\\n\\nThe campaign strategy has been saved as an instruction file for future reference.\");\n                                                            // Add success message to chat\n                                                            if (storeChatMessage && sessionId) {\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: successMessage,\n                                                                    sessionId: sessionId\n                                                                });\n                                                            }\n                                                        } catch (error) {\n                                                            console.error('Error creating instruction file:', error);\n                                                            // Show error feedback\n                                                            const errorMessage = \"❌ **Failed to Create Instruction File**\\n\\nThere was an error saving the campaign strategy as an instruction file. Please try again or contact support if the issue persists.\";\n                                                            if (storeChatMessage && sessionId) {\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: errorMessage,\n                                                                    sessionId: sessionId\n                                                                });\n                                                            }\n                                                        }\n                                                    },\n                                                    className: \"flex items-center gap-1 text-[#007acc] hover:text-[#4ec9b0] hover:underline cursor-pointer transition-colors text-xs opacity-60 hover:opacity-100\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"transform rotate-90\",\n                                                            children: \"↳\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                            lineNumber: 1516,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        \"Create an Instruction File Here\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                    lineNumber: 1440,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 1439,\n                                                columnNumber: 23\n                                            }, this),\n                                            (msg.content.includes('CMO_REPORT_GENERATED_SUCCESS') || msg.content.includes('CMO_REPORT_MANUAL_SAVE_NEEDED')) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-2 ml-1\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: async ()=>{\n                                                        try {\n                                                            const convexMutations = createConvexMutations();\n                                                            // Create a descriptive prompt from the assistant's response\n                                                            const responseContent = msg.content.substring(0, 200).trim();\n                                                            const prompt = 'Create instruction file from this CMO agent response: \"'.concat(responseContent).concat(msg.content.length > 200 ? '...' : '', '\"');\n                                                            // Execute the instructions agent to create the file\n                                                            await executeAgentTool('instructions', 'generate-instructions', prompt, convexMutations);\n                                                        } catch (error) {\n                                                            console.error('Error creating instruction file:', error);\n                                                        }\n                                                    },\n                                                    className: \"flex items-center gap-1 text-[#007acc] hover:text-[#4ec9b0] hover:underline cursor-pointer transition-colors text-xs opacity-60 hover:opacity-100\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"transform rotate-90\",\n                                                            children: \"↳\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                            lineNumber: 1547,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        \"Create an Instruction File Here\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                    lineNumber: 1525,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 1524,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 707,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.role === 'thinking' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#d4d4aa]\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[#d4d4aa]\",\n                                                children: \"\\uD83E\\uDDE0 thinking:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 1556,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"ml-1 text-[#cccccc] whitespace-pre-wrap text-xs font-mono italic\",\n                                                children: msg.content\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 1557,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1555,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.role === 'terminal' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#858585]\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-[#585858] whitespace-pre-wrap bg-[#1a1a1a] p-1 rounded text-[10px] border-l-2 border-[#333]\",\n                                            children: msg.content\n                                        }, void 0, false, {\n                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                            lineNumber: 1564,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1563,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, index, true, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 694,\n                                columnNumber: 15\n                            }, this);\n                        }),\n                        isStreamingThinking && streamingThinking && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-1\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-[#d4d4aa]\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[#d4d4aa]\",\n                                        children: \"\\uD83E\\uDDE0 thinking:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1577,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"ml-1 text-[#cccccc] whitespace-pre-wrap text-xs font-mono italic\",\n                                        children: streamingThinking\n                                    }, void 0, false, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1578,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 1576,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 1575,\n                            columnNumber: 13\n                        }, this),\n                        isLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-[#4ec9b0]\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-[#4ec9b0]\",\n                                    children: \"\\uD83E\\uDD16 assistant:\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 1588,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"ml-1 text-[#858585]\",\n                                    children: \"thinking...\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 1589,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 1587,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                    lineNumber: 662,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                lineNumber: 658,\n                columnNumber: 7\n            }, this),\n            agentProgress && agentProgress.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-[#0e0e0e] p-2 font-mono text-xs flex-shrink-0\",\n                children: agentProgress.map((progress)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-2 last:mb-0\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between mb-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[#007acc] text-xs\",\n                                        children: [\n                                            \"\\uD83E\\uDD16 \",\n                                            progress.agentType,\n                                            \" Agent\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1601,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[#858585] text-xs\",\n                                        children: [\n                                            progress.percentage,\n                                            \"%\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1604,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 1600,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-64 bg-[#333] rounded-full h-1.5 relative overflow-hidden\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-[#007acc] h-1.5 rounded-full transition-all duration-300 absolute left-0 top-0\",\n                                    style: {\n                                        width: \"\".concat(Math.min(100, Math.max(0, progress.percentage)), \"%\")\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 1609,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 1608,\n                                columnNumber: 15\n                            }, this),\n                            progress.status && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-[#858585] text-xs mt-1\",\n                                children: progress.status\n                            }, void 0, false, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 1615,\n                                columnNumber: 17\n                            }, this)\n                        ]\n                    }, progress._id, true, {\n                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                        lineNumber: 1599,\n                        columnNumber: 13\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                lineNumber: 1597,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-[#0e0e0e] p-2 font-mono text-xs flex-shrink-0\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-[#007acc]\",\n                            children: \"$ user:\"\n                        }, void 0, false, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 1627,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                            onSubmit: handleSubmit,\n                            className: \"flex-1 ml-1\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                ref: inputRef,\n                                type: \"text\",\n                                value: message,\n                                onChange: handleInputChange,\n                                onKeyDown: handleKeyDown,\n                                placeholder: isAtSessionLimit ? \"Session limit reached - Start new session to continue...\" : isLoading ? \"AI is thinking...\" : \"Ask about your EAC project...\",\n                                disabled: isLoading || isAtSessionLimit,\n                                className: \"w-full bg-transparent border-none outline-none placeholder:text-[#858585] disabled:opacity-50 disabled:cursor-not-allowed caret-[#cccccc] \".concat(isAtSessionLimit ? 'text-[#f48771]' : 'text-[#cccccc]')\n                            }, void 0, false, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 1629,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 1628,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                    lineNumber: 1626,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                lineNumber: 1625,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n        lineNumber: 657,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatMessages, \"Vs45R8fQWCEFeqD5uu3KELg5XnQ=\", false, function() {\n    return [\n        _clerk_nextjs__WEBPACK_IMPORTED_MODULE_17__.useUser,\n        _store_terminal_chat__WEBPACK_IMPORTED_MODULE_6__.useChatStore,\n        _store_terminal_session__WEBPACK_IMPORTED_MODULE_7__.useSessionStore,\n        _lib_hooks_useChat__WEBPACK_IMPORTED_MODULE_2__.useChat,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery,\n        _lib_hooks_useMCP__WEBPACK_IMPORTED_MODULE_4__.useMCP,\n        _store__WEBPACK_IMPORTED_MODULE_5__.useAgentStore,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useAction,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery,\n        _lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructionContext,\n        _lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructions,\n        _store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore\n    ];\n});\n_c = ChatMessages;\nvar _c;\n$RefreshReg$(_c, \"ChatMessages\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9fY29tcG9uZW50cy90ZXJtaW5hbC9fY29tcG9uZW50cy9jaGF0TWVzc2FnZXMudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEseURBQXlEO0FBQ3pELDZGQUE2Rjs7O0FBSS9DO0FBQ0E7QUFDdUM7QUFDekM7QUFDWTtBQUNIO0FBQ007QUFDbkI7QUFDd0I7QUFDTDtBQUNLO0FBQ2hCO0FBQ0Y7QUFDUTtBQUNBO0FBQ0E7QUFDRjtBQUU3QyxTQUFTd0I7O0lBQ2QsTUFBTUMsWUFBWVYsNkNBQU1BLENBQWlCO0lBQ3pDLE1BQU1XLFdBQVdYLDZDQUFNQSxDQUFtQjtJQUMxQyxNQUFNWSxzQkFBc0JaLDZDQUFNQSxDQUFjLElBQUlhO0lBQ3BELE1BQU0sQ0FBQ0MsU0FBU0MsV0FBVyxHQUFHZCwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNlLG9CQUFvQkMsc0JBQXNCLEdBQUdoQiwrQ0FBUUEsQ0FJbEQ7SUFFViwrQ0FBK0M7SUFDL0NGLGdEQUFTQTtrQ0FBQztZQUNSbUIsUUFBUUMsR0FBRyxDQUFDLCtCQUErQkg7UUFDN0M7aUNBQUc7UUFBQ0E7S0FBbUI7SUFHdkIsTUFBTSxFQUFFSSxJQUFJLEVBQUVDLFFBQVEsRUFBRSxHQUFHM0IsdURBQU9BO0lBQ2xDLE1BQU0sRUFBRTRCLHFCQUFxQixFQUFFQyxtQkFBbUIsRUFBRUMsWUFBWSxFQUFFLEdBQUdoQyxrRUFBWUE7SUFDakYsTUFBTSxFQUFFaUMsZUFBZSxFQUFFLEdBQUdoQyx3RUFBZUE7SUFDM0MsTUFBTSxFQUNKaUMsUUFBUSxFQUNSQyxXQUFXQyxXQUFXLEVBQ3RCQyxXQUFXLEVBQ1hDLHdCQUF3QixFQUN4QkMsU0FBUyxFQUNUQyxnQkFBZ0IsRUFDaEJULHFCQUFxQlUsbUJBQW1CLEVBQ3hDQyxpQkFBaUIsRUFDakJDLG1CQUFtQixFQUNuQkMsWUFBWSxFQUNaQyxrQkFBa0IsRUFDbEJDLGdCQUFnQixFQUNoQkMsY0FB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QixtQkFBbUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRdEQ7R0E1bERnQjdCOztRQWlCYWYsbURBQU9BO1FBQ21DRiw4REFBWUE7UUFDckRDLG9FQUFlQTtRQWlCdkNQLHVEQUFPQTtRQUdXVyxrREFBUUE7UUFPMUJSLHFEQUFNQTtRQUcwREMsaURBQWFBO1FBQ3ZETSxxREFBV0E7UUFDSEEscURBQVdBO1FBQzFCQSxxREFBV0E7UUFDVEEscURBQVdBO1FBQ0VBLHFEQUFXQTtRQUN2QkEscURBQVdBO1FBQ2RBLHFEQUFXQTtRQUNOQyxrREFBUUE7UUFDR0QscURBQVdBO1FBQ3ZCRCxtREFBU0E7UUFDTkMscURBQVdBO1FBQ3BCQyxrREFBUUE7UUFDTEEsa0RBQVFBO1FBQ0RWLDZFQUFxQkE7UUFDTEMsdUVBQWVBO1FBQ2hDRyxrREFBY0E7OztLQWpFMUJrQiIsInNvdXJjZXMiOlsiL1VzZXJzL21hdHRoZXdzaW1vbi9Qcm9qZWN0cy9lYWMvZWFjL2FwcC9fY29tcG9uZW50cy90ZXJtaW5hbC9fY29tcG9uZW50cy9jaGF0TWVzc2FnZXMudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIFNpbXBsaWZpZWQgQ2hhdCBNZXNzYWdlcyBDb21wb25lbnQgLSBObyBTbGFzaCBDb21tYW5kc1xuLy8gL1VzZXJzL21hdHRoZXdzaW1vbi9Qcm9qZWN0cy9lYWMvZWFjL2FwcC9fY29tcG9uZW50cy90ZXJtaW5hbC9fY29tcG9uZW50cy9jaGF0TWVzc2FnZXMudHN4XG5cblwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBhcGkgfSBmcm9tIFwiQC9jb252ZXgvX2dlbmVyYXRlZC9hcGlcIjtcbmltcG9ydCB7IHVzZUNoYXQgfSBmcm9tIFwiQC9saWIvaG9va3MvdXNlQ2hhdFwiO1xuaW1wb3J0IHsgdXNlSW5zdHJ1Y3Rpb25Db250ZXh0LCB1c2VJbnN0cnVjdGlvbnMgfSBmcm9tIFwiQC9saWIvaG9va3MvdXNlSW5zdHJ1Y3Rpb25zXCI7XG5pbXBvcnQgeyB1c2VNQ1AgfSBmcm9tIFwiQC9saWIvaG9va3MvdXNlTUNQXCI7XG5pbXBvcnQgeyB1c2VBZ2VudFN0b3JlLCB1c2VFZGl0b3JTdG9yZSB9IGZyb20gXCJAL3N0b3JlXCI7XG5pbXBvcnQgeyB1c2VDaGF0U3RvcmUgfSBmcm9tIFwiQC9zdG9yZS90ZXJtaW5hbC9jaGF0XCI7XG5pbXBvcnQgeyB1c2VTZXNzaW9uU3RvcmUgfSBmcm9tIFwiQC9zdG9yZS90ZXJtaW5hbC9zZXNzaW9uXCI7XG5pbXBvcnQgeyB1c2VVc2VyIH0gZnJvbSBcIkBjbGVyay9uZXh0anNcIjtcbmltcG9ydCB7IHVzZUFjdGlvbiwgdXNlTXV0YXRpb24sIHVzZVF1ZXJ5IH0gZnJvbSBcImNvbnZleC9yZWFjdFwiO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgRWRpdEluc3RydWN0aW9uc0lucHV0IH0gZnJvbSBcIi4vZWRpdEluc3RydWN0aW9uc0lucHV0XCI7XG5pbXBvcnQgeyBGaWxlTmFtZUlucHV0IH0gZnJvbSBcIi4vZmlsZU5hbWVJbnB1dFwiO1xuaW1wb3J0IHsgRmlsZVNlbGVjdG9yIH0gZnJvbSBcIi4vZmlsZVNlbGVjdG9yXCI7XG5pbXBvcnQgeyBGaWxlVHlwZVNlbGVjdG9yIH0gZnJvbSBcIi4vZmlsZVR5cGVTZWxlY3RvclwiO1xuaW1wb3J0IHsgTWFya2Rvd25SZW5kZXJlciB9IGZyb20gXCIuL21hcmtkb3duUmVuZGVyZXJcIjtcbmltcG9ydCB7IFByb2plY3ROYW1lSW5wdXQgfSBmcm9tIFwiLi9wcm9qZWN0TmFtZUlucHV0XCI7XG5pbXBvcnQgeyBQcm9qZWN0U2VsZWN0b3IgfSBmcm9tIFwiLi9wcm9qZWN0U2VsZWN0b3JcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIENoYXRNZXNzYWdlcygpIHtcbiAgY29uc3Qgc2Nyb2xsUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IHByb2Nlc3NlZE9wZXJhdGlvbnMgPSB1c2VSZWY8U2V0PHN0cmluZz4+KG5ldyBTZXQoKSk7XG4gIGNvbnN0IFttZXNzYWdlLCBzZXRNZXNzYWdlXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbYWN0aXZlQWdlbnRQcm9jZXNzLCBzZXRBY3RpdmVBZ2VudFByb2Nlc3NdID0gdXNlU3RhdGU8e1xuICAgIGFnZW50SWQ6IHN0cmluZztcbiAgICBwcm9jZXNzVHlwZTogc3RyaW5nO1xuICAgIHRpbWVzdGFtcDogbnVtYmVyO1xuICB9IHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gRGVidWcgbG9nZ2luZyBmb3IgYWN0aXZlQWdlbnRQcm9jZXNzIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnYWN0aXZlQWdlbnRQcm9jZXNzIGNoYW5nZWQ6JywgYWN0aXZlQWdlbnRQcm9jZXNzKTtcbiAgfSwgW2FjdGl2ZUFnZW50UHJvY2Vzc10pO1xuXG4gIFxuICBjb25zdCB7IHVzZXIsIGlzTG9hZGVkIH0gPSB1c2VVc2VyKCk7XG4gIGNvbnN0IHsgaW5pdGlhbGl6ZVVzZXJTZXNzaW9uLCBhZGRUZXJtaW5hbEZlZWRiYWNrLCBzZXRTZXNzaW9uSWQgfSA9IHVzZUNoYXRTdG9yZSgpO1xuICBjb25zdCB7IGFjdGl2ZVNlc3Npb25JZCB9ID0gdXNlU2Vzc2lvblN0b3JlKCk7XG4gIGNvbnN0IHsgXG4gICAgbWVzc2FnZXMsIFxuICAgIGlzTG9hZGluZzogY2hhdExvYWRpbmcsIFxuICAgIHNlbmRNZXNzYWdlLCBcbiAgICBzZW5kTWVzc2FnZVdpdGhTdHJlYW1pbmcsXG4gICAgc2Vzc2lvbklkLCBcbiAgICBzdG9yZUNoYXRNZXNzYWdlLCBcbiAgICBhZGRUZXJtaW5hbEZlZWRiYWNrOiB1c2VUZXJtaW5hbEZlZWRiYWNrLFxuICAgIHN0cmVhbWluZ1RoaW5raW5nLFxuICAgIGlzU3RyZWFtaW5nVGhpbmtpbmcsXG4gICAgbWVzc2FnZUNvdW50LFxuICAgIGlzTmVhclNlc3Npb25MaW1pdCxcbiAgICBpc0F0U2Vzc2lvbkxpbWl0LFxuICAgIGNhbkFkZE1lc3NhZ2VzLFxuICAgIGdldFNlc3Npb25TdGF0dXMsXG4gICAgc3RhcnROZXdTZXNzaW9uXG4gIH0gPSB1c2VDaGF0KCk7XG4gIFxuICAvLyBRdWVyeSBmb3IgYWdlbnQgcHJvZ3Jlc3NcbiAgY29uc3QgYWdlbnRQcm9ncmVzcyA9IHVzZVF1ZXJ5KGFwaS5jaGF0LmdldEFnZW50UHJvZ3Jlc3MsIHsgc2Vzc2lvbklkIH0pO1xuICBjb25zdCB7XG4gICAgaXNDb25uZWN0ZWQ6IG1jcENvbm5lY3RlZCxcbiAgICBpc0xvYWRpbmc6IG1jcExvYWRpbmcsXG4gICAgZXJyb3I6IG1jcEVycm9yLFxuICAgIGF2YWlsYWJsZVRvb2xzLFxuICAgIHByb2Nlc3NOYXR1cmFsTGFuZ3VhZ2UsXG4gIH0gPSB1c2VNQ1AoKTtcbiAgXG4gIC8vIEFnZW50IGV4ZWN1dGlvbiBhbmQgbXV0YXRpb25zXG4gIGNvbnN0IHsgYWdlbnRzLCBhY3RpdmVBZ2VudElkLCBzZXRBY3RpdmVBZ2VudCwgZXhlY3V0ZUFnZW50VG9vbCB9ID0gdXNlQWdlbnRTdG9yZSgpO1xuICBjb25zdCBjcmVhdGVJbnN0cnVjdGlvbiA9IHVzZU11dGF0aW9uKGFwaS5maWxlcy5jcmVhdGVJbnN0cnVjdGlvbkZpbGUpO1xuICBjb25zdCBlbnN1cmVJbnN0cnVjdGlvbnNQcm9qZWN0ID0gdXNlTXV0YXRpb24oYXBpLnByb2plY3RzLmVuc3VyZUluc3RydWN0aW9uc1Byb2plY3QpO1xuICBjb25zdCB1cHNlcnRQb3N0ID0gdXNlTXV0YXRpb24oYXBpLnNvY2lhbFBvc3RzLnVwc2VydFBvc3QpO1xuICBjb25zdCBzY2hlZHVsZVBvc3QgPSB1c2VNdXRhdGlvbihhcGkuc29jaWFsUG9zdHMuc2NoZWR1bGVQb3N0KTtcbiAgY29uc3QgY3JlYXRlQ29udGVudENyZWF0aW9uRmlsZSA9IHVzZU11dGF0aW9uKGFwaS5maWxlcy5jcmVhdGVDb250ZW50Q3JlYXRpb25GaWxlKTtcbiAgY29uc3QgY3JlYXRlUHJvamVjdCA9IHVzZU11dGF0aW9uKGFwaS5wcm9qZWN0cy5jcmVhdGVQcm9qZWN0KTtcbiAgY29uc3QgY3JlYXRlRmlsZSA9IHVzZU11dGF0aW9uKGFwaS5maWxlcy5jcmVhdGVGaWxlKTtcbiAgY29uc3QgZ2V0QWxsVXNlckZpbGVzID0gdXNlUXVlcnkoYXBpLmZpbGVzLmdldEFsbFVzZXJGaWxlcywge30pO1xuICBjb25zdCB1cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCA9IHVzZU11dGF0aW9uKGFwaS5jaGF0LnVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50KTtcbiAgY29uc3QgZWRpdEZpbGVXaXRoQUkgPSB1c2VBY3Rpb24oYXBpLmVkaXRvckFjdGlvbnMuZWRpdEZpbGVXaXRoQUkpO1xuICBjb25zdCB1cGRhdGVGaWxlQ29udGVudCA9IHVzZU11dGF0aW9uKGFwaS5maWxlcy51cGRhdGVGaWxlQ29udGVudCk7XG4gIGNvbnN0IGFsbFBvc3RzID0gdXNlUXVlcnkoYXBpLnNvY2lhbFBvc3RzLmdldEFsbFBvc3RzLCB7fSk7XG4gIGNvbnN0IGFsbFByb2plY3RzID0gdXNlUXVlcnkoYXBpLnByb2plY3RzLmdldFByb2plY3RzLCB7fSk7XG4gIGNvbnN0IGluc3RydWN0aW9uQ29udGV4dCA9IHVzZUluc3RydWN0aW9uQ29udGV4dCgpO1xuICBjb25zdCB7IGlzTG9hZGluZzogaW5zdHJ1Y3Rpb25zTG9hZGluZyB9ID0gdXNlSW5zdHJ1Y3Rpb25zKCk7XG4gIGNvbnN0IHsgY3JlYXRlTmV3RmlsZSB9ID0gdXNlRWRpdG9yU3RvcmUoKTtcblxuICBjb25zdCBpc0xvYWRpbmcgPSBjaGF0TG9hZGluZyB8fCBtY3BMb2FkaW5nIHx8IGluc3RydWN0aW9uc0xvYWRpbmc7XG5cbiAgLy8gQXV0by1zY3JvbGwgdG8gYm90dG9tIHdoZW4gbmV3IG1lc3NhZ2VzIGFycml2ZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzY3JvbGxSZWYuY3VycmVudCkge1xuICAgICAgc2Nyb2xsUmVmLmN1cnJlbnQuc2Nyb2xsVG9wID0gc2Nyb2xsUmVmLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0O1xuICAgIH1cbiAgfSwgW21lc3NhZ2VzXSk7XG5cbiAgLy8gSW5pdGlhbGl6ZSB1c2VyIHNlc3Npb24gd2hlbiBjb21wb25lbnQgbW91bnRzIGFuZCB1c2VyIGlzIGxvYWRlZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0xvYWRlZCAmJiB1c2VyICYmICFzZXNzaW9uSWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwi8J+UhCBJbml0aWFsaXppbmcgdXNlciBzZXNzaW9uLi4uXCIsIHsgdXNlcklkOiB1c2VyLmlkIH0pO1xuICAgICAgaW5pdGlhbGl6ZVVzZXJTZXNzaW9uKHVzZXIuaWQpO1xuICAgIH1cbiAgfSwgW3VzZXIsIGlzTG9hZGVkLCBzZXNzaW9uSWQsIGluaXRpYWxpemVVc2VyU2Vzc2lvbl0pO1xuXG4gIC8vIFN5bmMgc2Vzc2lvbiBJRCBpZiBhY3RpdmUgc2Vzc2lvbiBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFjdGl2ZVNlc3Npb25JZCAmJiBhY3RpdmVTZXNzaW9uSWQgIT09IHNlc3Npb25JZCkge1xuICAgICAgY29uc29sZS5sb2coXCLwn5SEIFN5bmNpbmcgdG8gYWN0aXZlIHNlc3Npb246XCIsIGFjdGl2ZVNlc3Npb25JZCk7XG4gICAgICBzZXRTZXNzaW9uSWQoYWN0aXZlU2Vzc2lvbklkKTtcbiAgICB9XG4gIH0sIFthY3RpdmVTZXNzaW9uSWQsIHNlc3Npb25JZCwgc2V0U2Vzc2lvbklkXSk7XG5cbiAgLy8gQ2xlYXIgYWN0aXZlIGFnZW50IHByb2Nlc3MgYWZ0ZXIgdGltZW91dFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhY3RpdmVBZ2VudFByb2Nlc3MpIHtcbiAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uc3QgYWdlID0gRGF0ZS5ub3coKSAtIGFjdGl2ZUFnZW50UHJvY2Vzcy50aW1lc3RhbXA7XG4gICAgICAgIGlmIChhZ2UgPiA1ICogNjAgKiAxMDAwKSB7IC8vIDUgbWludXRlcyB0aW1lb3V0XG4gICAgICAgICAgc2V0QWN0aXZlQWdlbnRQcm9jZXNzKG51bGwpO1xuICAgICAgICB9XG4gICAgICB9LCA1ICogNjAgKiAxMDAwKTtcblxuICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB9XG4gIH0sIFthY3RpdmVBZ2VudFByb2Nlc3NdKTtcblxuICAvLyBESVNBQkxFRDogUHJvY2VzcyBtZXNzYWdlcyB3aXRoIG9wZXJhdGlvbnMgdG8gY3JlYXRlIFVJIGZpbGVzXG4gIC8vIFRoaXMgaXMgbm93IGhhbmRsZWQgYnkgdXNlRmlsZUxvYWQgaG9vayB3aGljaCBzeW5jcyBmcm9tIENvbnZleCB0byBsb2NhbCBzdG9yZVxuICAvKlxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghbWVzc2FnZXMpIHJldHVybjtcbiAgICBcbiAgICBjb25zb2xlLmxvZygn8J+UjSBQcm9jZXNzaW5nIG1lc3NhZ2VzIGZvciBvcGVyYXRpb25zOicsIHtcbiAgICAgIHRvdGFsTWVzc2FnZXM6IG1lc3NhZ2VzLmxlbmd0aCxcbiAgICAgIHJlY2VudE1lc3NhZ2VzQ291bnQ6IG1lc3NhZ2VzLnNsaWNlKC0xMCkubGVuZ3RoLFxuICAgICAgcHJvY2Vzc2VkQ291bnQ6IHByb2Nlc3NlZE9wZXJhdGlvbnMuY3VycmVudC5zaXplXG4gICAgfSk7XG4gICAgXG4gICAgLy8gTG9vayBmb3IgbWVzc2FnZXMgd2l0aCBvcGVyYXRpb25zIHRoYXQgbmVlZCBVSSBwcm9jZXNzaW5nXG4gICAgY29uc3QgcmVjZW50TWVzc2FnZXMgPSBtZXNzYWdlcy5zbGljZSgtMTApOyAvLyBDaGVjayBsYXN0IDEwIG1lc3NhZ2VzXG4gICAgXG4gICAgcmVjZW50TWVzc2FnZXMuZm9yRWFjaCgobWVzc2FnZTogYW55LCBpbmRleCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coYPCflI0gTWVzc2FnZSAke2luZGV4fTpgLCB7XG4gICAgICAgIGlkOiBtZXNzYWdlLl9pZCxcbiAgICAgICAgcm9sZTogbWVzc2FnZS5yb2xlLFxuICAgICAgICBoYXNPcGVyYXRpb246ICEhbWVzc2FnZS5vcGVyYXRpb24sXG4gICAgICAgIG9wZXJhdGlvblR5cGU6IG1lc3NhZ2Uub3BlcmF0aW9uPy50eXBlLFxuICAgICAgICBvcGVyYXRpb25EZXRhaWxzOiBtZXNzYWdlLm9wZXJhdGlvbj8uZGV0YWlscyxcbiAgICAgICAgY29udGVudFByZXZpZXc6IG1lc3NhZ2UuY29udGVudD8uc3Vic3RyaW5nKDAsIDEwMCksXG4gICAgICAgIGFscmVhZHlQcm9jZXNzZWQ6IHByb2Nlc3NlZE9wZXJhdGlvbnMuY3VycmVudC5oYXMobWVzc2FnZS5faWQpXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKG1lc3NhZ2Uub3BlcmF0aW9uPy50eXBlID09PSAnZmlsZV9jcmVhdGVkJyAmJiBtZXNzYWdlLl9pZCkge1xuICAgICAgICAvLyBTa2lwIGlmIGFscmVhZHkgcHJvY2Vzc2VkXG4gICAgICAgIGlmIChwcm9jZXNzZWRPcGVyYXRpb25zLmN1cnJlbnQuaGFzKG1lc3NhZ2UuX2lkKSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDij63vuI8gU2tpcHBpbmcgYWxyZWFkeSBwcm9jZXNzZWQgbWVzc2FnZTogJHttZXNzYWdlLl9pZH1gKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHsgZmlsZU5hbWUsIGZpbGVUeXBlLCBjb250ZW50LCBwbGF0Zm9ybURhdGEsIGFnZW50VHlwZSB9ID0gbWVzc2FnZS5vcGVyYXRpb24uZGV0YWlscztcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEZpbGUgY3JlYXRpb24gb3BlcmF0aW9uIGZvdW5kOicsIHtcbiAgICAgICAgICBmaWxlTmFtZSxcbiAgICAgICAgICBmaWxlVHlwZSxcbiAgICAgICAgICBhZ2VudFR5cGUsXG4gICAgICAgICAgaGFzQ29udGVudDogISFjb250ZW50LFxuICAgICAgICAgIGNvbnRlbnRMZW5ndGg6IGNvbnRlbnQ/Lmxlbmd0aCB8fCAwLFxuICAgICAgICAgIHdpbGxQcm9jZXNzOiBhZ2VudFR5cGUgPT09ICd0d2l0dGVyJyAmJiBjb250ZW50XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gT25seSBwcm9jZXNzIFR3aXR0ZXIgYWdlbnQgZmlsZXMgZm9yIFVJIGNyZWF0aW9uIHRoYXQgaGF2ZSBjb250ZW50XG4gICAgICAgIGlmIChhZ2VudFR5cGUgPT09ICd0d2l0dGVyJyAmJiBjb250ZW50KSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgUHJvY2Vzc2luZyBzb2NpYWwgZmlsZSBvcGVyYXRpb246Jywge1xuICAgICAgICAgICAgZmlsZU5hbWUsXG4gICAgICAgICAgICBmaWxlVHlwZSxcbiAgICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsXG4gICAgICAgICAgICBjb250ZW50TGVuZ3RoOiBjb250ZW50Py5sZW5ndGggfHwgMCxcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiB0eXBlb2YgY29udGVudCxcbiAgICAgICAgICAgIG1lc3NhZ2VJZDogbWVzc2FnZS5faWQsXG4gICAgICAgICAgICBwbGF0Zm9ybURhdGE6IHBsYXRmb3JtRGF0YSxcbiAgICAgICAgICAgIGFsbERldGFpbHM6IG1lc3NhZ2Uub3BlcmF0aW9uLmRldGFpbHNcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBNYXJrIGFzIHByb2Nlc3NlZCBGSVJTVCB0byBwcmV2ZW50IHJhY2UgY29uZGl0aW9uc1xuICAgICAgICAgIHByb2Nlc3NlZE9wZXJhdGlvbnMuY3VycmVudC5hZGQobWVzc2FnZS5faWQpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFBhcnNlIHRoZSBwbGF0Zm9ybSBkYXRhIHdpdGggZXJyb3IgaGFuZGxpbmdcbiAgICAgICAgICBsZXQgcGxhdGZvcm1EYXRhT2JqO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwbGF0Zm9ybURhdGFPYmogPSBwbGF0Zm9ybURhdGEgPyBKU09OLnBhcnNlKHBsYXRmb3JtRGF0YSkgOiB7fTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gRmFpbGVkIHRvIHBhcnNlIHBsYXRmb3JtIGRhdGEsIHVzaW5nIGRlZmF1bHRzOicsIGVycm9yKTtcbiAgICAgICAgICAgIHBsYXRmb3JtRGF0YU9iaiA9IHtcbiAgICAgICAgICAgICAgcmVwbHlTZXR0aW5nczogJ2ZvbGxvd2luZycsXG4gICAgICAgICAgICAgIHNjaGVkdWxlZERhdGU6ICcnLFxuICAgICAgICAgICAgICBzY2hlZHVsZWRUaW1lOiAnJyxcbiAgICAgICAgICAgICAgaXNUaHJlYWQ6IGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDcmVhdGUgdGhlIGNvbnRlbnQgZm9yIHRoZSBUd2l0dGVyIHBvc3QgZmlsZSBpbiB0aGUgZXhwZWN0ZWQgZm9ybWF0XG4gICAgICAgICAgY29uc3QgcG9zdENvbnRlbnQgPSBgIyAke2ZpbGVOYW1lLnJlcGxhY2UoL1xcLlteLy5dKyQvLCBcIlwiKX0gLSBYIChUd2l0dGVyKSBQb3N0XG5QbGF0Zm9ybTogWCAoVHdpdHRlcilcbkNyZWF0ZWQ6ICR7bmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKX1cblxuIyMgUG9zdCBDb250ZW50XG4ke2NvbnRlbnR9XG5cbiMjIFNldHRpbmdzXG4tIFJlcGx5IFNldHRpbmdzOiAke3BsYXRmb3JtRGF0YU9iai5yZXBseVNldHRpbmdzIHx8ICdmb2xsb3dpbmcnfVxuLSBTY2hlZHVsZTogJHtwbGF0Zm9ybURhdGFPYmouc2NoZWR1bGVkRGF0ZSAmJiBwbGF0Zm9ybURhdGFPYmouc2NoZWR1bGVkVGltZSA/IGAke3BsYXRmb3JtRGF0YU9iai5zY2hlZHVsZWREYXRlfSAke3BsYXRmb3JtRGF0YU9iai5zY2hlZHVsZWRUaW1lfWAgOiAnTm93J31cbi0gVGhyZWFkOiAke3BsYXRmb3JtRGF0YU9iai5pc1RocmVhZCA/ICdNdWx0aS10d2VldCBUaHJlYWQnIDogJ1NpbmdsZSBUd2VldCd9XG5cbiMjIE1lZGlhXG4tIEltYWdlczogW11cbi0gVmlkZW9zOiBbXVxuXG4jIyBBbmFseXRpY3Ncbi0gSW1wcmVzc2lvbnM6IDBcbi0gRW5nYWdlbWVudHM6IDBcbi0gTGlrZXM6IDBcbi0gU2hhcmVzOiAwYDtcblxuICAgICAgICAgIC8vIEdldCB0aGUgY3JlYXRlTmV3RmlsZSBmdW5jdGlvbiBmcm9tIHRoZSBzdG9yZSBhdCBleGVjdXRpb24gdGltZVxuICAgICAgICAgIGNvbnN0IHsgY3JlYXRlTmV3RmlsZSwgcHJvamVjdEZvbGRlcnMgfSA9IHVzZUVkaXRvclN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRmluZCB0aGUgQ29udGVudCBDcmVhdGlvbiBmb2xkZXIgSURcbiAgICAgICAgICBjb25zdCBjb250ZW50Q3JlYXRpb25Gb2xkZXIgPSBwcm9qZWN0Rm9sZGVycy5maW5kKGZvbGRlciA9PiBcbiAgICAgICAgICAgIGZvbGRlci5uYW1lID09PSAnQ29udGVudCBDcmVhdGlvbidcbiAgICAgICAgICApO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChjb250ZW50Q3JlYXRpb25Gb2xkZXIpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgZmlsZSBpbiB0aGUgQ29udGVudCBDcmVhdGlvbiBmb2xkZXJcbiAgICAgICAgICAgIGNyZWF0ZU5ld0ZpbGUoXG4gICAgICAgICAgICAgIGZpbGVOYW1lLFxuICAgICAgICAgICAgICAneCcsIC8vIFVzZSAneCcgdHlwZSBmb3IgVHdpdHRlciBmaWxlc1xuICAgICAgICAgICAgICAncHJvamVjdCcsXG4gICAgICAgICAgICAgIGNvbnRlbnRDcmVhdGlvbkZvbGRlci5pZCxcbiAgICAgICAgICAgICAgcG9zdENvbnRlbnRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgQ3JlYXRlZCBzb2NpYWwgZmlsZSBpbiBVSTonLCBmaWxlTmFtZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIENvbnRlbnQgQ3JlYXRpb24gZm9sZGVyIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDcmVhdGUgd2l0aG91dCBmb2xkZXIgSUQgaWYgZm9sZGVyIG5vdCBmb3VuZFxuICAgICAgICAgICAgY3JlYXRlTmV3RmlsZShcbiAgICAgICAgICAgICAgZmlsZU5hbWUsXG4gICAgICAgICAgICAgICd4JyxcbiAgICAgICAgICAgICAgJ3Byb2plY3QnLFxuICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIHBvc3RDb250ZW50XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9LCBbbWVzc2FnZXNdKTsgLy8gUmVtb3ZlZCBjcmVhdGVOZXdGaWxlIGZyb20gZGVwZW5kZW5jaWVzIHRvIHByZXZlbnQgcmUtcnVucyBvbiBwYW5lbCBzd2l0Y2hlc1xuICAqL1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBzdHJpcCBtYXJrZG93biBmb3JtYXR0aW5nXG4gIGNvbnN0IHN0cmlwTWFya2Rvd24gPSAodGV4dDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICByZXR1cm4gdGV4dFxuICAgICAgLnJlcGxhY2UoLyN7MSw2fVxccyovZywgJycpIC8vIFJlbW92ZSBoZWFkZXJzXG4gICAgICAucmVwbGFjZSgvXFwqXFwqKC4qPylcXCpcXCovZywgJyQxJykgLy8gUmVtb3ZlICoqYm9sZCoqXG4gICAgICAucmVwbGFjZSgvXFwqKC4qPylcXCovZywgJyQxJykgLy8gUmVtb3ZlICppdGFsaWMqXG4gICAgICAucmVwbGFjZSgvYChbXmBdKylgL2csICckMScpIC8vIFJlbW92ZSBgY29kZWBcbiAgICAgIC5yZXBsYWNlKC9eXFxzKlstKitdXFxzKy9nbSwgJ+KAoiAnKSAvLyBDb252ZXJ0IG1hcmtkb3duIGxpc3RzIHRvIGJ1bGxldCBwb2ludHNcbiAgICAgIC5yZXBsYWNlKC9eXFxzKlxcZCtcXC5cXHMrL2dtLCAn4oCiICcpIC8vIENvbnZlcnQgbnVtYmVyZWQgbGlzdHMgdG8gYnVsbGV0IHBvaW50c1xuICAgICAgLnJlcGxhY2UoL1xcblxccypcXG5cXHMqXFxuL2csICdcXG5cXG4nKSAvLyBSZWR1Y2UgbXVsdGlwbGUgYmxhbmsgbGluZXMgdG8gZG91YmxlXG4gICAgICAuc3BsaXQoJ1xcbicpIC8vIFNwbGl0IGludG8gbGluZXMgZm9yIHByb2Nlc3NpbmdcbiAgICAgIC5tYXAobGluZSA9PiB7XG4gICAgICAgIC8vIEFkZCBzcGFjaW5nIGFmdGVyIHNlY3Rpb24gaGVhZGVycyAobGluZXMgdGhhdCBkb24ndCBzdGFydCB3aXRoIGJ1bGxldCBwb2ludHMpXG4gICAgICAgIGlmIChsaW5lLnRyaW0oKSAmJiAhbGluZS5zdGFydHNXaXRoKCfigKInKSAmJiAhbGluZS5zdGFydHNXaXRoKCcgJykgJiYgbGluZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIGxpbmUgKyAnXFxuJzsgLy8gQWRkIGV4dHJhIG5ld2xpbmUgYWZ0ZXIgaGVhZGVyc1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaW5lO1xuICAgICAgfSlcbiAgICAgIC5qb2luKCdcXG4nKVxuICAgICAgLnJlcGxhY2UoL1xcbnszLH0vZywgJ1xcblxcbicpIC8vIENsZWFuIHVwIGV4Y2Vzc2l2ZSBuZXdsaW5lc1xuICAgICAgLnRyaW0oKTtcbiAgfTtcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZGV0ZWN0IE1DUC1yZWxhdGVkIHF1ZXJpZXMgKGV4Y2x1ZGluZyBkaXJlY3QgdG9vbCBjb21tYW5kcylcbiAgY29uc3QgaXNNQ1BRdWVyeSA9ICh0ZXh0OiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICAvLyBEb24ndCB0cmVhdCBkaXJlY3QgdG9vbCBjb21tYW5kcyBhcyBOTFAgcXVlcmllc1xuICAgIGlmICh0ZXh0LnN0YXJ0c1dpdGgoJy8nKSkgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIC8vIExvb2sgZm9yIGtleXdvcmRzIHRoYXQgc3VnZ2VzdCBNQ1AgYW5hbHlzaXMgd291bGQgYmUgaGVscGZ1bFxuICAgIGNvbnN0IG1jcEtleXdvcmRzID0gW1xuICAgICAgJ2FuYWx5emUnLCAnZXhhbWluZScsICdyZXZpZXcnLCAnZXhwbGFpbicsICd1bmRlcnN0YW5kJywgJ2FyY2hpdGVjdHVyZScsXG4gICAgICAnc3RydWN0dXJlJywgJ2NvZGUnLCAnY29tcG9uZW50JywgJ2Z1bmN0aW9uJywgJ2ltcGxlbWVudGF0aW9uJywgJ3BhdHRlcm4nLFxuICAgICAgJ2Jlc3QgcHJhY3RpY2UnLCAnaXNzdWUnLCAnYnVnJywgJ2Vycm9yJywgJ3BlcmZvcm1hbmNlJywgJ29wdGltaXphdGlvbicsXG4gICAgICAncmVmYWN0b3InLCAnaW1wcm92ZW1lbnQnLCAnZG9jdW1lbnRhdGlvbicsICdvdmVydmlldycsICdzdW1tYXJ5JyxcbiAgICAgICdob3cgZG9lcycsICd3aGF0IGlzJywgJ3doeSBpcycsICd3aGVyZSBpcycsICd3aGVuIGlzJywgJ3doaWNoJ1xuICAgIF07XG4gICAgXG4gICAgY29uc3QgbG93ZXJUZXh0ID0gdGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiBtY3BLZXl3b3Jkcy5zb21lKGtleXdvcmQgPT4gbG93ZXJUZXh0LmluY2x1ZGVzKGtleXdvcmQpKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVUb29sU2VsZWN0b3JDbG9zZSA9ICgpID0+IHtcbiAgICBzZXRNZXNzYWdlKFwiXCIpO1xuICAgIGlucHV0UmVmLmN1cnJlbnQ/LmZvY3VzKCk7XG4gIH07XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSBjb252ZXhNdXRhdGlvbnMgb2JqZWN0IGZvciBhZ2VudHNcbiAgY29uc3QgY3JlYXRlQ29udmV4TXV0YXRpb25zID0gKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBlbnN1cmVJbnN0cnVjdGlvbnNQcm9qZWN0LFxuICAgICAgY3JlYXRlSW5zdHJ1Y3Rpb25GaWxlOiBjcmVhdGVJbnN0cnVjdGlvbixcbiAgICAgIHVwc2VydFBvc3QsXG4gICAgICBzY2hlZHVsZVBvc3QsXG4gICAgICBjcmVhdGVDb250ZW50Q3JlYXRpb25GaWxlLFxuICAgICAgY3JlYXRlUHJvamVjdDogYXN5bmMgKHBhcmFtczogYW55KSA9PiB7XG4gICAgICAgIHJldHVybiBhd2FpdCBjcmVhdGVQcm9qZWN0KHtcbiAgICAgICAgICBuYW1lOiBwYXJhbXMubmFtZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogcGFyYW1zLmRlc2NyaXB0aW9uLFxuICAgICAgICAgIHN0YXR1czogcGFyYW1zLnN0YXR1cyB8fCAnYWN0aXZlJyxcbiAgICAgICAgICBidWRnZXQ6IHBhcmFtcy5idWRnZXQsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGdldFByb2plY3RzOiBhc3luYyAoKSA9PiB7XG4gICAgICAgIHJldHVybiBhbGxQcm9qZWN0cyB8fCBbXTtcbiAgICAgIH0sXG4gICAgICBnZXRBbGxGaWxlczogYXN5bmMgKCkgPT4ge1xuICAgICAgICByZXR1cm4gZ2V0QWxsVXNlckZpbGVzIHx8IFtdO1xuICAgICAgfSxcbiAgICAgIHN0b3JlQ2hhdE1lc3NhZ2U6IGFzeW5jIChwYXJhbXM6IGFueSkgPT4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgcm9sZTogcGFyYW1zLnJvbGUsXG4gICAgICAgICAgY29udGVudDogcGFyYW1zLmNvbnRlbnQsXG4gICAgICAgICAgc2Vzc2lvbklkOiBwYXJhbXMuc2Vzc2lvbklkIHx8IHNlc3Npb25JZCxcbiAgICAgICAgICBvcGVyYXRpb246IHBhcmFtcy5vcGVyYXRpb24sXG4gICAgICAgICAgcHJvY2Vzc0luZGljYXRvcjogcGFyYW1zLnByb2Nlc3NJbmRpY2F0b3IsXG4gICAgICAgICAgaW50ZXJhY3RpdmVDb21wb25lbnQ6IHBhcmFtcy5pbnRlcmFjdGl2ZUNvbXBvbmVudCxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgdXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQ6IGFzeW5jIChwYXJhbXM6IGFueSkgPT4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgdXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQoe1xuICAgICAgICAgIG1lc3NhZ2VJZDogcGFyYW1zLm1lc3NhZ2VJZCxcbiAgICAgICAgICBzdGF0dXM6IHBhcmFtcy5zdGF0dXMsXG4gICAgICAgICAgcmVzdWx0OiBwYXJhbXMucmVzdWx0LFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBjcmVhdGVGaWxlOiBhc3luYyAocGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGNyZWF0ZUZpbGUoe1xuICAgICAgICAgIG5hbWU6IHBhcmFtcy5uYW1lLFxuICAgICAgICAgIHR5cGU6IHBhcmFtcy50eXBlLFxuICAgICAgICAgIHByb2plY3RJZDogcGFyYW1zLnByb2plY3RJZCwgLy8gVGhpcyBzaG91bGQgYmUgYW4gSWQ8XCJwcm9qZWN0c1wiPiBmcm9tIHRoZSBhY3R1YWwgcHJvamVjdCBjcmVhdGlvblxuICAgICAgICAgIGNvbnRlbnQ6IHBhcmFtcy5jb250ZW50LFxuICAgICAgICAgIGV4dGVuc2lvbjogcGFyYW1zLmV4dGVuc2lvbixcbiAgICAgICAgICBwbGF0Zm9ybTogcGFyYW1zLnBsYXRmb3JtLFxuICAgICAgICAgIHNpemU6IHBhcmFtcy5zaXplLFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBnZXRBbGxQb3N0czogYXN5bmMgKCkgPT4ge1xuICAgICAgICByZXR1cm4gYWxsUG9zdHMgfHwgW107XG4gICAgICB9LFxuICAgICAgZWRpdEZpbGVXaXRoQUk6IGFzeW5jIChwYXJhbXM6IGFueSkgPT4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgZWRpdEZpbGVXaXRoQUkoe1xuICAgICAgICAgIGZpbGVOYW1lOiBwYXJhbXMuZmlsZU5hbWUsXG4gICAgICAgICAgb3JpZ2luYWxDb250ZW50OiBwYXJhbXMub3JpZ2luYWxDb250ZW50LFxuICAgICAgICAgIGVkaXRJbnN0cnVjdGlvbnM6IHBhcmFtcy5lZGl0SW5zdHJ1Y3Rpb25zLFxuICAgICAgICAgIGZpbGVUeXBlOiBwYXJhbXMuZmlsZVR5cGUsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHVwZGF0ZUZpbGVDb250ZW50OiBhc3luYyAocGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHVwZGF0ZUZpbGVDb250ZW50KHtcbiAgICAgICAgICBmaWxlSWQ6IHBhcmFtcy5maWxlSWQsXG4gICAgICAgICAgY29udGVudDogcGFyYW1zLmNvbnRlbnQsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIC8vIENhbXBhaWduLXJlbGF0ZWQgZnVuY3Rpb25zIChzaW1wbGlmaWVkIGZvciBub3cpXG4gICAgICBjcmVhdGVDYW1wYWlnbjogYXN5bmMgKHBhcmFtczogYW55KSA9PiB7XG4gICAgICAgIC8vIEZvciBub3csIGp1c3QgcmV0dXJuIGEgc2ltcGxlIGNhbXBhaWduIElEIHNpbmNlIHRoZSBBUEkgaXNuJ3QgcmVhZHlcbiAgICAgICAgY29uc29sZS5sb2coJ0NhbXBhaWduIGNyZWF0aW9uIHJlcXVlc3RlZDonLCBwYXJhbXMpO1xuICAgICAgICByZXR1cm4geyBfaWQ6IGBjYW1wYWlnbl8ke0RhdGUubm93KCl9YCB9O1xuICAgICAgfSxcbiAgICAgIGNyZWF0ZVBvc3RzQmF0Y2g6IGFzeW5jIChwYXJhbXM6IGFueSkgPT4ge1xuICAgICAgICAvLyBGb3Igbm93LCBqdXN0IGxvZyB0aGUgYmF0Y2ggY3JlYXRpb25cbiAgICAgICAgY29uc29sZS5sb2coJ0JhdGNoIHBvc3RzIGNyZWF0aW9uIHJlcXVlc3RlZDonLCBwYXJhbXMpO1xuICAgICAgICByZXR1cm4gcGFyYW1zLnBvc3RzLm1hcCgoXzogYW55LCBpbmRleDogbnVtYmVyKSA9PiBgcG9zdF8ke0RhdGUubm93KCl9XyR7aW5kZXh9YCk7XG4gICAgICB9LFxuICAgIH07XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKGU6IFJlYWN0LkZvcm1FdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBcbiAgICAvLyBDaGVjayBzZXNzaW9uIGxpbWl0IGJlZm9yZSBwcm9jZXNzaW5nXG4gICAgaWYgKCFjYW5BZGRNZXNzYWdlcygpKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJDYW5ub3Qgc2VuZCBtZXNzYWdlOiBTZXNzaW9uIGxpbWl0IHJlYWNoZWRcIik7XG4gICAgICAvLyBBZGQgYSB0ZXJtaW5hbCBmZWVkYmFjayBtZXNzYWdlIGFib3V0IHRoZSBsaW1pdFxuICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgIHJvbGU6IFwidGVybWluYWxcIixcbiAgICAgICAgY29udGVudDogYFske25ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCdlbi1VUycsIHsgXG4gICAgICAgICAgaG91cjEyOiBmYWxzZSwgXG4gICAgICAgICAgaG91cjogJzItZGlnaXQnLCBcbiAgICAgICAgICBtaW51dGU6ICcyLWRpZ2l0JywgXG4gICAgICAgICAgc2Vjb25kOiAnMi1kaWdpdCcgXG4gICAgICAgIH0pfV0g8J+aqCBNZXNzYWdlIG5vdCBzZW50OiBTZXNzaW9uIGxpbWl0IHJlYWNoZWQgKDUwMCBtZXNzYWdlcylcblBsZWFzZSBzdGFydCBhIG5ldyBzZXNzaW9uIHRvIGNvbnRpbnVlIGNoYXR0aW5nLmAsXG4gICAgICAgIHNlc3Npb25JZCxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBpZiAobWVzc2FnZS50cmltKCkgJiYgIWlzTG9hZGluZykge1xuICAgICAgY29uc3QgbWVzc2FnZUNvbnRlbnQgPSBtZXNzYWdlLnRyaW0oKTtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5KsIFVzZXIgc3VibWl0dGluZyBtZXNzYWdlOicsIG1lc3NhZ2VDb250ZW50KTtcbiAgICAgIHNldE1lc3NhZ2UoXCJcIik7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYW4gYWdlbnQgY29tbWFuZCB3aGVuIGFuIGFnZW50IGlzIGFjdGl2ZVxuICAgICAgLy8gQlVUIG9ubHkgcm91dGUgdG8gZWRpdG9yIGFnZW50IGlmIGl0IGhhcyBhIHNlbGVjdGVkIGZpbGUgYW5kIGlzIHdhaXRpbmcgZm9yIGVkaXQgaW5zdHJ1Y3Rpb25zXG4gICAgICBpZiAoYWN0aXZlQWdlbnRJZCAmJiAhbWVzc2FnZUNvbnRlbnQuc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn6SWIENoZWNraW5nIGlmIHNob3VsZCByb3V0ZSB0byBhY3RpdmUgYWdlbnQ6JywgYWN0aXZlQWdlbnRJZCk7XG4gICAgICAgIFxuICAgICAgICBsZXQgc2hvdWxkUm91dGVUb0FnZW50ID0gdHJ1ZTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNwZWNpYWwgaGFuZGxpbmcgZm9yIGVkaXRvciBhZ2VudCAtIG9ubHkgcm91dGUgaWYgZmlsZSBpcyBzZWxlY3RlZCBhbmQgd2FpdGluZyBmb3IgZWRpdCBpbnN0cnVjdGlvbnNcbiAgICAgICAgaWYgKGFjdGl2ZUFnZW50SWQgPT09ICdlZGl0b3InKSB7XG4gICAgICAgICAgY29uc3QgeyBFZGl0b3JBZ2VudCB9ID0gYXdhaXQgaW1wb3J0KCdAL3N0b3JlL2FnZW50cy9lZGl0b3JBZ2VudCcpO1xuICAgICAgICAgIGNvbnN0IGhhc1NlbGVjdGVkRmlsZSA9IEVkaXRvckFnZW50LnNlbGVjdGVkRmlsZSAhPT0gbnVsbDtcbiAgICAgICAgICBjb25zdCBpc1dhaXRpbmdGb3JFZGl0SW5zdHJ1Y3Rpb25zID0gRWRpdG9yQWdlbnQuY3VycmVudFN0ZXAgPT09ICdlZGl0LXJlcXVlc3QnO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEVkaXRvciBhZ2VudCBzdGF0ZSBjaGVjazonLCB7XG4gICAgICAgICAgICBoYXNTZWxlY3RlZEZpbGUsXG4gICAgICAgICAgICBpc1dhaXRpbmdGb3JFZGl0SW5zdHJ1Y3Rpb25zLFxuICAgICAgICAgICAgc2VsZWN0ZWRGaWxlOiBFZGl0b3JBZ2VudC5zZWxlY3RlZEZpbGUsXG4gICAgICAgICAgICBjdXJyZW50U3RlcDogRWRpdG9yQWdlbnQuY3VycmVudFN0ZXBcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBJZiBubyBmaWxlIHNlbGVjdGVkLCBhZ2VudCBzaG91bGQgc2hvdyBmaWxlIHNlbGVjdG9yXG4gICAgICAgICAgLy8gSWYgZmlsZSBzZWxlY3RlZCBhbmQgd2FpdGluZyBmb3IgaW5zdHJ1Y3Rpb25zLCBhZ2VudCBzaG91bGQgcHJvY2VzcyB0aGUgZWRpdFxuICAgICAgICAgIC8vIEFsd2F5cyByb3V0ZSB0byBlZGl0b3IgYWdlbnQgd2hlbiBpdCdzIGFjdGl2ZVxuICAgICAgICAgIHNob3VsZFJvdXRlVG9BZ2VudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChzaG91bGRSb3V0ZVRvQWdlbnQpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+kliBSb3V0aW5nIHRvIGFjdGl2ZSBhZ2VudDonLCBhY3RpdmVBZ2VudElkKTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYPCfpJYgRXhlY3V0aW5nIGFnZW50ICR7YWN0aXZlQWdlbnRJZH0gd2l0aCBtZXNzYWdlOiAke21lc3NhZ2VDb250ZW50fWApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDcmVhdGUgY29udmV4IG11dGF0aW9ucyBmb3IgdGhlIGFnZW50XG4gICAgICAgICAgICBjb25zdCBjb252ZXhNdXRhdGlvbnMgPSBjcmVhdGVDb252ZXhNdXRhdGlvbnMoKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgbGFzdCBtZXNzYWdlIHdhcyBhbiBhZ2VudCB3YWl0aW5nIGZvciBpbnB1dFxuICAgICAgICAgIGNvbnN0IGxhc3RNZXNzYWdlID0gbWVzc2FnZXMgJiYgbWVzc2FnZXMubGVuZ3RoID4gMCA/IG1lc3NhZ2VzW21lc3NhZ2VzLmxlbmd0aCAtIDFdIDogbnVsbDtcbiAgICAgICAgICBjb25zdCBpc0ZvbGxvd1VwVG9XYWl0aW5nQWdlbnQgPSBsYXN0TWVzc2FnZSAmJiBcbiAgICAgICAgICAgIGxhc3RNZXNzYWdlLnJvbGUgPT09ICdhc3Npc3RhbnQnICYmIFxuICAgICAgICAgICAgbGFzdE1lc3NhZ2UucHJvY2Vzc0luZGljYXRvcj8udHlwZSA9PT0gJ3dhaXRpbmcnO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnNvbGUubG9nKCdQcmUtZXhlY3V0aW9uIHN0YXRlOicsIHtcbiAgICAgICAgICAgIGxhc3RNZXNzYWdlOiBsYXN0TWVzc2FnZSA/IHtcbiAgICAgICAgICAgICAgcm9sZTogbGFzdE1lc3NhZ2Uucm9sZSxcbiAgICAgICAgICAgICAgcHJvY2Vzc0luZGljYXRvcjogbGFzdE1lc3NhZ2UucHJvY2Vzc0luZGljYXRvcixcbiAgICAgICAgICAgICAgY29udGVudFByZXZpZXc6IGxhc3RNZXNzYWdlLmNvbnRlbnQuc3Vic3RyaW5nKDAsIDUwKVxuICAgICAgICAgICAgfSA6IG51bGwsXG4gICAgICAgICAgICBpc0ZvbGxvd1VwVG9XYWl0aW5nQWdlbnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBGaW5kIHRoZSBhY3RpdmUgYWdlbnQgYW5kIGl0cyBkZWZhdWx0IHRvb2xcbiAgICAgICAgICBjb25zdCBhY3RpdmVBZ2VudCA9IGFnZW50cy5maW5kKGFnZW50ID0+IGFnZW50LmlkID09PSBhY3RpdmVBZ2VudElkKTtcbiAgICAgICAgICBpZiAoYWN0aXZlQWdlbnQgJiYgYWN0aXZlQWdlbnQudG9vbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdFRvb2wgPSBhY3RpdmVBZ2VudC50b29sc1swXTsgLy8gVXNlIHRoZSBmaXJzdCB0b29sIGFzIGRlZmF1bHRcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8g4pyFIEZJWCAjMTogQWx3YXlzIHN0b3JlIHRoZSB1c2VyIG1lc3NhZ2UgZmlyc3QsIHJlZ2FyZGxlc3Mgb2YgYWdlbnQgcmVzdWx0XG4gICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2VDb250ZW50LFxuICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IGlzRm9sbG93VXBUb1dhaXRpbmdBZ2VudCA/IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnY29udGludWluZycsXG4gICAgICAgICAgICAgICAgcHJvY2Vzc1R5cGU6ICdmaWxlLWNyZWF0aW9uJyxcbiAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnXG4gICAgICAgICAgICAgIH0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRXhlY3V0ZSB0aGUgYWdlbnQgdG9vbFxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZUFnZW50VG9vbChcbiAgICAgICAgICAgICAgYWN0aXZlQWdlbnRJZCxcbiAgICAgICAgICAgICAgZGVmYXVsdFRvb2wuaWQsXG4gICAgICAgICAgICAgIG1lc3NhZ2VDb250ZW50LFxuICAgICAgICAgICAgICBjb252ZXhNdXRhdGlvbnMsXG4gICAgICAgICAgICAgIHNlc3Npb25JZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gSGFuZGxlIGVtcHR5IHJlc3VsdHMgZnJvbSBpbnRlcmFjdGl2ZSBjb21wb25lbnRzXG4gICAgICAgICAgICBpZiAoIXJlc3VsdCB8fCByZXN1bHQudHJpbSgpID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBZ2VudCByZXR1cm5lZCBlbXB0eSByZXN1bHQgLSB0aGlzIGlzIGV4cGVjdGVkIGZvciBpbnRlcmFjdGl2ZSBjb21wb25lbnRzJyk7XG4gICAgICAgICAgICAgIC8vIFVzZXIgbWVzc2FnZSB3YXMgYWxyZWFkeSBzdG9yZWQgYWJvdmUgLSBpbnRlcmFjdGl2ZSBjb21wb25lbnQgaGFuZGxlcyB0aGUgVUlcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDaGVjayBpZiByZXN1bHQgaW5kaWNhdGVzIHdhaXRpbmcgZm9yIHVzZXIgaW5wdXQgKHByb2plY3Qgc2VsZWN0aW9uKVxuICAgICAgICAgICAgY29uc3QgaXNXYWl0aW5nRm9ySW5wdXQgPSByZXN1bHQuaW5jbHVkZXMoXCLwn46vIFNlbGVjdCBhIHByb2plY3Q6XCIpIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmluY2x1ZGVzKFwi8J+SoSAqKk5leHQgbWVzc2FnZToqKiBKdXN0IHR5cGUgeW91ciBzZWxlY3Rpb24hXCIpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuaW5jbHVkZXMoXCJXaGljaCBQcm9qZWN0P1wiKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmluY2x1ZGVzKFwiQXZhaWxhYmxlIFByb2plY3RzOlwiKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcmVzdWx0IGluZGljYXRlcyBzdWNjZXNzZnVsIGNvbXBsZXRpb25cbiAgICAgICAgICAgIGNvbnN0IGlzQ29tcGxldGlvblJlc3BvbnNlID0gcmVzdWx0LmluY2x1ZGVzKFwi4pyFICoqRmlsZSBDcmVhdGVkIFN1Y2Nlc3NmdWxseSEqKlwiKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmluY2x1ZGVzKFwiRmlsZSBDcmVhdGVkIFN1Y2Nlc3NmdWxseSFcIikgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5pbmNsdWRlcyhcIioqTmV4dCBTdGVwczoqKlwiKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmluY2x1ZGVzKFwiTmV4dCBTdGVwczpcIik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBZ2VudCBFeGVjdXRpb24gRGVidWc6Jywge1xuICAgICAgICAgICAgICBhY3RpdmVBZ2VudElkLFxuICAgICAgICAgICAgICByZXN1bHQ6IHJlc3VsdC5zdWJzdHJpbmcoMCwgMjAwKSArICcuLi4nLFxuICAgICAgICAgICAgICBpc1dhaXRpbmdGb3JJbnB1dCxcbiAgICAgICAgICAgICAgaXNDb21wbGV0aW9uUmVzcG9uc2UsXG4gICAgICAgICAgICAgIGlzRm9sbG93VXBUb1dhaXRpbmdBZ2VudCxcbiAgICAgICAgICAgICAgaGFzU2VsZWN0UHJvamVjdDogcmVzdWx0LmluY2x1ZGVzKFwi8J+OryBTZWxlY3QgYSBwcm9qZWN0OlwiKSxcbiAgICAgICAgICAgICAgaGFzTmV4dE1lc3NhZ2U6IHJlc3VsdC5pbmNsdWRlcyhcIvCfkqEgKipOZXh0IG1lc3NhZ2U6KiogSnVzdCB0eXBlIHlvdXIgc2VsZWN0aW9uIVwiKSxcbiAgICAgICAgICAgICAgaGFzV2hpY2hQcm9qZWN0OiByZXN1bHQuaW5jbHVkZXMoXCJXaGljaCBQcm9qZWN0P1wiKSxcbiAgICAgICAgICAgICAgaGFzQXZhaWxhYmxlUHJvamVjdHM6IHJlc3VsdC5pbmNsdWRlcyhcIkF2YWlsYWJsZSBQcm9qZWN0czpcIiksXG4gICAgICAgICAgICAgIGhhc0ZpbGVDcmVhdGVkOiByZXN1bHQuaW5jbHVkZXMoXCLinIUgKipGaWxlIENyZWF0ZWQgU3VjY2Vzc2Z1bGx5ISoqXCIpLFxuICAgICAgICAgICAgICBoYXNOZXh0U3RlcHM6IHJlc3VsdC5pbmNsdWRlcyhcIioqTmV4dCBTdGVwczoqKlwiKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChpc1dhaXRpbmdGb3JJbnB1dCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU2V0dGluZyBhY3RpdmUgYWdlbnQgcHJvY2VzcyBmb3IgZmlsZSBjcmVhdGlvbicpO1xuICAgICAgICAgICAgICBzZXRBY3RpdmVBZ2VudFByb2Nlc3Moe1xuICAgICAgICAgICAgICAgIGFnZW50SWQ6IGFjdGl2ZUFnZW50SWQsXG4gICAgICAgICAgICAgICAgcHJvY2Vzc1R5cGU6ICdmaWxlLWNyZWF0aW9uJyxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ2xlYXJpbmcgYWN0aXZlIGFnZW50IHByb2Nlc3MgLSBhZ2VudCBjb21wbGV0ZWQnKTtcbiAgICAgICAgICAgICAgLy8gQ2xlYXIgYWN0aXZlIHByb2Nlc3Mgd2hlbiBhZ2VudCBjb21wbGV0ZXNcbiAgICAgICAgICAgICAgc2V0QWN0aXZlQWdlbnRQcm9jZXNzKG51bGwpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gRm9yIGVkaXRvciBhZ2VudCwga2VlcCBpdCBhY3RpdmUgZHVyaW5nIHRoZSBmaWxlIHNlbGVjdGlvbiB3b3JrZmxvd1xuICAgICAgICAgICAgICAvLyBPbmx5IGNsZWFyIGl0IHdoZW4gdGhlIGVkaXRpbmcgaXMgYWN0dWFsbHkgY29tcGxldGVcbiAgICAgICAgICAgICAgaWYgKGFjdGl2ZUFnZW50SWQgPT09ICdlZGl0b3InKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZWRpdG9yIGFnZW50IGlzIHdhaXRpbmcgZm9yIGVkaXQgaW5zdHJ1Y3Rpb25zIGFmdGVyIGZpbGUgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgY29uc3QgeyBFZGl0b3JBZ2VudCB9ID0gYXdhaXQgaW1wb3J0KCdAL3N0b3JlL2FnZW50cy9lZGl0b3JBZ2VudCcpO1xuICAgICAgICAgICAgICAgIGlmIChFZGl0b3JBZ2VudC5jdXJyZW50U3RlcCA9PT0gJ2VkaXQtcmVxdWVzdCcgJiYgRWRpdG9yQWdlbnQuc2VsZWN0ZWRGaWxlKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnS2VlcGluZyBlZGl0b3IgYWdlbnQgYWN0aXZlIC0gd2FpdGluZyBmb3IgZWRpdCBpbnN0cnVjdGlvbnMnKTtcbiAgICAgICAgICAgICAgICAgIC8vIEtlZXAgdGhlIGFnZW50IGFjdGl2ZSB0byByZWNlaXZlIGVkaXRpbmcgaW5zdHJ1Y3Rpb25zXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChFZGl0b3JBZ2VudC5jdXJyZW50U3RlcCA9PT0gJ2ZpbGUtc2VsZWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0tlZXBpbmcgZWRpdG9yIGFnZW50IGFjdGl2ZSAtIHdhaXRpbmcgZm9yIGZpbGUgc2VsZWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgICAvLyBLZWVwIHRoZSBhZ2VudCBhY3RpdmUgZHVyaW5nIGZpbGUgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDbGVhcmluZyBlZGl0b3IgYWdlbnQgLSBlZGl0aW5nIGNvbXBsZXRlJyk7XG4gICAgICAgICAgICAgICAgICBzZXRBY3RpdmVBZ2VudChudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgYWN0aXZlIGFnZW50IElEIGlmIHRoZSByZXN1bHQgaW5kaWNhdGVzIGludGVyYWN0aXZlIGNvbXBvbmVudHMgYXJlIHNob3duXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBwcmV2ZW50cyBzdWJzZXF1ZW50IHRleHQgaW5wdXQgZnJvbSBiZWluZyByb3V0ZWQgYmFjayB0byB0aGUgYWdlbnRcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmluY2x1ZGVzKFwiU2VsZWN0IGEgZmlsZSB0byBlZGl0XCIpIHx8IFxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuaW5jbHVkZXMoXCJmaWxlX3NlbGVjdG9yXCIpIHx8XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5pbmNsdWRlcyhcIkNob29zZSBhIGZpbGUgZnJvbSB0aGUgc2VsZWN0b3JcIikpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDbGVhcmluZyBhY3RpdmUgYWdlbnQgSUQgLSBpbnRlcmFjdGl2ZSBjb21wb25lbnQgc2hvd24nKTtcbiAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZUFnZW50KG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTdG9yZSBhZ2VudCByZXN1bHQgd2l0aCBwcm9jZXNzIGluZGljYXRvcnMgKHVzZXIgbWVzc2FnZSBhbHJlYWR5IHN0b3JlZCBhYm92ZSlcbiAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgICAgICBjb250ZW50OiBg8J+kliAqKiR7YWN0aXZlQWdlbnQubmFtZX0gQWdlbnQgUmVzdWx0OioqXFxuXFxuJHtyZXN1bHR9YCxcbiAgICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgICAgICBwcm9jZXNzSW5kaWNhdG9yOiAoaXNXYWl0aW5nRm9ySW5wdXQgfHwgaXNDb21wbGV0aW9uUmVzcG9uc2UgfHwgaXNGb2xsb3dVcFRvV2FpdGluZ0FnZW50KSA/IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnd2FpdGluZycsXG4gICAgICAgICAgICAgICAgcHJvY2Vzc1R5cGU6ICdmaWxlLWNyZWF0aW9uJyxcbiAgICAgICAgICAgICAgICBjb2xvcjogJ2dyZWVuJ1xuICAgICAgICAgICAgICB9IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIERlYnVnIGxvZyBmb3Igd2hhdCBwcm9jZXNzSW5kaWNhdG9yIHdhcyBzZXRcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdG9yZUNoYXRNZXNzYWdlIERlYnVnOicsIHtcbiAgICAgICAgICAgICAgbWVzc2FnZVR5cGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICB3aWxsSGF2ZVByb2Nlc3NJbmRpY2F0b3I6ICEhKGlzV2FpdGluZ0ZvcklucHV0IHx8IGlzQ29tcGxldGlvblJlc3BvbnNlIHx8IGlzRm9sbG93VXBUb1dhaXRpbmdBZ2VudCksXG4gICAgICAgICAgICAgIGlzV2FpdGluZ0ZvcklucHV0LFxuICAgICAgICAgICAgICBpc0NvbXBsZXRpb25SZXNwb25zZSxcbiAgICAgICAgICAgICAgaXNGb2xsb3dVcFRvV2FpdGluZ0FnZW50LFxuICAgICAgICAgICAgICByZXN1bHRTbmlwcGV0OiByZXN1bHQuc3Vic3RyaW5nKDAsIDEwMClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FnZW50IGV4ZWN1dGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU3RvcmUgdGhlIHVzZXIgbWVzc2FnZSBhbmQgZXJyb3JcbiAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICAgICAgY29udGVudDogbWVzc2FnZUNvbnRlbnQsXG4gICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgICAgY29udGVudDogYOKdjCBBZ2VudCBleGVjdXRpb24gZmFpbGVkOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWAsXG4gICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIH0gLy8gQ2xvc2UgdGhlIGlmIChzaG91bGRSb3V0ZVRvQWdlbnQpIGJsb2NrXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIHRoaXMgbG9va3MgbGlrZSBhIG5hdHVyYWwgbGFuZ3VhZ2UgTUNQIHF1ZXJ5XG4gICAgICBpZiAobWNwQ29ubmVjdGVkICYmIGlzTUNQUXVlcnkobWVzc2FnZUNvbnRlbnQpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgbWNwUmVzcG9uc2UgPSBhd2FpdCBwcm9jZXNzTmF0dXJhbExhbmd1YWdlKG1lc3NhZ2VDb250ZW50KTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAobWNwUmVzcG9uc2Uuc3VjY2VzcyAmJiBtY3BSZXNwb25zZS5jb250ZW50ICYmIG1jcFJlc3BvbnNlLmNvbnRlbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gRXh0cmFjdCB0aGUgYWN0dWFsIHRleHQgY29udGVudCBmcm9tIHRoZSBNQ1AgcmVzcG9uc2VcbiAgICAgICAgICAgIGNvbnN0IHRleHRDb250ZW50ID0gbWNwUmVzcG9uc2UuY29udGVudFswXS50ZXh0O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTdHJpcCBtYXJrZG93biBmb3JtYXR0aW5nIGFuZCBjb252ZXJ0IHRvIHBsYWluIHRleHRcbiAgICAgICAgICAgIGNvbnN0IHBsYWluVGV4dCA9IHN0cmlwTWFya2Rvd24odGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTZW5kIHRoZSBNQ1AgcmVzcG9uc2Ugd2l0aCBjbGVhbiB0ZXh0IGNvbnRlbnRcbiAgICAgICAgICAgIGF3YWl0IHNlbmRNZXNzYWdlKGDwn6SWIE1DUCBBbmFseXNpczpcXG5cXG4ke3BsYWluVGV4dH1gKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgc2VuZE1lc3NhZ2UobWVzc2FnZUNvbnRlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdNQ1AgRXJyb3I6JywgZXJyb3IpO1xuICAgICAgICAgIC8vIEZhbGwgYmFjayB0byByZWd1bGFyIGNoYXRcbiAgICAgICAgICBhd2FpdCBzZW5kTWVzc2FnZShtZXNzYWdlQ29udGVudCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJlZ3VsYXIgY2hhdCBtZXNzYWdlIC0gYWRkIGluc3RydWN0aW9uIGNvbnRleHQgaWYgYXZhaWxhYmxlXG4gICAgICAgIGxldCBjb250ZXh0dWFsTWVzc2FnZSA9IG1lc3NhZ2VDb250ZW50O1xuICAgICAgICBpZiAoaW5zdHJ1Y3Rpb25Db250ZXh0KSB7XG4gICAgICAgICAgY29udGV4dHVhbE1lc3NhZ2UgPSBgJHtpbnN0cnVjdGlvbkNvbnRleHR9XFxuXFxuLS0tXFxuXFxuJHttZXNzYWdlQ29udGVudH1gO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBBbHdheXMgdXNlIHN0cmVhbWluZyB0aGlua2luZyBmb3IgYWxsIG1lc3NhZ2VzICh0aGlua2luZyBlbmFibGVkIGJ5IGRlZmF1bHQpXG4gICAgICAgIGF3YWl0IHNlbmRNZXNzYWdlV2l0aFN0cmVhbWluZyhjb250ZXh0dWFsTWVzc2FnZSwgbWVzc2FnZUNvbnRlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGU6IFJlYWN0LktleWJvYXJkRXZlbnQpID0+IHtcbiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGhhbmRsZVN1Ym1pdChlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlSW5wdXRDaGFuZ2UgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgIHNldE1lc3NhZ2UodmFsdWUpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgZmxleCBmbGV4LWNvbCBtaW4taC0wXCI+XG4gICAgICA8ZGl2IFxuICAgICAgICByZWY9e3Njcm9sbFJlZn0gXG4gICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gYmctWyMwZTBlMGVdIHAtMiBwYi04IG1pbi1oLTAgc2Nyb2xsYmFyLWhpZGRlblwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tb25vIHRleHQteHMgc3BhY2UteS0yIG1pbi1oLWZ1bGxcIj5cbiAgICAgICAgICB7LyogVGVybWluYWwgV2VsY29tZSBUZXh0ICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bI2NjY2NjY10gc3BhY2UteS0xIG1iLTRcIj5cbiAgICAgICAgICAgIDxkaXY+RUFDIEZpbmFuY2lhbCBEYXNoYm9hcmQgLSBBSSBBc3Npc3RhbnQ8L2Rpdj5cbiAgICAgICAgICAgIHttY3BFcnJvciAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bI2Y0ODc3MV0gdGV4dC14c1wiPk1DUCBFcnJvcjoge21jcEVycm9yfTwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bIzg1ODU4NV0gbXQtMlwiPkFJIEFzc2lzdGFudCByZWFkeSBmb3IgRUFDIHByb2plY3QgcXVlc3Rpb25zLjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjODU4NTg1XSB0ZXh0LXhzXCI+U2Vzc2lvbjoge3Nlc3Npb25JZC5zbGljZSgtOCl9PC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBTZXNzaW9uIFN0YXR1cyBhbmQgTGltaXRzICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjODU4NTg1XSB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgIE1lc3NhZ2VzOiB7bWVzc2FnZUNvdW50fS81MDBcbiAgICAgICAgICAgICAge2lzTmVhclNlc3Npb25MaW1pdCAmJiAoXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bI2Y0ODc3MV0gbWwtMlwiPuKaoO+4jyBBcHByb2FjaGluZyBsaW1pdDwvc3Bhbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge2lzQXRTZXNzaW9uTGltaXQgJiYgKFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWyNmNDg3NzFdIG1sLTJcIj7wn5qoIFNlc3Npb24gZnVsbDwvc3Bhbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBNZXNzYWdlcyAqL31cbiAgICAgICAgICB7bWVzc2FnZXM/Lm1hcCgobXNnLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgLy8gVXNlIHRoZSBzdG9yZWQgcHJvY2Vzc0luZGljYXRvciBmb3IgdmlzdWFsIGNvbnRpbnVpdHlcbiAgICAgICAgICAgIGNvbnN0IGhhc1Byb2Nlc3NJbmRpY2F0b3IgPSBtc2cucHJvY2Vzc0luZGljYXRvcjtcbiAgICAgICAgICAgIGNvbnN0IGlzVXNlclByb2Nlc3NNZXNzYWdlID0gaGFzUHJvY2Vzc0luZGljYXRvciAmJiBtc2cucm9sZSA9PT0gJ3VzZXInICYmIGhhc1Byb2Nlc3NJbmRpY2F0b3IudHlwZSA9PT0gJ2NvbnRpbnVpbmcnO1xuICAgICAgICAgICAgY29uc3QgaXNBZ2VudFByb2Nlc3NNZXNzYWdlID0gaGFzUHJvY2Vzc0luZGljYXRvciAmJiBtc2cucm9sZSA9PT0gJ2Fzc2lzdGFudCcgJiYgaGFzUHJvY2Vzc0luZGljYXRvci50eXBlID09PSAnd2FpdGluZyc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgICAge21zZy5yb2xlID09PSAndXNlcicgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B0ZXh0LVsjMDA3YWNjXSAke2lzVXNlclByb2Nlc3NNZXNzYWdlID8gJ2JvcmRlci1sLTQgYm9yZGVyLVsjMDA3OGQ0XSBwbC0zJyA6ICcnfWB9PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjMDA3YWNjXVwiPiQgdXNlcjo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTEgdGV4dC1bI2NjY2NjY11cIj57bXNnLmNvbnRlbnR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICB7aXNVc2VyUHJvY2Vzc01lc3NhZ2UgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdGV4dC1bIzAwNzhkNF0gbXQtMSBvcGFjaXR5LTgwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICDihrMgQ29udGludWluZyB7bXNnLnByb2Nlc3NJbmRpY2F0b3I/LnByb2Nlc3NUeXBlPy5yZXBsYWNlKCctJywgJyAnKX0uLi5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAge21zZy5yb2xlID09PSAnYXNzaXN0YW50JyAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHRleHQtWyM0ZWM5YjBdICR7aXNBZ2VudFByb2Nlc3NNZXNzYWdlID8gJ2JvcmRlci1sLTQgYm9yZGVyLVsjNGVjOWIwXSBwbC0zJyA6ICcnfWB9PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjNGVjOWIwXVwiPiQgYXNzaXN0YW50Ojwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPE1hcmtkb3duUmVuZGVyZXIgY29udGVudD17bXNnLmNvbnRlbnR9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgey8qIEludGVyYWN0aXZlIENvbXBvbmVudCAqL31cbiAgICAgICAgICAgICAgICAgICAge21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudCAmJiAobXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnN0YXR1cyA9PT0gJ3BlbmRpbmcnIHx8IG1zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5zdGF0dXMgPT09ICdjb21wbGV0ZWQnKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIG1sLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQudHlwZSA9PT0gJ3Byb2plY3Rfc2VsZWN0b3InICYmICFtc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuZGF0YT8ucHJvamVjdE5hbWVJbnB1dCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxQcm9qZWN0U2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlRGV0YWlscz17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LmRhdGE/LmZpbGVEZXRhaWxzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuc3RhdHVzID09PSAnY29tcGxldGVkJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFByb2plY3Q9e21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5zdGF0dXMgPT09ICdjb21wbGV0ZWQnID8gbXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnJlc3VsdD8uc2VsZWN0ZWRQcm9qZWN0IDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUHJvamVjdFNlbGVjdGVkPXthc3luYyAocHJvamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBjb21wb25lbnQgc3RhdHVzIHRvIGNvbXBsZXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBtc2cuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiB7IHNlbGVjdGVkUHJvamVjdDogcHJvamVjdCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb250aW51ZSB0aGUgZmlsZSBjcmVhdGlvbiBwcm9jZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZleE11dGF0aW9ucyA9IGNyZWF0ZUNvbnZleE11dGF0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlQ3JlYXRvckFnZW50ID0gYWdlbnRzLmZpbmQoYSA9PiBhLmlkID09PSAnZmlsZS1jcmVhdG9yJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlQ3JlYXRvckFnZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2ltdWxhdGUgdXNlciBpbnB1dCBmb3IgcHJvamVjdCBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9qZWN0U2VsZWN0aW9uSW5wdXQgPSBgQWRkIGl0IHRvICR7cHJvamVjdC5uYW1lfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VuZCB1c2VyIG1lc3NhZ2Ugc2hvd2luZyB0aGUgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBgU2VsZWN0ZWQgcHJvamVjdDogJHtwcm9qZWN0Lm5hbWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0luZGljYXRvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY29udGludWluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NUeXBlOiAncHJvamVjdF9zZWxlY3Rpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIGFnZW50IHdpdGggdGhlIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5qAIEV4ZWN1dGluZyBhZ2VudCB3aXRoIHByb2plY3Qgc2VsZWN0aW9uOicsIHByb2plY3RTZWxlY3Rpb25JbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKcgQWdlbnQgZGV0YWlsczonLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZ2VudElkOiBmaWxlQ3JlYXRvckFnZW50LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbElkOiBmaWxlQ3JlYXRvckFnZW50LnRvb2xzWzBdLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IGZpbGVDcmVhdG9yQWdlbnQudG9vbHNbMF0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZleE11dGF0aW9uc0F2YWlsYWJsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVGaWxlOiAhIWNvbnZleE11dGF0aW9ucy5jcmVhdGVGaWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRQcm9qZWN0czogISFjb252ZXhNdXRhdGlvbnMuZ2V0UHJvamVjdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlQ2hhdE1lc3NhZ2U6ICEhY29udmV4TXV0YXRpb25zLnN0b3JlQ2hhdE1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZUFnZW50VG9vbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVDcmVhdG9yQWdlbnQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlQ3JlYXRvckFnZW50LnRvb2xzWzBdLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdFNlbGVjdGlvbklucHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udmV4TXV0YXRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TpSBBZ2VudCBleGVjdXRpb24gcmVzdWx0OicsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk48gUmVzdWx0IGxlbmd0aDonLCByZXN1bHQ/Lmxlbmd0aCB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TiyBSZXN1bHQgY29udGVudCBwcmV2aWV3OicsIHJlc3VsdD8uc3Vic3RyaW5nKDAsIDEwMCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFJlc3VsdCB0eXBlOicsIHR5cGVvZiByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46vIElzIHJlc3VsdCB0cnV0aHk6JywgISFyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46vIElzIHJlc3VsdCBlbXB0eSBzdHJpbmc6JywgcmVzdWx0ID09PSBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+OryBSZXN1bHQgdHJpbW1lZCBsZW5ndGg6JywgcmVzdWx0Py50cmltKCk/Lmxlbmd0aCB8fCAwKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgc3RvcmUgbm9uLWVtcHR5IHJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC50cmltKCkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgU3RvcmluZyBzdWNjZXNzIG1lc3NhZ2UgdG8gY2hhdC4uLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4sgQ3VycmVudCBzZXNzaW9uIElEOicsIHNlc3Npb25JZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TiyBNZXNzYWdlIGNvbnRlbnQgbGVuZ3RoOicsIHJlc3VsdC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZSB0aGUgYWdlbnQncyByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RvcmVkTWVzc2FnZSA9IGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0luZGljYXRvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd3YWl0aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVHlwZTogJ2ZpbGVfY3JlYXRpb25fY29tcGxldGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnZ3JlZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgU3VjY2VzcyBtZXNzYWdlIHN0b3JlZCB0byBjaGF0IScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4sgU3RvcmVkIG1lc3NhZ2UgcmVzdWx0OicsIHN0b3JlZE1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXYWl0IGEgbW9tZW50IGFuZCBjaGVjayBpZiB0aGUgbWVzc2FnZSBhcHBlYXJzIGluIHRoZSBtZXNzYWdlcyBhcnJheVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIE1lc3NhZ2VzIGFmdGVyIHN1Y2Nlc3Mgc3RvcmFnZTonLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxNZXNzYWdlczogbWVzc2FnZXM/Lmxlbmd0aCB8fCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNZXNzYWdlOiBtZXNzYWdlcz8uW21lc3NhZ2VzLmxlbmd0aCAtIDFdPy5jb250ZW50Py5zdWJzdHJpbmcoMCwgNTApICsgJy4uLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE1lc3NhZ2VSb2xlOiBtZXNzYWdlcz8uW21lc3NhZ2VzLmxlbmd0aCAtIDFdPy5yb2xlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gQWdlbnQgcmV0dXJuZWQgZW1wdHkgcmVzdWx0IGFmdGVyIHByb2plY3Qgc2VsZWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBoYW5kbGluZyBwcm9qZWN0IHNlbGVjdGlvbjonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICfinYwgRXJyb3IgcHJvY2Vzc2luZyBwcm9qZWN0IHNlbGVjdGlvbi4gUGxlYXNlIHRyeSBhZ2Fpbi4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBtc2cuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NhbmNlbGxlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAn4p2MIEZpbGUgY3JlYXRpb24gY2FuY2VsbGVkLiBZb3UgY2FuIHN0YXJ0IGEgbmV3IGZpbGUgY3JlYXRpb24gcmVxdWVzdCBhbnl0aW1lLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2FuY2VsbGluZyBwcm9qZWN0IHNlbGVjdGlvbjonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtYi0yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQudHlwZSA9PT0gJ2ZpbGVfc2VsZWN0b3InICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEZpbGVTZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuc3RhdHVzID09PSAnY29tcGxldGVkJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEZpbGU9e21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5zdGF0dXMgPT09ICdjb21wbGV0ZWQnID8gbXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnJlc3VsdD8uc2VsZWN0ZWRGaWxlIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRmlsZVNlbGVjdGVkPXthc3luYyAoZmlsZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKUgW0ZpbGVTZWxlY3Rvcl0gRmlsZSBzZWxlY3RlZCBjYWxsYmFjayB0cmlnZ2VyZWQ6JywgZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgdGhlIGZpbGUgbmFtZSBmb3IgZGF0YWJhc2Ugc3RvcmFnZSBidXQgcGFzcyBjb21wbGV0ZSBvYmplY3QgdG8gYWdlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZVBhdGggPSBmaWxlLm5hbWUgfHwgZmlsZS5wYXRoIHx8IGZpbGUuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpSBbRmlsZVNlbGVjdG9yXSBVcGRhdGluZyBpbnRlcmFjdGl2ZSBjb21wb25lbnQgc3RhdHVzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgY29tcG9uZW50IHN0YXR1cyB0byBjb21wbGV0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogbXNnLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogeyBzZWxlY3RlZEZpbGU6IGZpbGVQYXRoIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SlIFtGaWxlU2VsZWN0b3JdIENvbnRpbnVpbmcgdGhlIGZpbGUgc2VsZWN0aW9uIHByb2Nlc3MnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udGludWUgdGhlIGZpbGUgc2VsZWN0aW9uIHByb2Nlc3MgYmFzZWQgb24gdGhlIGFjdGl2ZSBhZ2VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb252ZXhNdXRhdGlvbnMgPSBjcmVhdGVDb252ZXhNdXRhdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlQWdlbnQgPSBhZ2VudHMuZmluZChhID0+IGEuaWQgPT09IGFjdGl2ZUFnZW50SWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZUFnZW50ICYmIGFjdGl2ZUFnZW50SWQgPT09ICdkaXJlY3RvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpSBbRmlsZVNlbGVjdG9yXSBGb3VuZCBkaXJlY3RvciBhZ2VudCwgcHJvY2Vzc2luZyBjYW1wYWlnbiBpbnN0cnVjdGlvbnMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZW5kIHVzZXIgbWVzc2FnZSBzaG93aW5nIHRoZSBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGBTZWxlY3RlZCBmaWxlOiAke2ZpbGUubmFtZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzSW5kaWNhdG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb250aW51aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1R5cGU6ICdmaWxlX3NlbGVjdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKUgW0ZpbGVTZWxlY3Rvcl0gRXhlY3V0aW5nIGRpcmVjdG9yIGFnZW50IHdpdGggZmlsZSBzZWxlY3Rpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZUFnZW50VG9vbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlQWdlbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlQWdlbnQudG9vbHNbMF0uY29tbWFuZCwgLy8gVXNlIHRoZSBjb21tYW5kIHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgU2VsZWN0ZWQgZmlsZTogJHtmaWxlLm5hbWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udmV4TXV0YXRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SlIFtGaWxlU2VsZWN0b3JdIERpcmVjdG9yIGFnZW50IGV4ZWN1dGlvbiByZXN1bHQ6JywgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgdGhlIGRpcmVjdG9yIGFnZW50J3MgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0b29sX2V4ZWN1dGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEZpbGU6IGZpbGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnZW50VHlwZTogJ2RpcmVjdG9yJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbRmlsZVNlbGVjdG9yXSBFcnJvciBleGVjdXRpbmcgZGlyZWN0b3IgYWdlbnQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhY3RpdmVBZ2VudCAmJiBhY3RpdmVBZ2VudElkID09PSAnZWRpdG9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SlIFtGaWxlU2VsZWN0b3JdIEZvdW5kIGVkaXRvciBhZ2VudCwgcHJvY2Vzc2luZyBmaWxlIGVkaXQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZW5kIHVzZXIgbWVzc2FnZSBzaG93aW5nIHRoZSBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGBTZWxlY3RlZCBmaWxlOiAke2ZpbGUubmFtZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzSW5kaWNhdG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb250aW51aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1R5cGU6ICdmaWxlX3NlbGVjdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKUgW0ZpbGVTZWxlY3Rvcl0gQ2FsbGluZyBoYW5kbGVGaWxlU2VsZWN0ZWQgbWV0aG9kJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsbCB0aGUgZWRpdG9yIGFnZW50J3MgaGFuZGxlRmlsZVNlbGVjdGVkIG1ldGhvZCB3aXRoIGNvbXBsZXRlIGZpbGUgb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZWRpdG9yQWdlbnQ6IGFjdHVhbEVkaXRvckFnZW50IH0gPSBhd2FpdCBpbXBvcnQoJ0Avc3RvcmUvYWdlbnRzL2VkaXRvckFnZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpSBbRmlsZVNlbGVjdG9yXSBJbXBvcnRlZCBhY3R1YWwgZWRpdG9yIGFnZW50IGluc3RhbmNlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpSBbRmlsZVNlbGVjdG9yXSBBZ2VudCBoYXMgaGFuZGxlRmlsZVNlbGVjdGVkOicsICdoYW5kbGVGaWxlU2VsZWN0ZWQnIGluIGFjdHVhbEVkaXRvckFnZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCdoYW5kbGVGaWxlU2VsZWN0ZWQnIGluIGFjdHVhbEVkaXRvckFnZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGFjdHVhbEVkaXRvckFnZW50LmhhbmRsZUZpbGVTZWxlY3RlZChzZXNzaW9uSWQsIGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpSBbRmlsZVNlbGVjdG9yXSBoYW5kbGVGaWxlU2VsZWN0ZWQgY29tcGxldGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFtGaWxlU2VsZWN0b3JdIGhhbmRsZUZpbGVTZWxlY3RlZCBtZXRob2Qgbm90IGZvdW5kIG9uIGVkaXRvciBhZ2VudCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW0ZpbGVTZWxlY3Rvcl0gRXJyb3IgY2FsbGluZyBoYW5kbGVGaWxlU2VsZWN0ZWQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SlIFtGaWxlU2VsZWN0b3JdIFN0b3JpbmcgbWVzc2FnZSB3aXRoIGVkaXQgaW5zdHJ1Y3Rpb25zIGlucHV0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2hvdyBlZGl0IGluc3RydWN0aW9ucyBpbnB1dCBjb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogYOKchSAqKkZpbGUgU2VsZWN0ZWQ6ICR7ZmlsZS5uYW1lfSoqXG5cbvCfk4QgKipUaGUgZmlsZSBoYXMgYmVlbiBvcGVuZWQgaW4gdGhlIGVkaXRvciB0YWIuKipgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3RpdmVDb21wb25lbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2VkaXRfaW5zdHJ1Y3Rpb25zX2lucHV0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZTogZmlsZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnRGVzY3JpYmUgd2hhdCBjaGFuZ2VzIHlvdSB3YW50IHRvIG1ha2UgdG8gdGhpcyBmaWxlLi4uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGFtcGxlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0FkZCBhIHNlY3Rpb24gYWJvdXQgYmVzdCBwcmFjdGljZXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1VwZGF0ZSB0aGUgcHJpY2luZyBpbmZvcm1hdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFrZSB0aGUgdG9uZSBtb3JlIHByb2Zlc3Npb25hbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRml4IGFueSBncmFtbWFyIG9yIHNwZWxsaW5nIGVycm9ycycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQWRkIGV4YW1wbGVzIGFuZCBjb2RlIHNuaXBwZXRzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBoYW5kbGluZyBmaWxlIHNlbGVjdGlvbjonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbD17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogbXNnLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjYW5jZWxsZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJ+KdjCBGaWxlIGVkaXRpbmcgY2FuY2VsbGVkLiBZb3UgY2FuIHN0YXJ0IGEgbmV3IGVkaXQgcmVxdWVzdCBhbnl0aW1lLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNhbmNlbGxpbmcgZmlsZSBzZWxlY3Rpb246JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWItMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB7bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnR5cGUgPT09ICdlZGl0X2luc3RydWN0aW9uc19pbnB1dCcgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RWRpdEluc3RydWN0aW9uc0lucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5kYXRhPy5wbGFjZWhvbGRlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZT17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LmRhdGE/LmZpbGVOYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4YW1wbGVzPXttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuZGF0YT8uZXhhbXBsZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25JbnN0cnVjdGlvbnNTdWJtaXR0ZWQ9e2FzeW5jIChpbnN0cnVjdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgY29tcG9uZW50IHN0YXR1cyB0byBjb21wbGV0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogbXNnLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogeyBpbnN0cnVjdGlvbnMgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VuZCB1c2VyIG1lc3NhZ2Ugc2hvd2luZyB0aGUgZWRpdCBpbnN0cnVjdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGluc3RydWN0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzSW5kaWNhdG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY29udGludWluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVHlwZTogJ2VkaXRfaW5zdHJ1Y3Rpb25zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udGludWUgdGhlIGVkaXRpbmcgcHJvY2VzcyB1c2luZyBhZ2VudCByZWdpc3RyeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb252ZXhNdXRhdGlvbnMgPSBjcmVhdGVDb252ZXhNdXRhdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZUFnZW50VG9vbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZWRpdG9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZWRpdC1maWxlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udmV4TXV0YXRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwcm9jZXNzaW5nIGVkaXQgaW5zdHJ1Y3Rpb25zOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogYOKdjCAqKkVycm9yIHByb2Nlc3NpbmcgZWRpdCBpbnN0cnVjdGlvbnMqKlxcblxcbiR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvciBvY2N1cnJlZCd9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbD17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogbXNnLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjYW5jZWxsZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJ+KdjCBFZGl0IGluc3RydWN0aW9ucyBjYW5jZWxsZWQuIFlvdSBjYW4gc3RhcnQgYSBuZXcgZWRpdCByZXF1ZXN0IGFueXRpbWUuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2FuY2VsbGluZyBlZGl0IGluc3RydWN0aW9uczonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtYi0yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQudHlwZSA9PT0gJ3Byb2plY3Rfc2VsZWN0b3InICYmIG1zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5kYXRhPy5wcm9qZWN0TmFtZUlucHV0ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFByb2plY3ROYW1lSW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LmRhdGE/LnBsYWNlaG9sZGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LmRhdGE/LmRlZmF1bHRWYWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblByb2plY3ROYW1lU3VibWl0dGVkPXthc3luYyAocHJvamVjdE5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgY29tcG9uZW50IHN0YXR1cyB0byBjb21wbGV0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogbXNnLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogeyBwcm9qZWN0TmFtZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb250aW51ZSB0aGUgcHJvamVjdCBjcmVhdGlvbiBwcm9jZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZleE11dGF0aW9ucyA9IGNyZWF0ZUNvbnZleE11dGF0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9qZWN0Q3JlYXRvckFnZW50ID0gYWdlbnRzLmZpbmQoYSA9PiBhLmlkID09PSAncHJvamVjdC1jcmVhdG9yJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9qZWN0Q3JlYXRvckFnZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VuZCB1c2VyIG1lc3NhZ2Ugc2hvd2luZyB0aGUgcHJvamVjdCBuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBgUHJvamVjdCBuYW1lOiAke3Byb2plY3ROYW1lfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzSW5kaWNhdG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb250aW51aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1R5cGU6ICdwcm9qZWN0X25hbWVfaW5wdXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIGFnZW50IHdpdGggdGhlIHByb2plY3QgbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5qAIEV4ZWN1dGluZyBhZ2VudCB3aXRoIHByb2plY3QgbmFtZTonLCBwcm9qZWN0TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZUFnZW50VG9vbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3RDcmVhdG9yQWdlbnQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0Q3JlYXRvckFnZW50LnRvb2xzWzBdLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXhNdXRhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OlIEFnZW50IGV4ZWN1dGlvbiByZXN1bHQ6JywgcmVzdWx0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgc3RvcmUgbm9uLWVtcHR5IHJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC50cmltKCkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgU3RvcmluZyBwcm9qZWN0IGNyZWF0aW9uIHN1Y2Nlc3MgbWVzc2FnZS4uLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZSB0aGUgYWdlbnQncyByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzSW5kaWNhdG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhaXRpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NUeXBlOiAncHJvamVjdF9jcmVhdGlvbl9jb21wbGV0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdncmVlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBQcm9qZWN0IGNyZWF0aW9uIHN1Y2Nlc3MgbWVzc2FnZSBzdG9yZWQhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gQWdlbnQgcmV0dXJuZWQgZW1wdHkgcmVzdWx0IGFmdGVyIHByb2plY3QgbmFtZSBpbnB1dCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaGFuZGxpbmcgcHJvamVjdCBuYW1lIGlucHV0OicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJ+KdjCBFcnJvciBwcm9jZXNzaW5nIHByb2plY3QgbmFtZS4gUGxlYXNlIHRyeSBhZ2Fpbi4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBtc2cuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NhbmNlbGxlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAn4p2MIFByb2plY3QgY3JlYXRpb24gY2FuY2VsbGVkLiBZb3UgY2FuIHN0YXJ0IGEgbmV3IHByb2plY3QgY3JlYXRpb24gcmVxdWVzdCBhbnl0aW1lLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2FuY2VsbGluZyBwcm9qZWN0IG5hbWUgaW5wdXQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWItMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgeyhtc2cuaW50ZXJhY3RpdmVDb21wb25lbnQudHlwZSBhcyBzdHJpbmcpID09PSAnZmlsZV90eXBlX3NlbGVjdG9yJyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGaWxlVHlwZVNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25GaWxlVHlwZVNlbGVjdGVkPXthc3luYyAoZmlsZVR5cGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIHNlcmlhbGl6YWJsZSB2ZXJzaW9uIG9mIHRoZSBmaWxlVHlwZSB3aXRob3V0IFJlYWN0IGNvbXBvbmVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXphYmxlRmlsZVR5cGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZmlsZVR5cGUudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRlbnNpb246IGZpbGVUeXBlLmV4dGVuc2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZmlsZVR5cGUuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhdGZvcm06IGZpbGVUeXBlLnBsYXRmb3JtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZTogZmlsZVR5cGUuYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBjb21wb25lbnQgc3RhdHVzIHRvIGNvbXBsZXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBtc2cuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiB7IGZpbGVUeXBlOiBzZXJpYWxpemFibGVGaWxlVHlwZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb250aW51ZSB0aGUgZmlsZSBjcmVhdGlvbiBwcm9jZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZleE11dGF0aW9ucyA9IGNyZWF0ZUNvbnZleE11dGF0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlQ3JlYXRvckFnZW50ID0gYWdlbnRzLmZpbmQoYSA9PiBhLmlkID09PSAnZmlsZS1jcmVhdG9yJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlQ3JlYXRvckFnZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VuZCB1c2VyIG1lc3NhZ2Ugc2hvd2luZyB0aGUgZmlsZSB0eXBlIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogYFNlbGVjdGVkIGZpbGUgdHlwZTogJHtmaWxlVHlwZS5kZXNjcmlwdGlvbn1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzSW5kaWNhdG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb250aW51aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1R5cGU6ICdmaWxlX3R5cGVfc2VsZWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIHRoZSBhZ2VudCB3aXRoIHRoZSBmaWxlIHR5cGUgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfmoAgRXhlY3V0aW5nIGZpbGUgY3JlYXRvciBhZ2VudCB3aXRoIGZpbGUgdHlwZTonLCBmaWxlVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZUFnZW50VG9vbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVDcmVhdG9yQWdlbnQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlQ3JlYXRvckFnZW50LnRvb2xzWzBdLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYEZpbGUgdHlwZTogJHtmaWxlVHlwZS50eXBlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXhNdXRhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OlIEZpbGUgY3JlYXRvciBhZ2VudCByZXN1bHQ6JywgcmVzdWx0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgc3RvcmUgbm9uLWVtcHR5IHJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC50cmltKCkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgU3RvcmluZyBmaWxlIHR5cGUgY29udGludWF0aW9uIG1lc3NhZ2UuLi4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgdGhlIGFnZW50J3MgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0luZGljYXRvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd3YWl0aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVHlwZTogJ2ZpbGVfdHlwZV9jb250aW51ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdncmVlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBGaWxlIHR5cGUgY29udGludWF0aW9uIG1lc3NhZ2Ugc3RvcmVkIScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIEFnZW50IHJldHVybmVkIGVtcHR5IHJlc3VsdCBhZnRlciBmaWxlIHR5cGUgc2VsZWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBoYW5kbGluZyBmaWxlIHR5cGUgc2VsZWN0aW9uOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJ+KdjCBFcnJvciBwcm9jZXNzaW5nIGZpbGUgdHlwZSBzZWxlY3Rpb24uIFBsZWFzZSB0cnkgYWdhaW4uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbD17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogbXNnLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjYW5jZWxsZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJ+KdjCBGaWxlIGNyZWF0aW9uIGNhbmNlbGxlZC4gWW91IGNhbiBzdGFydCBhIG5ldyBmaWxlIGNyZWF0aW9uIHJlcXVlc3QgYW55dGltZS4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjYW5jZWxsaW5nIGZpbGUgdHlwZSBzZWxlY3Rpb246JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5zdGF0dXMgPT09ICdjb21wbGV0ZWQnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRmlsZVR5cGU9e21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5zdGF0dXMgPT09ICdjb21wbGV0ZWQnID8gbXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnJlc3VsdD8uZmlsZVR5cGUgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWItMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgeyhtc2cuaW50ZXJhY3RpdmVDb21wb25lbnQudHlwZSBhcyBzdHJpbmcpID09PSAnZmlsZV9uYW1lX2lucHV0JyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGaWxlTmFtZUlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5kYXRhPy5wbGFjZWhvbGRlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5kYXRhPy5kZWZhdWx0VmFsdWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVR5cGU9e21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5kYXRhPy5maWxlVHlwZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkZpbGVOYW1lU3VibWl0dGVkPXthc3luYyAoZmlsZU5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgY29tcG9uZW50IHN0YXR1cyB0byBjb21wbGV0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogbXNnLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogeyBmaWxlTmFtZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb250aW51ZSB0aGUgZmlsZSBjcmVhdGlvbiBwcm9jZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZleE11dGF0aW9ucyA9IGNyZWF0ZUNvbnZleE11dGF0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlQ3JlYXRvckFnZW50ID0gYWdlbnRzLmZpbmQoYSA9PiBhLmlkID09PSAnZmlsZS1jcmVhdG9yJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlQ3JlYXRvckFnZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSB0aGUgYWdlbnQgd2l0aCB0aGUgZmlsZSBuYW1lIEZJUlNUXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfmoAgRXhlY3V0aW5nIGZpbGUgY3JlYXRvciBhZ2VudCB3aXRoIGZpbGUgbmFtZTonLCBmaWxlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZUFnZW50VG9vbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVDcmVhdG9yQWdlbnQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlQ3JlYXRvckFnZW50LnRvb2xzWzBdLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXhNdXRhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVEhFTiBzZW5kIHVzZXIgbWVzc2FnZSBzaG93aW5nIHRoZSBmaWxlIG5hbWUgKGFmdGVyIGFnZW50IHByb2Nlc3NlcyBpdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGZpbGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzSW5kaWNhdG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb250aW51aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1R5cGU6ICdmaWxlX25hbWVfaW5wdXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TpSBGaWxlIGNyZWF0b3IgYWdlbnQgcmVzdWx0OicsIHJlc3VsdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHN0b3JlIG5vbi1lbXB0eSByZXN1bHRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQudHJpbSgpICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFN0b3JpbmcgZmlsZSBjcmVhdGlvbiBjb250aW51YXRpb24gbWVzc2FnZS4uLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZSB0aGUgYWdlbnQncyByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzSW5kaWNhdG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhaXRpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NUeXBlOiAnZmlsZV9jcmVhdGlvbl9jb250aW51ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdncmVlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBGaWxlIGNyZWF0aW9uIGNvbnRpbnVhdGlvbiBtZXNzYWdlIHN0b3JlZCEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBBZ2VudCByZXR1cm5lZCBlbXB0eSByZXN1bHQgYWZ0ZXIgZmlsZSBuYW1lIGlucHV0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBoYW5kbGluZyBmaWxlIG5hbWUgaW5wdXQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAn4p2MIEVycm9yIHByb2Nlc3NpbmcgZmlsZSBuYW1lLiBQbGVhc2UgdHJ5IGFnYWluLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DYW5jZWw9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IG1zZy5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY2FuY2VsbGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICfinYwgRmlsZSBjcmVhdGlvbiBjYW5jZWxsZWQuIFlvdSBjYW4gc3RhcnQgYSBuZXcgZmlsZSBjcmVhdGlvbiByZXF1ZXN0IGFueXRpbWUuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2FuY2VsbGluZyBmaWxlIG5hbWUgaW5wdXQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWItMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAge2lzQWdlbnRQcm9jZXNzTWVzc2FnZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSBtdC0xIG9wYWNpdHktODBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3Igc3VjY2Vzc2Z1bCBmaWxlIGNyZWF0aW9uIHdpdGggc3BlY2lmaWMgZmlsZSBpbmZvXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtc2cuY29udGVudC5pbmNsdWRlcyhcIlRoZSBjb21wcmVoZW5zaXZlIGluc3RydWN0aW9uIGRvY3VtZW50IGhhcyBiZWVuIGNyZWF0ZWQgYW5kIHNhdmVkIHRvIHlvdXIgZmlsZXMuXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBmaWxlbmFtZSBmcm9tIHRoZSBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZU1hdGNoID0gbXNnLmNvbnRlbnQubWF0Y2goL/Cfk4QgXFwqXFwqRmlsZTpcXCpcXCogYChbXmBdKylgLyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBmaWxlTWF0Y2ggPyBmaWxlTWF0Y2hbMV0gOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgcHJvamVjdEZpbGVzIH0gPSB1c2VFZGl0b3JTdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IHByb2plY3RGaWxlcy5maW5kKGYgPT4gZi5uYW1lID09PSBmaWxlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VFZGl0b3JTdG9yZS5nZXRTdGF0ZSgpLm9wZW5UYWIoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LVsjMDA3YWNjXSBob3Zlcjp0ZXh0LVsjNGVjOWIwXSBob3Zlcjp1bmRlcmxpbmUgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4oazIENsaWNrIGhlcmUgdG8gdmlldyB5b3VyIGZpbGUuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBDTU8gcmVwb3J0IGdlbmVyYXRpb24gc3VjY2Vzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobXNnLmNvbnRlbnQuaW5jbHVkZXMoXCJDTU9fUkVQT1JUX0dFTkVSQVRFRF9TVUNDRVNTOlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVNYXRjaCA9IG1zZy5jb250ZW50Lm1hdGNoKC9DTU9fUkVQT1JUX0dFTkVSQVRFRF9TVUNDRVNTOlxccyooLispJC8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVOYW1lID0gZmlsZU1hdGNoID8gZmlsZU1hdGNoWzFdLnRyaW0oKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBwcm9qZWN0RmlsZXMgfSA9IHVzZUVkaXRvclN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gcHJvamVjdEZpbGVzLmZpbmQoZiA9PiBmLm5hbWUgPT09IGZpbGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUVkaXRvclN0b3JlLmdldFN0YXRlKCkub3BlblRhYihmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHRleHQtWyMwMDdhY2NdIGhvdmVyOnRleHQtWyM0ZWM5YjBdIGhvdmVyOnVuZGVybGluZSBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWNvbG9ycyB0ZXh0LXhzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRyYW5zZm9ybSByb3RhdGUtOTBcIj7ihrM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT3BlbiBJbnN0cnVjdGlvbnMgRmlsZSBUYWJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBDTU8gcmVwb3J0IHRoYXQgbmVlZHMgbWFudWFsIHNhdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1zZy5jb250ZW50LmluY2x1ZGVzKFwiQ01PX1JFUE9SVF9NQU5VQUxfU0FWRV9ORUVERUQ6XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZU1hdGNoID0gbXNnLmNvbnRlbnQubWF0Y2goL0NNT19SRVBPUlRfTUFOVUFMX1NBVkVfTkVFREVEOlxccyooLispJC8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVOYW1lID0gZmlsZU1hdGNoID8gZmlsZU1hdGNoWzFdLnRyaW0oKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udmV4TXV0YXRpb25zID0gY3JlYXRlQ29udmV4TXV0YXRpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSB0aGUgc2FtZSByZXBvcnQgY29udGVudCBmcm9tIHRoZSBtZXNzYWdlIHRvIGNyZWF0ZSBpbnN0cnVjdGlvbiBmaWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcG9ydE1hdGNoID0gbXNnLmNvbnRlbnQubWF0Y2goL/Cfk4sgXFwqXFwqTWFya2V0aW5nIENhbXBhaWduIFJlcG9ydCBHZW5lcmF0ZWRcXCpcXCooW1xcc1xcU10qPynimqDvuI8gXFwqXFwqTm90ZTovKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVwb3J0Q29udGVudCA9IHJlcG9ydE1hdGNoID8gcmVwb3J0TWF0Y2hbMV0udHJpbSgpIDogJ01hcmtldGluZyBDYW1wYWlnbiBSZXBvcnQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSB0aGUgaW5zdHJ1Y3Rpb25zIGFnZW50IHRvIGNyZWF0ZSB0aGUgZmlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBleGVjdXRlQWdlbnRUb29sKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpbnN0cnVjdGlvbnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICduYXR1cmFsLWxhbmd1YWdlLWluc3RydWN0aW9ucycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYENyZWF0ZSBtYXJrZXRpbmcgY2FtcGFpZ24gaW5zdHJ1Y3Rpb24gZmlsZSBuYW1lZCBcIiR7ZmlsZU5hbWV9XCIgd2l0aCB0aGUgY2FtcGFpZ24gc3RyYXRlZ3kgcmVwb3J0IHRoYXQgd2FzIGp1c3QgZ2VuZXJhdGVkYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXhNdXRhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGluc3RydWN0aW9uIGZpbGU6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgdGV4dC1bIzAwN2FjY10gaG92ZXI6dGV4dC1bIzRlYzliMF0gaG92ZXI6dW5kZXJsaW5lIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tY29sb3JzIHRleHQteHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidHJhbnNmb3JtIHJvdGF0ZS05MFwiPuKGszwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDcmVhdGUgYW4gSW5zdHJ1Y3Rpb24gRmlsZSBIZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBvdGhlciBzdWNjZXNzIGluZGljYXRvcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1zZy5jb250ZW50LmluY2x1ZGVzKFwi4pyFICoqRmlsZSBDcmVhdGVkIFN1Y2Nlc3NmdWxseSEqKlwiKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZy5jb250ZW50LmluY2x1ZGVzKFwi4pyFICoqUHJvamVjdCBDcmVhdGVkIFN1Y2Nlc3NmdWxseSEqKlwiKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnLmNvbnRlbnQuaW5jbHVkZXMoXCLinIUgKipUZW1wbGF0ZSBBcHBsaWVkIFN1Y2Nlc3NmdWxseSEqKlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjNGVjOWIwXVwiPuKGsyBQcm9jZXNzIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkhPC9zcGFuPjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVmYXVsdCB3YWl0aW5nIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWyM0ZWM5YjBdXCI+4oazIEFnZW50IHdhaXRpbmcgZm9yIHlvdXIgaW5wdXQuLi48L3NwYW4+O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICB7LyogQ01PIEFnZW50IENyZWF0ZSBJbnN0cnVjdGlvbiBGaWxlIEJ1dHRvbiAtIG9ubHkgYXBwZWFycyB3aGVuIENNTyBhZ2VudCBpcyBhY3RpdmUgKi99XG4gICAgICAgICAgICAgICAgICAgIHsoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNob3VsZFNob3cgPSBhY3RpdmVBZ2VudElkID09PSAnY21vJyAmJiBtc2cucm9sZSA9PT0gJ2Fzc2lzdGFudCc7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gQnV0dG9uIGNvbmRpdGlvbiBjaGVjazonLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVBZ2VudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbXNnUm9sZTogbXNnLnJvbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRTaG93LFxuICAgICAgICAgICAgICAgICAgICAgICAgbXNnQ29udGVudDogbXNnLmNvbnRlbnQuc3Vic3RyaW5nKDAsIDUwKVxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzaG91bGRTaG93O1xuICAgICAgICAgICAgICAgICAgICB9KSgpICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgbWwtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4dHJhY3Qga2V5IGluZm9ybWF0aW9uIGZyb20gdGhlIENhbXBhaWduIERpcmVjdG9yJ3MgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBtc2cuY29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2VuZXJhdGUgYSBkZXNjcmlwdGl2ZSBmaWxlbmFtZSBiYXNlZCBvbiBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZU5hbWUgPSBcImNhbXBhaWduLXN0cmF0ZWd5XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyeSB0byBleHRyYWN0IGNhbXBhaWduIG5hbWUgb3IgdHlwZSBmcm9tIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlTWF0Y2ggPSBjb250ZW50Lm1hdGNoKC8oPzpefFxcbikjXFxzKiguKykkL20pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpdGxlTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSB0aXRsZU1hdGNoWzFdLnRyaW0oKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1teYS16MC05XFxzXS9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxzKy9nLCAnLScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN1YnN0cmluZygwLCA1MCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lID0gdGl0bGUgfHwgZmlsZU5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aW1lc3RhbXAgdG8gZW5zdXJlIHVuaXF1ZW5lc3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluYWxGaWxlTmFtZSA9IGAke2ZpbGVOYW1lfS0ke3RpbWVzdGFtcH1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3JtYXQgdGhlIGNvbnRlbnQgYXMgYSBuaWNlIGluc3RydWN0aW9uIGRvY3VtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnN0cnVjdGlvbkNvbnRlbnQgPSBgIyBDYW1wYWlnbiBTdHJhdGVneSBJbnN0cnVjdGlvbnNcblxuVGhpcyBpbnN0cnVjdGlvbiBkb2N1bWVudCB3YXMgZ2VuZXJhdGVkIGZyb20gYSBDYW1wYWlnbiBTdHJhdGVneSByZXNwb25zZS5cblxuLS0tXG5cbiR7Y29udGVudH1cblxuLS0tXG5cbioqR2VuZXJhdGVkOioqICR7bmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpfVxuKipTb3VyY2U6KiogQ2FtcGFpZ24gU3RyYXRlZ3kgQWdlbnRgO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGluc3RydWN0aW9uIGZpbGUgZGlyZWN0bHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGNyZWF0ZUluc3RydWN0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZmluYWxGaWxlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogaW5zdHJ1Y3Rpb25Db250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BpYzogXCJDYW1wYWlnbiBTdHJhdGVneVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdWRpZW5jZTogXCJNYXJrZXRpbmcgVGVhbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBJbnN0cnVjdGlvbiBmaWxlIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5OicsIGZpbmFsRmlsZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTaG93IHN1Y2Nlc3MgZmVlZGJhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3NNZXNzYWdlID0gYOKchSAqKkluc3RydWN0aW9uIEZpbGUgQ3JlYXRlZCEqKlxcblxcbvCfk4QgKipGaWxlOioqIFxcYCR7ZmluYWxGaWxlTmFtZX0ubWRcXGBcXG7wn46vICoqVG9waWM6KiogQ2FtcGFpZ24gU3RyYXRlZ3lcXG7wn5OBICoqTG9jYXRpb246KiogSW5zdHJ1Y3Rpb25zIFByb2plY3RcXG5cXG5UaGUgY2FtcGFpZ24gc3RyYXRlZ3kgaGFzIGJlZW4gc2F2ZWQgYXMgYW4gaW5zdHJ1Y3Rpb24gZmlsZSBmb3IgZnV0dXJlIHJlZmVyZW5jZS5gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgc3VjY2VzcyBtZXNzYWdlIHRvIGNoYXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdG9yZUNoYXRNZXNzYWdlICYmIHNlc3Npb25JZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBzdWNjZXNzTWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgaW5zdHJ1Y3Rpb24gZmlsZTonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNob3cgZXJyb3IgZmVlZGJhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGDinYwgKipGYWlsZWQgdG8gQ3JlYXRlIEluc3RydWN0aW9uIEZpbGUqKlxcblxcblRoZXJlIHdhcyBhbiBlcnJvciBzYXZpbmcgdGhlIGNhbXBhaWduIHN0cmF0ZWd5IGFzIGFuIGluc3RydWN0aW9uIGZpbGUuIFBsZWFzZSB0cnkgYWdhaW4gb3IgY29udGFjdCBzdXBwb3J0IGlmIHRoZSBpc3N1ZSBwZXJzaXN0cy5gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcmVDaGF0TWVzc2FnZSAmJiBzZXNzaW9uSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogZXJyb3JNZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHRleHQtWyMwMDdhY2NdIGhvdmVyOnRleHQtWyM0ZWM5YjBdIGhvdmVyOnVuZGVybGluZSBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWNvbG9ycyB0ZXh0LXhzIG9wYWNpdHktNjAgaG92ZXI6b3BhY2l0eS0xMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0cmFuc2Zvcm0gcm90YXRlLTkwXCI+4oazPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBDcmVhdGUgYW4gSW5zdHJ1Y3Rpb24gRmlsZSBIZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICB7LyogQ01PIEFnZW50IENyZWF0ZSBJbnN0cnVjdGlvbiBGaWxlIEJ1dHRvbiAtIG9ubHkgYXBwZWFycyBmb3IgQ01PIGFnZW50IHJlc3BvbnNlcyAqL31cbiAgICAgICAgICAgICAgICAgICAgeyhtc2cuY29udGVudC5pbmNsdWRlcygnQ01PX1JFUE9SVF9HRU5FUkFURURfU1VDQ0VTUycpIHx8IG1zZy5jb250ZW50LmluY2x1ZGVzKCdDTU9fUkVQT1JUX01BTlVBTF9TQVZFX05FRURFRCcpKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIG1sLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb252ZXhNdXRhdGlvbnMgPSBjcmVhdGVDb252ZXhNdXRhdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgZGVzY3JpcHRpdmUgcHJvbXB0IGZyb20gdGhlIGFzc2lzdGFudCdzIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZUNvbnRlbnQgPSBtc2cuY29udGVudC5zdWJzdHJpbmcoMCwgMjAwKS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9tcHQgPSBgQ3JlYXRlIGluc3RydWN0aW9uIGZpbGUgZnJvbSB0aGlzIENNTyBhZ2VudCByZXNwb25zZTogXCIke3Jlc3BvbnNlQ29udGVudH0ke21zZy5jb250ZW50Lmxlbmd0aCA+IDIwMCA/ICcuLi4nIDogJyd9XCJgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIHRoZSBpbnN0cnVjdGlvbnMgYWdlbnQgdG8gY3JlYXRlIHRoZSBmaWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBleGVjdXRlQWdlbnRUb29sKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5zdHJ1Y3Rpb25zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2dlbmVyYXRlLWluc3RydWN0aW9ucycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21wdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udmV4TXV0YXRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBpbnN0cnVjdGlvbiBmaWxlOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHRleHQtWyMwMDdhY2NdIGhvdmVyOnRleHQtWyM0ZWM5YjBdIGhvdmVyOnVuZGVybGluZSBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWNvbG9ycyB0ZXh0LXhzIG9wYWNpdHktNjAgaG92ZXI6b3BhY2l0eS0xMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0cmFuc2Zvcm0gcm90YXRlLTkwXCI+4oazPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBDcmVhdGUgYW4gSW5zdHJ1Y3Rpb24gRmlsZSBIZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAge21zZy5yb2xlID09PSAndGhpbmtpbmcnICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bI2Q0ZDRhYV1cIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bI2Q0ZDRhYV1cIj7wn6egIHRoaW5raW5nOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC0xIHRleHQtWyNjY2NjY2NdIHdoaXRlc3BhY2UtcHJlLXdyYXAgdGV4dC14cyBmb250LW1vbm8gaXRhbGljXCI+XG4gICAgICAgICAgICAgICAgICAgICAge21zZy5jb250ZW50fVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAge21zZy5yb2xlID09PSAndGVybWluYWwnICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bIzg1ODU4NV1cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjNTg1ODU4XSB3aGl0ZXNwYWNlLXByZS13cmFwIGJnLVsjMWExYTFhXSBwLTEgcm91bmRlZCB0ZXh0LVsxMHB4XSBib3JkZXItbC0yIGJvcmRlci1bIzMzM11cIj5cbiAgICAgICAgICAgICAgICAgICAgICB7bXNnLmNvbnRlbnR9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuXG4gICAgICAgICAgey8qIFN0cmVhbWluZyBUaGlua2luZyBEaXNwbGF5ICovfVxuICAgICAgICAgIHtpc1N0cmVhbWluZ1RoaW5raW5nICYmIHN0cmVhbWluZ1RoaW5raW5nICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bI2Q0ZDRhYV1cIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjZDRkNGFhXVwiPvCfp6AgdGhpbmtpbmc6PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWwtMSB0ZXh0LVsjY2NjY2NjXSB3aGl0ZXNwYWNlLXByZS13cmFwIHRleHQteHMgZm9udC1tb25vIGl0YWxpY1wiPlxuICAgICAgICAgICAgICAgICAge3N0cmVhbWluZ1RoaW5raW5nfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7LyogTG9hZGluZyBpbmRpY2F0b3IgKi99XG4gICAgICAgICAge2lzTG9hZGluZyAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyM0ZWM5YjBdXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWyM0ZWM5YjBdXCI+8J+kliBhc3Npc3RhbnQ6PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0xIHRleHQtWyM4NTg1ODVdXCI+dGhpbmtpbmcuLi48L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogUGlubmVkIEFnZW50IFByb2dyZXNzIEJhciAqL31cbiAgICAgIHthZ2VudFByb2dyZXNzICYmIGFnZW50UHJvZ3Jlc3MubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctWyMwZTBlMGVdIHAtMiBmb250LW1vbm8gdGV4dC14cyBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAge2FnZW50UHJvZ3Jlc3MubWFwKChwcm9ncmVzcykgPT4gKFxuICAgICAgICAgICAgPGRpdiBrZXk9e3Byb2dyZXNzLl9pZH0gY2xhc3NOYW1lPVwibWItMiBsYXN0Om1iLTBcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItMVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWyMwMDdhY2NdIHRleHQteHNcIj5cbiAgICAgICAgICAgICAgICAgIPCfpJYge3Byb2dyZXNzLmFnZW50VHlwZX0gQWdlbnRcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bIzg1ODU4NV0gdGV4dC14c1wiPlxuICAgICAgICAgICAgICAgICAge3Byb2dyZXNzLnBlcmNlbnRhZ2V9JVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy02NCBiZy1bIzMzM10gcm91bmRlZC1mdWxsIGgtMS41IHJlbGF0aXZlIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1bIzAwN2FjY10gaC0xLjUgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCBhYnNvbHV0ZSBsZWZ0LTAgdG9wLTBcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAke01hdGgubWluKDEwMCwgTWF0aC5tYXgoMCwgcHJvZ3Jlc3MucGVyY2VudGFnZSkpfSVgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIHtwcm9ncmVzcy5zdGF0dXMgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bIzg1ODU4NV0gdGV4dC14cyBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICB7cHJvZ3Jlc3Muc3RhdHVzfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIElucHV0IGFyZWEgLSBOb3cgb3V0c2lkZSB0aGUgc2Nyb2xsYWJsZSBjb250YWluZXIgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLVsjMGUwZTBlXSBwLTIgZm9udC1tb25vIHRleHQteHMgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bIzAwN2FjY11cIj4kIHVzZXI6PC9zcGFuPlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT1cImZsZXgtMSBtbC0xXCI+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgcmVmPXtpbnB1dFJlZn1cbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICB2YWx1ZT17bWVzc2FnZX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUlucHV0Q2hhbmdlfVxuICAgICAgICAgICAgICBvbktleURvd249e2hhbmRsZUtleURvd259XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtcbiAgICAgICAgICAgICAgICBpc0F0U2Vzc2lvbkxpbWl0IFxuICAgICAgICAgICAgICAgICAgPyBcIlNlc3Npb24gbGltaXQgcmVhY2hlZCAtIFN0YXJ0IG5ldyBzZXNzaW9uIHRvIGNvbnRpbnVlLi4uXCIgXG4gICAgICAgICAgICAgICAgICA6IGlzTG9hZGluZyBcbiAgICAgICAgICAgICAgICAgICAgPyBcIkFJIGlzIHRoaW5raW5nLi4uXCIgXG4gICAgICAgICAgICAgICAgICAgIDogXCJBc2sgYWJvdXQgeW91ciBFQUMgcHJvamVjdC4uLlwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZyB8fCBpc0F0U2Vzc2lvbkxpbWl0fVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgYmctdHJhbnNwYXJlbnQgYm9yZGVyLW5vbmUgb3V0bGluZS1ub25lIHBsYWNlaG9sZGVyOnRleHQtWyM4NTg1ODVdIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIGNhcmV0LVsjY2NjY2NjXSAke1xuICAgICAgICAgICAgICAgIGlzQXRTZXNzaW9uTGltaXQgPyAndGV4dC1bI2Y0ODc3MV0nIDogJ3RleHQtWyNjY2NjY2NdJ1xuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSJdLCJuYW1lcyI6WyJhcGkiLCJ1c2VDaGF0IiwidXNlSW5zdHJ1Y3Rpb25Db250ZXh0IiwidXNlSW5zdHJ1Y3Rpb25zIiwidXNlTUNQIiwidXNlQWdlbnRTdG9yZSIsInVzZUVkaXRvclN0b3JlIiwidXNlQ2hhdFN0b3JlIiwidXNlU2Vzc2lvblN0b3JlIiwidXNlVXNlciIsInVzZUFjdGlvbiIsInVzZU11dGF0aW9uIiwidXNlUXVlcnkiLCJSZWFjdCIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwiRWRpdEluc3RydWN0aW9uc0lucHV0IiwiRmlsZU5hbWVJbnB1dCIsIkZpbGVTZWxlY3RvciIsIkZpbGVUeXBlU2VsZWN0b3IiLCJNYXJrZG93blJlbmRlcmVyIiwiUHJvamVjdE5hbWVJbnB1dCIsIlByb2plY3RTZWxlY3RvciIsIkNoYXRNZXNzYWdlcyIsInNjcm9sbFJlZiIsImlucHV0UmVmIiwicHJvY2Vzc2VkT3BlcmF0aW9ucyIsIlNldCIsIm1lc3NhZ2UiLCJzZXRNZXNzYWdlIiwiYWN0aXZlQWdlbnRQcm9jZXNzIiwic2V0QWN0aXZlQWdlbnRQcm9jZXNzIiwiY29uc29sZSIsImxvZyIsInVzZXIiLCJpc0xvYWRlZCIsImluaXRpYWxpemVVc2VyU2Vzc2lvbiIsImFkZFRlcm1pbmFsRmVlZGJhY2siLCJzZXRTZXNzaW9uSWQiLCJhY3RpdmVTZXNzaW9uSWQiLCJtZXNzYWdlcyIsImlzTG9hZGluZyIsImNoYXRMb2FkaW5nIiwic2VuZE1lc3NhZ2UiLCJzZW5kTWVzc2FnZVdpdGhTdHJlYW1pbmciLCJzZXNzaW9uSWQiLCJzdG9yZUNoYXRNZXNzYWdlIiwidXNlVGVybWluYWxGZWVkYmFjayIsInN0cmVhbWluZ1RoaW5raW5nIiwiaXNTdHJlYW1pbmdUaGlua2luZyIsIm1lc3NhZ2VDb3VudCIsImlzTmVhclNlc3Npb25MaW1pdCIsImlzQXRTZXNzaW9uTGltaXQiLCJjYW5BZGRNZXNzYWdlcyIsImdldFNlc3Npb25TdGF0dXMiLCJzdGFydE5ld1Nlc3Npb24iLCJhZ2VudFByb2dyZXNzIiwiY2hhdCIsImdldEFnZW50UHJvZ3Jlc3MiLCJpc0Nvbm5lY3RlZCIsIm1jcENvbm5lY3RlZCIsIm1jcExvYWRpbmciLCJlcnJvciIsIm1jcEVycm9yIiwiYXZhaWxhYmxlVG9vbHMiLCJwcm9jZXNzTmF0dXJhbExhbmd1YWdlIiwiYWdlbnRzIiwiYWN0aXZlQWdlbnRJZCIsInNldEFjdGl2ZUFnZW50IiwiZXhlY3V0ZUFnZW50VG9vbCIsImNyZWF0ZUluc3RydWN0aW9uIiwiZmlsZXMiLCJjcmVhdGVJbnN0cnVjdGlvbkZpbGUiLCJlbnN1cmVJbnN0cnVjdGlvbnNQcm9qZWN0IiwicHJvamVjdHMiLCJ1cHNlcnRQb3N0Iiwic29jaWFsUG9zdHMiLCJzY2hlZHVsZVBvc3QiLCJjcmVhdGVDb250ZW50Q3JlYXRpb25GaWxlIiwiY3JlYXRlUHJvamVjdCIsImNyZWF0ZUZpbGUiLCJnZXRBbGxVc2VyRmlsZXMiLCJ1cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCIsImVkaXRGaWxlV2l0aEFJIiwiZWRpdG9yQWN0aW9ucyIsInVwZGF0ZUZpbGVDb250ZW50IiwiYWxsUG9zdHMiLCJnZXRBbGxQb3N0cyIsImFsbFByb2plY3RzIiwiZ2V0UHJvamVjdHMiLCJpbnN0cnVjdGlvbkNvbnRleHQiLCJpbnN0cnVjdGlvbnNMb2FkaW5nIiwiY3JlYXRlTmV3RmlsZSIsImN1cnJlbnQiLCJzY3JvbGxUb3AiLCJzY3JvbGxIZWlnaHQiLCJ1c2VySWQiLCJpZCIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiYWdlIiwiRGF0ZSIsIm5vdyIsInRpbWVzdGFtcCIsImNsZWFyVGltZW91dCIsInN0cmlwTWFya2Rvd24iLCJ0ZXh0IiwicmVwbGFjZSIsInNwbGl0IiwibWFwIiwibGluZSIsInRyaW0iLCJzdGFydHNXaXRoIiwibGVuZ3RoIiwiam9pbiIsImlzTUNQUXVlcnkiLCJtY3BLZXl3b3JkcyIsImxvd2VyVGV4dCIsInRvTG93ZXJDYXNlIiwic29tZSIsImtleXdvcmQiLCJpbmNsdWRlcyIsImhhbmRsZVRvb2xTZWxlY3RvckNsb3NlIiwiZm9jdXMiLCJjcmVhdGVDb252ZXhNdXRhdGlvbnMiLCJwYXJhbXMiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJzdGF0dXMiLCJidWRnZXQiLCJnZXRBbGxGaWxlcyIsInJvbGUiLCJjb250ZW50Iiwib3BlcmF0aW9uIiwicHJvY2Vzc0luZGljYXRvciIsImludGVyYWN0aXZlQ29tcG9uZW50IiwibWVzc2FnZUlkIiwicmVzdWx0IiwidHlwZSIsInByb2plY3RJZCIsImV4dGVuc2lvbiIsInBsYXRmb3JtIiwic2l6ZSIsImZpbGVOYW1lIiwib3JpZ2luYWxDb250ZW50IiwiZWRpdEluc3RydWN0aW9ucyIsImZpbGVUeXBlIiwiZmlsZUlkIiwiY3JlYXRlQ2FtcGFpZ24iLCJfaWQiLCJjcmVhdGVQb3N0c0JhdGNoIiwicG9zdHMiLCJfIiwiaW5kZXgiLCJoYW5kbGVTdWJtaXQiLCJlIiwicHJldmVudERlZmF1bHQiLCJ3YXJuIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiaG91cjEyIiwiaG91ciIsIm1pbnV0ZSIsInNlY29uZCIsIm1lc3NhZ2VDb250ZW50Iiwic2hvdWxkUm91dGVUb0FnZW50IiwiRWRpdG9yQWdlbnQiLCJoYXNTZWxlY3RlZEZpbGUiLCJzZWxlY3RlZEZpbGUiLCJpc1dhaXRpbmdGb3JFZGl0SW5zdHJ1Y3Rpb25zIiwiY3VycmVudFN0ZXAiLCJsYXN0TWVzc2FnZSIsImNvbnZleE11dGF0aW9ucyIsImlzRm9sbG93VXBUb1dhaXRpbmdBZ2VudCIsImNvbnRlbnRQcmV2aWV3Iiwic3Vic3RyaW5nIiwiYWN0aXZlQWdlbnQiLCJmaW5kIiwiYWdlbnQiLCJ0b29scyIsImRlZmF1bHRUb29sIiwicHJvY2Vzc1R5cGUiLCJjb2xvciIsInVuZGVmaW5lZCIsImlzV2FpdGluZ0ZvcklucHV0IiwiaXNDb21wbGV0aW9uUmVzcG9uc2UiLCJoYXNTZWxlY3RQcm9qZWN0IiwiaGFzTmV4dE1lc3NhZ2UiLCJoYXNXaGljaFByb2plY3QiLCJoYXNBdmFpbGFibGVQcm9qZWN0cyIsImhhc0ZpbGVDcmVhdGVkIiwiaGFzTmV4dFN0ZXBzIiwiYWdlbnRJZCIsIm1lc3NhZ2VUeXBlIiwid2lsbEhhdmVQcm9jZXNzSW5kaWNhdG9yIiwicmVzdWx0U25pcHBldCIsIkVycm9yIiwibWNwUmVzcG9uc2UiLCJzdWNjZXNzIiwidGV4dENvbnRlbnQiLCJwbGFpblRleHQiLCJjb250ZXh0dWFsTWVzc2FnZSIsImhhbmRsZUtleURvd24iLCJrZXkiLCJzaGlmdEtleSIsImhhbmRsZUlucHV0Q2hhbmdlIiwidmFsdWUiLCJ0YXJnZXQiLCJkaXYiLCJjbGFzc05hbWUiLCJyZWYiLCJzbGljZSIsInNwYW4iLCJtc2ciLCJoYXNQcm9jZXNzSW5kaWNhdG9yIiwiaXNVc2VyUHJvY2Vzc01lc3NhZ2UiLCJpc0FnZW50UHJvY2Vzc01lc3NhZ2UiLCJkYXRhIiwicHJvamVjdE5hbWVJbnB1dCIsImZpbGVEZXRhaWxzIiwiZGlzYWJsZWQiLCJzZWxlY3RlZFByb2plY3QiLCJvblByb2plY3RTZWxlY3RlZCIsInByb2plY3QiLCJmaWxlQ3JlYXRvckFnZW50IiwiYSIsInByb2plY3RTZWxlY3Rpb25JbnB1dCIsInRvb2xJZCIsInRvb2xOYW1lIiwiY29udmV4TXV0YXRpb25zQXZhaWxhYmxlIiwic3RvcmVkTWVzc2FnZSIsInRvdGFsTWVzc2FnZXMiLCJsYXN0TWVzc2FnZVJvbGUiLCJvbkNhbmNlbCIsIm9uRmlsZVNlbGVjdGVkIiwiZmlsZSIsImZpbGVQYXRoIiwicGF0aCIsImNvbW1hbmQiLCJkZXRhaWxzIiwiYWdlbnRUeXBlIiwiZWRpdG9yQWdlbnQiLCJhY3R1YWxFZGl0b3JBZ2VudCIsImhhbmRsZUZpbGVTZWxlY3RlZCIsInBsYWNlaG9sZGVyIiwiZXhhbXBsZXMiLCJvbkluc3RydWN0aW9uc1N1Ym1pdHRlZCIsImluc3RydWN0aW9ucyIsImRlZmF1bHRWYWx1ZSIsIm9uUHJvamVjdE5hbWVTdWJtaXR0ZWQiLCJwcm9qZWN0TmFtZSIsInByb2plY3RDcmVhdG9yQWdlbnQiLCJvbkZpbGVUeXBlU2VsZWN0ZWQiLCJzZXJpYWxpemFibGVGaWxlVHlwZSIsImF2YWlsYWJsZSIsInNlbGVjdGVkRmlsZVR5cGUiLCJvbkZpbGVOYW1lU3VibWl0dGVkIiwiZmlsZU1hdGNoIiwibWF0Y2giLCJidXR0b24iLCJvbkNsaWNrIiwicHJvamVjdEZpbGVzIiwiZ2V0U3RhdGUiLCJmIiwib3BlblRhYiIsInJlcG9ydE1hdGNoIiwicmVwb3J0Q29udGVudCIsInNob3VsZFNob3ciLCJtc2dSb2xlIiwibXNnQ29udGVudCIsInRpdGxlTWF0Y2giLCJ0aXRsZSIsInRvSVNPU3RyaW5nIiwiZmluYWxGaWxlTmFtZSIsImluc3RydWN0aW9uQ29udGVudCIsInRvTG9jYWxlU3RyaW5nIiwidG9waWMiLCJhdWRpZW5jZSIsInN1Y2Nlc3NNZXNzYWdlIiwiZXJyb3JNZXNzYWdlIiwicmVzcG9uc2VDb250ZW50IiwicHJvbXB0IiwicHJvZ3Jlc3MiLCJwZXJjZW50YWdlIiwic3R5bGUiLCJ3aWR0aCIsIk1hdGgiLCJtaW4iLCJtYXgiLCJmb3JtIiwib25TdWJtaXQiLCJpbnB1dCIsIm9uQ2hhbmdlIiwib25LZXlEb3duIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/_components/terminal/_components/chatMessages.tsx\n"));

/***/ })

});