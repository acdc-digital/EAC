"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_app__components_terminal_terminal_tsx",{

/***/ "(app-pages-browser)/./app/_components/terminal/_components/chatMessages.tsx":
/*!***************************************************************!*\
  !*** ./app/_components/terminal/_components/chatMessages.tsx ***!
  \***************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatMessages: () => (/* binding */ ChatMessages)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../node_modules/.pnpm/next@15.3.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _convex_generated_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/convex/_generated/api */ \"(app-pages-browser)/./convex/_generated/api.js\");\n/* harmony import */ var _lib_hooks_useChat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/hooks/useChat */ \"(app-pages-browser)/./lib/hooks/useChat.ts\");\n/* harmony import */ var _lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/hooks/useInstructions */ \"(app-pages-browser)/./lib/hooks/useInstructions.ts\");\n/* harmony import */ var _lib_hooks_useMCP__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/hooks/useMCP */ \"(app-pages-browser)/./lib/hooks/useMCP.ts\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/store */ \"(app-pages-browser)/./store/index.ts\");\n/* harmony import */ var _store_terminal_chat__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/store/terminal/chat */ \"(app-pages-browser)/./store/terminal/chat.ts\");\n/* harmony import */ var _store_terminal_session__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/store/terminal/session */ \"(app-pages-browser)/./store/terminal/session.ts\");\n/* harmony import */ var _clerk_nextjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @clerk/nextjs */ \"(app-pages-browser)/../node_modules/.pnpm/@clerk+clerk-react@5.38.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@clerk/clerk-react/dist/index.mjs\");\n/* harmony import */ var convex_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! convex/react */ \"(app-pages-browser)/../node_modules/.pnpm/convex@1.25.4_@clerk+clerk-react@5.38.0_react-dom@18.3.1_react@18.3.1__react@18.3.1__react@18.3.1/node_modules/convex/dist/esm/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../node_modules/.pnpm/next@15.3.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _fileNameInput__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./fileNameInput */ \"(app-pages-browser)/./app/_components/terminal/_components/fileNameInput.tsx\");\n/* harmony import */ var _fileTypeSelector__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./fileTypeSelector */ \"(app-pages-browser)/./app/_components/terminal/_components/fileTypeSelector.tsx\");\n/* harmony import */ var _projectNameInput__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./projectNameInput */ \"(app-pages-browser)/./app/_components/terminal/_components/projectNameInput.tsx\");\n/* harmony import */ var _projectSelector__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./projectSelector */ \"(app-pages-browser)/./app/_components/terminal/_components/projectSelector.tsx\");\n// Simplified Chat Messages Component - No Slash Commands\n// /Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\n/* __next_internal_client_entry_do_not_use__ ChatMessages auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ChatMessages() {\n    _s();\n    const scrollRef = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n    const processedOperations = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(new Set());\n    const [message, setMessage] = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(\"\");\n    const [activeAgentProcess, setActiveAgentProcess] = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(null);\n    // Debug logging for activeAgentProcess changes\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            console.log('activeAgentProcess changed:', activeAgentProcess);\n        }\n    }[\"ChatMessages.useEffect\"], [\n        activeAgentProcess\n    ]);\n    const { user, isLoaded } = (0,_clerk_nextjs__WEBPACK_IMPORTED_MODULE_14__.useUser)();\n    const { initializeUserSession, addTerminalFeedback, setSessionId } = (0,_store_terminal_chat__WEBPACK_IMPORTED_MODULE_6__.useChatStore)();\n    const { activeSessionId } = (0,_store_terminal_session__WEBPACK_IMPORTED_MODULE_7__.useSessionStore)();\n    const { messages, isLoading: chatLoading, sendMessage, sendMessageWithStreaming, sessionId, storeChatMessage, addTerminalFeedback: useTerminalFeedback, streamingThinking, isStreamingThinking, messageCount, isNearSessionLimit, isAtSessionLimit, canAddMessages, getSessionStatus, startNewSession } = (0,_lib_hooks_useChat__WEBPACK_IMPORTED_MODULE_2__.useChat)();\n    // Query for agent progress\n    const agentProgress = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.chat.getAgentProgress, {\n        sessionId\n    });\n    const { isConnected: mcpConnected, isLoading: mcpLoading, error: mcpError, availableTools, processNaturalLanguage } = (0,_lib_hooks_useMCP__WEBPACK_IMPORTED_MODULE_4__.useMCP)();\n    // Agent execution and mutations\n    const { agents, activeAgentId, setActiveAgent, executeAgentTool } = (0,_store__WEBPACK_IMPORTED_MODULE_5__.useAgentStore)();\n    const createInstruction = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.createInstructionFile);\n    const ensureInstructionsProject = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.projects.ensureInstructionsProject);\n    const upsertPost = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.socialPosts.upsertPost);\n    const schedulePost = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.socialPosts.schedulePost);\n    const createContentCreationFile = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.createContentCreationFile);\n    const createProject = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.projects.createProject);\n    const createFile = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.createFile);\n    const updateInteractiveComponent = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.chat.updateInteractiveComponent);\n    const allPosts = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.socialPosts.getAllPosts, {});\n    const allProjects = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.projects.getProjects, {});\n    const instructionContext = (0,_lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructionContext)();\n    const { isLoading: instructionsLoading } = (0,_lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructions)();\n    const { createNewFile } = (0,_store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore)();\n    const isLoading = chatLoading || mcpLoading || instructionsLoading;\n    // Auto-scroll to bottom when new messages arrive\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (scrollRef.current) {\n                scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        messages\n    ]);\n    // Initialize user session when component mounts and user is loaded\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (isLoaded && user && !sessionId) {\n                console.log(\"🔄 Initializing user session...\", {\n                    userId: user.id\n                });\n                initializeUserSession(user.id);\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        user,\n        isLoaded,\n        sessionId,\n        initializeUserSession\n    ]);\n    // Sync session ID if active session changes\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (activeSessionId && activeSessionId !== sessionId) {\n                console.log(\"🔄 Syncing to active session:\", activeSessionId);\n                setSessionId(activeSessionId);\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        activeSessionId,\n        sessionId,\n        setSessionId\n    ]);\n    // Clear active agent process after timeout\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (activeAgentProcess) {\n                const timeout = setTimeout({\n                    \"ChatMessages.useEffect.timeout\": ()=>{\n                        const age = Date.now() - activeAgentProcess.timestamp;\n                        if (age > 5 * 60 * 1000) {\n                            setActiveAgentProcess(null);\n                        }\n                    }\n                }[\"ChatMessages.useEffect.timeout\"], 5 * 60 * 1000);\n                return ({\n                    \"ChatMessages.useEffect\": ()=>clearTimeout(timeout)\n                })[\"ChatMessages.useEffect\"];\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        activeAgentProcess\n    ]);\n    // DISABLED: Process messages with operations to create UI files\n    // This is now handled by useFileLoad hook which syncs from Convex to local store\n    /*\n  useEffect(() => {\n    if (!messages) return;\n    \n    console.log('🔍 Processing messages for operations:', {\n      totalMessages: messages.length,\n      recentMessagesCount: messages.slice(-10).length,\n      processedCount: processedOperations.current.size\n    });\n    \n    // Look for messages with operations that need UI processing\n    const recentMessages = messages.slice(-10); // Check last 10 messages\n    \n    recentMessages.forEach((message: any, index) => {\n      console.log(`🔍 Message ${index}:`, {\n        id: message._id,\n        role: message.role,\n        hasOperation: !!message.operation,\n        operationType: message.operation?.type,\n        operationDetails: message.operation?.details,\n        contentPreview: message.content?.substring(0, 100),\n        alreadyProcessed: processedOperations.current.has(message._id)\n      });\n      \n      if (message.operation?.type === 'file_created' && message._id) {\n        // Skip if already processed\n        if (processedOperations.current.has(message._id)) {\n          console.log(`⏭️ Skipping already processed message: ${message._id}`);\n          return;\n        }\n        \n        const { fileName, fileType, content, platformData, agentType } = message.operation.details;\n        \n        console.log('🔍 File creation operation found:', {\n          fileName,\n          fileType,\n          agentType,\n          hasContent: !!content,\n          contentLength: content?.length || 0,\n          willProcess: agentType === 'twitter' && content\n        });\n        \n        // Only process Twitter agent files for UI creation that have content\n        if (agentType === 'twitter' && content) {\n          console.log('🔄 Processing social file operation:', {\n            fileName,\n            fileType,\n            content: content,\n            contentLength: content?.length || 0,\n            contentType: typeof content,\n            messageId: message._id,\n            platformData: platformData,\n            allDetails: message.operation.details\n          });\n          \n          // Mark as processed FIRST to prevent race conditions\n          processedOperations.current.add(message._id);\n          \n          // Parse the platform data with error handling\n          let platformDataObj;\n          try {\n            platformDataObj = platformData ? JSON.parse(platformData) : {};\n          } catch (error) {\n            console.warn('⚠️ Failed to parse platform data, using defaults:', error);\n            platformDataObj = {\n              replySettings: 'following',\n              scheduledDate: '',\n              scheduledTime: '',\n              isThread: false\n            };\n          }\n          \n          // Create the content for the Twitter post file in the expected format\n          const postContent = `# ${fileName.replace(/\\.[^/.]+$/, \"\")} - X (Twitter) Post\nPlatform: X (Twitter)\nCreated: ${new Date().toLocaleDateString()}\n\n## Post Content\n${content}\n\n## Settings\n- Reply Settings: ${platformDataObj.replySettings || 'following'}\n- Schedule: ${platformDataObj.scheduledDate && platformDataObj.scheduledTime ? `${platformDataObj.scheduledDate} ${platformDataObj.scheduledTime}` : 'Now'}\n- Thread: ${platformDataObj.isThread ? 'Multi-tweet Thread' : 'Single Tweet'}\n\n## Media\n- Images: []\n- Videos: []\n\n## Analytics\n- Impressions: 0\n- Engagements: 0\n- Likes: 0\n- Shares: 0`;\n\n          // Get the createNewFile function from the store at execution time\n          const { createNewFile, projectFolders } = useEditorStore.getState();\n          \n          // Find the Content Creation folder ID\n          const contentCreationFolder = projectFolders.find(folder => \n            folder.name === 'Content Creation'\n          );\n          \n          if (contentCreationFolder) {\n            // Create the file in the Content Creation folder\n            createNewFile(\n              fileName,\n              'x', // Use 'x' type for Twitter files\n              'project',\n              contentCreationFolder.id,\n              postContent\n            );\n            \n            console.log('✅ Created social file in UI:', fileName);\n          } else {\n            console.warn('⚠️ Content Creation folder not found');\n            \n            // Create without folder ID if folder not found\n            createNewFile(\n              fileName,\n              'x',\n              'project',\n              undefined,\n              postContent\n            );\n          }\n        }\n      }\n    });\n  }, [messages]); // Removed createNewFile from dependencies to prevent re-runs on panel switches\n  */ // Helper function to strip markdown formatting\n    const stripMarkdown = (text)=>{\n        return text.replace(/#{1,6}\\s*/g, '') // Remove headers\n        .replace(/\\*\\*(.*?)\\*\\*/g, '$1') // Remove **bold**\n        .replace(/\\*(.*?)\\*/g, '$1') // Remove *italic*\n        .replace(/`([^`]+)`/g, '$1') // Remove `code`\n        .replace(/^\\s*[-*+]\\s+/gm, '• ') // Convert markdown lists to bullet points\n        .replace(/^\\s*\\d+\\.\\s+/gm, '• ') // Convert numbered lists to bullet points\n        .replace(/\\n\\s*\\n\\s*\\n/g, '\\n\\n') // Reduce multiple blank lines to double\n        .split('\\n') // Split into lines for processing\n        .map((line)=>{\n            // Add spacing after section headers (lines that don't start with bullet points)\n            if (line.trim() && !line.startsWith('•') && !line.startsWith(' ') && line.length > 0) {\n                return line + '\\n'; // Add extra newline after headers\n            }\n            return line;\n        }).join('\\n').replace(/\\n{3,}/g, '\\n\\n') // Clean up excessive newlines\n        .trim();\n    };\n    // Helper function to detect MCP-related queries (excluding direct tool commands)\n    const isMCPQuery = (text)=>{\n        // Don't treat direct tool commands as NLP queries\n        if (text.startsWith('/')) return false;\n        // Look for keywords that suggest MCP analysis would be helpful\n        const mcpKeywords = [\n            'analyze',\n            'examine',\n            'review',\n            'explain',\n            'understand',\n            'architecture',\n            'structure',\n            'code',\n            'component',\n            'function',\n            'implementation',\n            'pattern',\n            'best practice',\n            'issue',\n            'bug',\n            'error',\n            'performance',\n            'optimization',\n            'refactor',\n            'improvement',\n            'documentation',\n            'overview',\n            'summary',\n            'how does',\n            'what is',\n            'why is',\n            'where is',\n            'when is',\n            'which'\n        ];\n        const lowerText = text.toLowerCase();\n        return mcpKeywords.some((keyword)=>lowerText.includes(keyword));\n    };\n    const handleToolSelectorClose = ()=>{\n        var _inputRef_current;\n        setMessage(\"\");\n        (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n    };\n    // Helper function to create convexMutations object for agents\n    const createConvexMutations = ()=>{\n        return {\n            ensureInstructionsProject,\n            createInstructionFile: createInstruction,\n            upsertPost,\n            schedulePost,\n            createContentCreationFile,\n            createProject: async (params)=>{\n                return await createProject({\n                    name: params.name,\n                    description: params.description,\n                    status: params.status || 'active',\n                    budget: params.budget\n                });\n            },\n            getProjects: async ()=>{\n                return allProjects || [];\n            },\n            storeChatMessage: async (params)=>{\n                return await storeChatMessage({\n                    role: params.role,\n                    content: params.content,\n                    sessionId: params.sessionId || sessionId,\n                    operation: params.operation,\n                    processIndicator: params.processIndicator,\n                    interactiveComponent: params.interactiveComponent\n                });\n            },\n            updateInteractiveComponent: async (params)=>{\n                return await updateInteractiveComponent({\n                    messageId: params.messageId,\n                    status: params.status,\n                    result: params.result\n                });\n            },\n            createFile: async (params)=>{\n                return await createFile({\n                    name: params.name,\n                    type: params.type,\n                    projectId: params.projectId,\n                    content: params.content,\n                    extension: params.extension,\n                    platform: params.platform,\n                    size: params.size\n                });\n            },\n            getAllPosts: async ()=>{\n                return allPosts || [];\n            }\n        };\n    };\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        // Check session limit before processing\n        if (!canAddMessages()) {\n            console.warn(\"Cannot send message: Session limit reached\");\n            // Add a terminal feedback message about the limit\n            await storeChatMessage({\n                role: \"terminal\",\n                content: \"[\".concat(new Date().toLocaleTimeString('en-US', {\n                    hour12: false,\n                    hour: '2-digit',\n                    minute: '2-digit',\n                    second: '2-digit'\n                }), \"] \\uD83D\\uDEA8 Message not sent: Session limit reached (500 messages)\\nPlease start a new session to continue chatting.\"),\n                sessionId\n            });\n            return;\n        }\n        if (message.trim() && !isLoading) {\n            const messageContent = message.trim();\n            console.log('💬 User submitting message:', messageContent);\n            setMessage(\"\");\n            // Check if this is an agent command when an agent is active\n            if (activeAgentId && !messageContent.startsWith('/')) {\n                console.log('🤖 Routing to active agent:', activeAgentId);\n                try {\n                    var _lastMessage_processIndicator;\n                    console.log(\"\\uD83E\\uDD16 Executing agent \".concat(activeAgentId, \" with message: \").concat(messageContent));\n                    // Create convex mutations for the agent\n                    const convexMutations = createConvexMutations();\n                    // Check if the last message was an agent waiting for input\n                    const lastMessage = messages && messages.length > 0 ? messages[messages.length - 1] : null;\n                    const isFollowUpToWaitingAgent = lastMessage && lastMessage.role === 'assistant' && ((_lastMessage_processIndicator = lastMessage.processIndicator) === null || _lastMessage_processIndicator === void 0 ? void 0 : _lastMessage_processIndicator.type) === 'waiting';\n                    console.log('Pre-execution state:', {\n                        lastMessage: lastMessage ? {\n                            role: lastMessage.role,\n                            processIndicator: lastMessage.processIndicator,\n                            contentPreview: lastMessage.content.substring(0, 50)\n                        } : null,\n                        isFollowUpToWaitingAgent\n                    });\n                    // Find the active agent and its default tool\n                    const activeAgent = agents.find((agent)=>agent.id === activeAgentId);\n                    if (activeAgent && activeAgent.tools.length > 0) {\n                        const defaultTool = activeAgent.tools[0]; // Use the first tool as default\n                        // ✅ FIX #1: Always store the user message first, regardless of agent result\n                        await storeChatMessage({\n                            role: \"user\",\n                            content: messageContent,\n                            sessionId,\n                            processIndicator: isFollowUpToWaitingAgent ? {\n                                type: 'continuing',\n                                processType: 'file-creation',\n                                color: 'blue'\n                            } : undefined\n                        });\n                        // Execute the agent tool\n                        const result = await executeAgentTool(activeAgentId, defaultTool.id, messageContent, convexMutations, sessionId);\n                        // Handle empty results from interactive components\n                        if (!result || result.trim() === \"\") {\n                            console.log('Agent returned empty result - this is expected for interactive components');\n                            // User message was already stored above - interactive component handles the UI\n                            return;\n                        }\n                        // Check if result indicates waiting for user input (project selection)\n                        const isWaitingForInput = result.includes(\"🎯 Select a project:\") || result.includes(\"💡 **Next message:** Just type your selection!\") || result.includes(\"Which Project?\") || result.includes(\"Available Projects:\");\n                        // Check if result indicates successful completion\n                        const isCompletionResponse = result.includes(\"✅ **File Created Successfully!**\") || result.includes(\"File Created Successfully!\") || result.includes(\"**Next Steps:**\") || result.includes(\"Next Steps:\");\n                        console.log('Agent Execution Debug:', {\n                            activeAgentId,\n                            result: result.substring(0, 200) + '...',\n                            isWaitingForInput,\n                            isCompletionResponse,\n                            isFollowUpToWaitingAgent,\n                            hasSelectProject: result.includes(\"🎯 Select a project:\"),\n                            hasNextMessage: result.includes(\"💡 **Next message:** Just type your selection!\"),\n                            hasWhichProject: result.includes(\"Which Project?\"),\n                            hasAvailableProjects: result.includes(\"Available Projects:\"),\n                            hasFileCreated: result.includes(\"✅ **File Created Successfully!**\"),\n                            hasNextSteps: result.includes(\"**Next Steps:**\")\n                        });\n                        if (isWaitingForInput) {\n                            console.log('Setting active agent process for file creation');\n                            setActiveAgentProcess({\n                                agentId: activeAgentId,\n                                processType: 'file-creation',\n                                timestamp: Date.now()\n                            });\n                        } else {\n                            console.log('Clearing active agent process - agent completed');\n                            // Clear active process when agent completes\n                            setActiveAgentProcess(null);\n                        }\n                        // Store agent result with process indicators (user message already stored above)\n                        await storeChatMessage({\n                            role: \"assistant\",\n                            content: \"\\uD83E\\uDD16 **\".concat(activeAgent.name, \" Agent Result:**\\n\\n\").concat(result),\n                            sessionId,\n                            processIndicator: isWaitingForInput || isCompletionResponse || isFollowUpToWaitingAgent ? {\n                                type: 'waiting',\n                                processType: 'file-creation',\n                                color: 'green'\n                            } : undefined\n                        });\n                        // Debug log for what processIndicator was set\n                        console.log('StoreChatMessage Debug:', {\n                            messageType: 'assistant',\n                            willHaveProcessIndicator: !!(isWaitingForInput || isCompletionResponse || isFollowUpToWaitingAgent),\n                            isWaitingForInput,\n                            isCompletionResponse,\n                            isFollowUpToWaitingAgent,\n                            resultSnippet: result.substring(0, 100)\n                        });\n                        return;\n                    }\n                } catch (error) {\n                    console.error('Agent execution error:', error);\n                    // Store the user message and error\n                    await storeChatMessage({\n                        role: \"user\",\n                        content: messageContent,\n                        sessionId\n                    });\n                    await storeChatMessage({\n                        role: \"assistant\",\n                        content: \"❌ Agent execution failed: \".concat(error instanceof Error ? error.message : 'Unknown error'),\n                        sessionId\n                    });\n                    return;\n                }\n            }\n            // Check if this looks like a natural language MCP query\n            if (mcpConnected && isMCPQuery(messageContent)) {\n                try {\n                    const mcpResponse = await processNaturalLanguage(messageContent);\n                    if (mcpResponse.success && mcpResponse.content && mcpResponse.content.length > 0) {\n                        // Extract the actual text content from the MCP response\n                        const textContent = mcpResponse.content[0].text;\n                        // Strip markdown formatting and convert to plain text\n                        const plainText = stripMarkdown(textContent);\n                        // Send the MCP response with clean text content\n                        await sendMessage(\"\\uD83E\\uDD16 MCP Analysis:\\n\\n\".concat(plainText));\n                    } else {\n                        await sendMessage(messageContent);\n                    }\n                } catch (error) {\n                    console.error('MCP Error:', error);\n                    // Fall back to regular chat\n                    await sendMessage(messageContent);\n                }\n            } else {\n                // Regular chat message - add instruction context if available\n                let contextualMessage = messageContent;\n                if (instructionContext) {\n                    contextualMessage = \"\".concat(instructionContext, \"\\n\\n---\\n\\n\").concat(messageContent);\n                }\n                // Always use streaming thinking for all messages (thinking enabled by default)\n                await sendMessageWithStreaming(contextualMessage, messageContent);\n            }\n        }\n    };\n    const handleKeyDown = (e)=>{\n        if (e.key === 'Enter' && !e.shiftKey) {\n            e.preventDefault();\n            handleSubmit(e);\n        }\n    };\n    const handleInputChange = (e)=>{\n        const value = e.target.value;\n        setMessage(value);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex-1 flex flex-col min-h-0\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: scrollRef,\n                className: \"flex-1 overflow-y-auto bg-[#0e0e0e] p-2 pb-8 min-h-0 scrollbar-hidden\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"font-mono text-xs space-y-2 min-h-full\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-[#cccccc] space-y-1 mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: \"EAC Financial Dashboard - AI Assistant\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 579,\n                                    columnNumber: 13\n                                }, this),\n                                mcpError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#f48771] text-xs\",\n                                    children: [\n                                        \"MCP Error: \",\n                                        mcpError\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 581,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#858585] mt-2\",\n                                    children: \"AI Assistant ready for EAC project questions.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 583,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#858585] text-xs\",\n                                    children: [\n                                        \"Session: \",\n                                        sessionId.slice(-8)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 584,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#858585] text-xs\",\n                                    children: [\n                                        \"Messages: \",\n                                        messageCount,\n                                        \"/500\",\n                                        isNearSessionLimit && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-[#f48771] ml-2\",\n                                            children: \"⚠️ Approaching limit\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                            lineNumber: 590,\n                                            columnNumber: 17\n                                        }, this),\n                                        isAtSessionLimit && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-[#f48771] ml-2\",\n                                            children: \"\\uD83D\\uDEA8 Session full\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                            lineNumber: 593,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 587,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 578,\n                            columnNumber: 11\n                        }, this),\n                        messages === null || messages === void 0 ? void 0 : messages.map((msg, index)=>{\n                            var _msg_processIndicator_processType, _msg_processIndicator, _msg_interactiveComponent_data, _msg_interactiveComponent_data1, _msg_interactiveComponent_result, _msg_interactiveComponent_data2, _msg_interactiveComponent_data3, _msg_interactiveComponent_data4, _msg_interactiveComponent_result1, _msg_interactiveComponent_data5, _msg_interactiveComponent_data6, _msg_interactiveComponent_data7;\n                            // Use the stored processIndicator for visual continuity\n                            const hasProcessIndicator = msg.processIndicator;\n                            const isUserProcessMessage = hasProcessIndicator && msg.role === 'user' && hasProcessIndicator.type === 'continuing';\n                            const isAgentProcessMessage = hasProcessIndicator && msg.role === 'assistant' && hasProcessIndicator.type === 'waiting';\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1\",\n                                children: [\n                                    msg.role === 'user' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#007acc] \".concat(isUserProcessMessage ? 'border-l-4 border-[#0078d4] pl-3' : ''),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[#007acc]\",\n                                                children: \"$ user:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 611,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"ml-1 text-[#cccccc]\",\n                                                children: msg.content\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 612,\n                                                columnNumber: 21\n                                            }, this),\n                                            isUserProcessMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-[10px] text-[#0078d4] mt-1 opacity-80\",\n                                                children: [\n                                                    \"↳ Continuing \",\n                                                    (_msg_processIndicator = msg.processIndicator) === null || _msg_processIndicator === void 0 ? void 0 : (_msg_processIndicator_processType = _msg_processIndicator.processType) === null || _msg_processIndicator_processType === void 0 ? void 0 : _msg_processIndicator_processType.replace('-', ' '),\n                                                    \"...\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 614,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 610,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.role === 'assistant' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#4ec9b0] \".concat(isAgentProcessMessage ? 'border-l-4 border-[#4ec9b0] pl-3' : ''),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[#4ec9b0]\",\n                                                children: \"\\uD83E\\uDD16 assistant:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 622,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"ml-1 text-[#cccccc] whitespace-pre-wrap\",\n                                                children: msg.content\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 623,\n                                                columnNumber: 21\n                                            }, this),\n                                            msg.interactiveComponent && (msg.interactiveComponent.status === 'pending' || msg.interactiveComponent.status === 'completed') && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-3 ml-1\",\n                                                children: [\n                                                    msg.interactiveComponent.type === 'project_selector' && !((_msg_interactiveComponent_data = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data === void 0 ? void 0 : _msg_interactiveComponent_data.projectNameInput) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_projectSelector__WEBPACK_IMPORTED_MODULE_13__.ProjectSelector, {\n                                                        fileDetails: (_msg_interactiveComponent_data1 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data1 === void 0 ? void 0 : _msg_interactiveComponent_data1.fileDetails,\n                                                        disabled: msg.interactiveComponent.status === 'completed',\n                                                        selectedProject: msg.interactiveComponent.status === 'completed' ? (_msg_interactiveComponent_result = msg.interactiveComponent.result) === null || _msg_interactiveComponent_result === void 0 ? void 0 : _msg_interactiveComponent_result.selectedProject : undefined,\n                                                        onProjectSelected: async (project)=>{\n                                                            try {\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        selectedProject: project\n                                                                    }\n                                                                });\n                                                                // Continue the file creation process\n                                                                const convexMutations = createConvexMutations();\n                                                                const fileCreatorAgent = agents.find((a)=>a.id === 'file-creator');\n                                                                if (fileCreatorAgent) {\n                                                                    var _result_trim;\n                                                                    // Simulate user input for project selection\n                                                                    const projectSelectionInput = \"Add it to \".concat(project.name);\n                                                                    // Send user message showing the selection\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: \"Selected project: \".concat(project.name),\n                                                                        sessionId: sessionId,\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'project_selection',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    // Execute the agent with the selection\n                                                                    console.log('🚀 Executing agent with project selection:', projectSelectionInput);\n                                                                    console.log('🔧 Agent details:', {\n                                                                        agentId: fileCreatorAgent.id,\n                                                                        toolId: fileCreatorAgent.tools[0].id,\n                                                                        toolName: fileCreatorAgent.tools[0].name,\n                                                                        convexMutationsAvailable: {\n                                                                            createFile: !!convexMutations.createFile,\n                                                                            getProjects: !!convexMutations.getProjects,\n                                                                            storeChatMessage: !!convexMutations.storeChatMessage\n                                                                        }\n                                                                    });\n                                                                    const result = await executeAgentTool(fileCreatorAgent.id, fileCreatorAgent.tools[0].id, projectSelectionInput, convexMutations, sessionId);\n                                                                    console.log('📥 Agent execution result:', result);\n                                                                    console.log('📏 Result length:', (result === null || result === void 0 ? void 0 : result.length) || 0);\n                                                                    console.log('📋 Result content preview:', result === null || result === void 0 ? void 0 : result.substring(0, 100));\n                                                                    console.log('🔍 Result type:', typeof result);\n                                                                    console.log('🎯 Is result truthy:', !!result);\n                                                                    console.log('🎯 Is result empty string:', result === \"\");\n                                                                    console.log('🎯 Result trimmed length:', (result === null || result === void 0 ? void 0 : (_result_trim = result.trim()) === null || _result_trim === void 0 ? void 0 : _result_trim.length) || 0);\n                                                                    // Only store non-empty results\n                                                                    if (result && result.trim() !== \"\") {\n                                                                        console.log('✅ Storing success message to chat...');\n                                                                        console.log('📋 Current session ID:', sessionId);\n                                                                        console.log('📋 Message content length:', result.length);\n                                                                        // Store the agent's response\n                                                                        const storedMessage = await storeChatMessage({\n                                                                            role: 'assistant',\n                                                                            content: result,\n                                                                            sessionId: sessionId,\n                                                                            processIndicator: {\n                                                                                type: 'waiting',\n                                                                                processType: 'file_creation_complete',\n                                                                                color: 'green'\n                                                                            }\n                                                                        });\n                                                                        console.log('✅ Success message stored to chat!');\n                                                                        console.log('📋 Stored message result:', storedMessage);\n                                                                        // Wait a moment and check if the message appears in the messages array\n                                                                        setTimeout(()=>{\n                                                                            var _messages__content, _messages_, _messages_1;\n                                                                            console.log('🔍 Messages after success storage:', {\n                                                                                totalMessages: (messages === null || messages === void 0 ? void 0 : messages.length) || 0,\n                                                                                lastMessage: (messages === null || messages === void 0 ? void 0 : (_messages_ = messages[messages.length - 1]) === null || _messages_ === void 0 ? void 0 : (_messages__content = _messages_.content) === null || _messages__content === void 0 ? void 0 : _messages__content.substring(0, 50)) + '...',\n                                                                                lastMessageRole: messages === null || messages === void 0 ? void 0 : (_messages_1 = messages[messages.length - 1]) === null || _messages_1 === void 0 ? void 0 : _messages_1.role,\n                                                                                sessionId: sessionId\n                                                                            });\n                                                                        }, 1000);\n                                                                    } else {\n                                                                        console.log('⚠️ Agent returned empty result after project selection');\n                                                                    }\n                                                                }\n                                                            } catch (error) {\n                                                                console.error('Error handling project selection:', error);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ Error processing project selection. Please try again.'\n                                                                });\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ File creation cancelled. You can start a new file creation request anytime.'\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling project selection:', error);\n                                                            }\n                                                        },\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 629,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    msg.interactiveComponent.type === 'project_selector' && ((_msg_interactiveComponent_data2 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data2 === void 0 ? void 0 : _msg_interactiveComponent_data2.projectNameInput) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_projectNameInput__WEBPACK_IMPORTED_MODULE_12__.ProjectNameInput, {\n                                                        placeholder: (_msg_interactiveComponent_data3 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data3 === void 0 ? void 0 : _msg_interactiveComponent_data3.placeholder,\n                                                        defaultValue: (_msg_interactiveComponent_data4 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data4 === void 0 ? void 0 : _msg_interactiveComponent_data4.defaultValue,\n                                                        onProjectNameSubmitted: async (projectName)=>{\n                                                            try {\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        projectName\n                                                                    }\n                                                                });\n                                                                // Continue the project creation process\n                                                                const convexMutations = createConvexMutations();\n                                                                const projectCreatorAgent = agents.find((a)=>a.id === 'project-creator');\n                                                                if (projectCreatorAgent) {\n                                                                    // Send user message showing the project name\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: \"Project name: \".concat(projectName),\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'project_name_input',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    // Execute the agent with the project name\n                                                                    console.log('🚀 Executing agent with project name:', projectName);\n                                                                    const result = await executeAgentTool(projectCreatorAgent.id, projectCreatorAgent.tools[0].id, projectName, convexMutations);\n                                                                    console.log('📥 Agent execution result:', result);\n                                                                    // Only store non-empty results\n                                                                    if (result && result.trim() !== \"\") {\n                                                                        console.log('✅ Storing project creation success message...');\n                                                                        // Store the agent's response\n                                                                        await storeChatMessage({\n                                                                            role: 'assistant',\n                                                                            content: result,\n                                                                            sessionId: sessionId,\n                                                                            processIndicator: {\n                                                                                type: 'waiting',\n                                                                                processType: 'project_creation_complete',\n                                                                                color: 'green'\n                                                                            }\n                                                                        });\n                                                                        console.log('✅ Project creation success message stored!');\n                                                                    } else {\n                                                                        console.log('⚠️ Agent returned empty result after project name input');\n                                                                    }\n                                                                }\n                                                            } catch (error) {\n                                                                console.error('Error handling project name input:', error);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ Error processing project name. Please try again.'\n                                                                });\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ Project creation cancelled. You can start a new project creation request anytime.'\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling project name input:', error);\n                                                            }\n                                                        },\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 750,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    msg.interactiveComponent.type === 'file_type_selector' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_fileTypeSelector__WEBPACK_IMPORTED_MODULE_11__.FileTypeSelector, {\n                                                        onFileTypeSelected: async (fileType)=>{\n                                                            try {\n                                                                // Create a serializable version of the fileType without React components\n                                                                const serializableFileType = {\n                                                                    type: fileType.type,\n                                                                    extension: fileType.extension,\n                                                                    description: fileType.description,\n                                                                    platform: fileType.platform,\n                                                                    available: fileType.available\n                                                                };\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        fileType: serializableFileType\n                                                                    }\n                                                                });\n                                                                // Continue the file creation process\n                                                                const convexMutations = createConvexMutations();\n                                                                const fileCreatorAgent = agents.find((a)=>a.id === 'file-creator');\n                                                                if (fileCreatorAgent) {\n                                                                    // Send user message showing the file type selection\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: \"Selected file type: \".concat(fileType.description),\n                                                                        sessionId: sessionId,\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'file_type_selection',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    // Execute the agent with the file type selection\n                                                                    console.log('🚀 Executing file creator agent with file type:', fileType);\n                                                                    const result = await executeAgentTool(fileCreatorAgent.id, fileCreatorAgent.tools[0].id, \"File type: \".concat(fileType.type), convexMutations);\n                                                                    console.log('📥 File creator agent result:', result);\n                                                                    // Only store non-empty results\n                                                                    if (result && result.trim() !== \"\") {\n                                                                        console.log('✅ Storing file type continuation message...');\n                                                                        // Store the agent's response\n                                                                        await storeChatMessage({\n                                                                            role: 'assistant',\n                                                                            content: result,\n                                                                            sessionId: sessionId,\n                                                                            processIndicator: {\n                                                                                type: 'waiting',\n                                                                                processType: 'file_type_continue',\n                                                                                color: 'green'\n                                                                            }\n                                                                        });\n                                                                        console.log('✅ File type continuation message stored!');\n                                                                    } else {\n                                                                        console.log('⚠️ Agent returned empty result after file type selection');\n                                                                    }\n                                                                }\n                                                            } catch (error) {\n                                                                console.error('Error handling file type selection:', error);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ Error processing file type selection. Please try again.',\n                                                                    sessionId: sessionId\n                                                                });\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ File creation cancelled. You can start a new file creation request anytime.',\n                                                                    sessionId\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling file type selection:', error);\n                                                            }\n                                                        },\n                                                        disabled: msg.interactiveComponent.status === 'completed',\n                                                        selectedFileType: msg.interactiveComponent.status === 'completed' ? (_msg_interactiveComponent_result1 = msg.interactiveComponent.result) === null || _msg_interactiveComponent_result1 === void 0 ? void 0 : _msg_interactiveComponent_result1.fileType : undefined,\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 836,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    msg.interactiveComponent.type === 'file_name_input' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_fileNameInput__WEBPACK_IMPORTED_MODULE_10__.FileNameInput, {\n                                                        placeholder: (_msg_interactiveComponent_data5 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data5 === void 0 ? void 0 : _msg_interactiveComponent_data5.placeholder,\n                                                        defaultValue: (_msg_interactiveComponent_data6 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data6 === void 0 ? void 0 : _msg_interactiveComponent_data6.defaultValue,\n                                                        fileType: (_msg_interactiveComponent_data7 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data7 === void 0 ? void 0 : _msg_interactiveComponent_data7.fileType,\n                                                        onFileNameSubmitted: async (fileName)=>{\n                                                            try {\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        fileName\n                                                                    }\n                                                                });\n                                                                // Continue the file creation process\n                                                                const convexMutations = createConvexMutations();\n                                                                const fileCreatorAgent = agents.find((a)=>a.id === 'file-creator');\n                                                                if (fileCreatorAgent) {\n                                                                    // Execute the agent with the file name FIRST\n                                                                    console.log('🚀 Executing file creator agent with file name:', fileName);\n                                                                    const result = await executeAgentTool(fileCreatorAgent.id, fileCreatorAgent.tools[0].id, fileName, convexMutations);\n                                                                    // THEN send user message showing the file name (after agent processes it)\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: fileName,\n                                                                        sessionId: sessionId,\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'file_name_input',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    console.log('📥 File creator agent result:', result);\n                                                                    // Only store non-empty results\n                                                                    if (result && result.trim() !== \"\") {\n                                                                        console.log('✅ Storing file creation continuation message...');\n                                                                        // Store the agent's response\n                                                                        await storeChatMessage({\n                                                                            role: 'assistant',\n                                                                            content: result,\n                                                                            sessionId: sessionId,\n                                                                            processIndicator: {\n                                                                                type: 'waiting',\n                                                                                processType: 'file_creation_continue',\n                                                                                color: 'green'\n                                                                            }\n                                                                        });\n                                                                        console.log('✅ File creation continuation message stored!');\n                                                                    } else {\n                                                                        console.log('⚠️ Agent returned empty result after file name input');\n                                                                    }\n                                                                }\n                                                            } catch (error) {\n                                                                console.error('Error handling file name input:', error);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ Error processing file name. Please try again.',\n                                                                    sessionId: sessionId\n                                                                });\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ File creation cancelled. You can start a new file creation request anytime.',\n                                                                    sessionId\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling file name input:', error);\n                                                            }\n                                                        },\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 934,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 627,\n                                                columnNumber: 23\n                                            }, this),\n                                            isAgentProcessMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-[10px] mt-1 opacity-80\",\n                                                children: (()=>{\n                                                    // Check for successful file creation with specific file info\n                                                    if (msg.content.includes(\"The comprehensive instruction document has been created and saved to your files.\")) {\n                                                        // Extract filename from the message\n                                                        const fileMatch = msg.content.match(/📄 \\*\\*File:\\*\\* `([^`]+)`/);\n                                                        const fileName = fileMatch ? fileMatch[1] : null;\n                                                        if (fileName) {\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: ()=>{\n                                                                    const { projectFiles } = _store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore.getState();\n                                                                    const file = projectFiles.find((f)=>f.name === fileName);\n                                                                    if (file) {\n                                                                        _store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore.getState().openTab(file);\n                                                                    }\n                                                                },\n                                                                className: \"text-[#007acc] hover:text-[#4ec9b0] hover:underline cursor-pointer transition-colors\",\n                                                                children: \"↳ Click here to view your file...\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                                lineNumber: 1037,\n                                                                columnNumber: 33\n                                                            }, this);\n                                                        }\n                                                    }\n                                                    // Check for other success indicators\n                                                    if (msg.content.includes(\"✅ **File Created Successfully!**\") || msg.content.includes(\"✅ **Project Created Successfully!**\") || msg.content.includes(\"✅ **Template Applied Successfully!**\")) {\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-[#4ec9b0]\",\n                                                            children: \"↳ Process completed successfully!\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                            lineNumber: 1057,\n                                                            columnNumber: 36\n                                                        }, this);\n                                                    }\n                                                    // Default waiting message\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-[#4ec9b0]\",\n                                                        children: \"↳ Agent waiting for your input...\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 1061,\n                                                        columnNumber: 34\n                                                    }, this);\n                                                })()\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 1027,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 621,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.role === 'thinking' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#d4d4aa]\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[#d4d4aa]\",\n                                                children: \"\\uD83E\\uDDE0 thinking:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 1069,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"ml-1 text-[#cccccc] whitespace-pre-wrap text-xs font-mono italic\",\n                                                children: msg.content\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 1070,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1068,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.role === 'terminal' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#858585]\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-[#585858] whitespace-pre-wrap bg-[#1a1a1a] p-1 rounded text-[10px] border-l-2 border-[#333]\",\n                                            children: msg.content\n                                        }, void 0, false, {\n                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                            lineNumber: 1077,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1076,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, index, true, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 608,\n                                columnNumber: 15\n                            }, this);\n                        }),\n                        isStreamingThinking && streamingThinking && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-1\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-[#d4d4aa]\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[#d4d4aa]\",\n                                        children: \"\\uD83E\\uDDE0 thinking:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1090,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"ml-1 text-[#cccccc] whitespace-pre-wrap text-xs font-mono italic\",\n                                        children: streamingThinking\n                                    }, void 0, false, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1091,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 1089,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 1088,\n                            columnNumber: 13\n                        }, this),\n                        isLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-[#4ec9b0]\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-[#4ec9b0]\",\n                                    children: \"\\uD83E\\uDD16 assistant:\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 1101,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"ml-1 text-[#858585]\",\n                                    children: \"thinking...\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 1102,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 1100,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                    lineNumber: 576,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                lineNumber: 572,\n                columnNumber: 7\n            }, this),\n            agentProgress && agentProgress.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-[#0e0e0e] p-2 font-mono text-xs flex-shrink-0\",\n                children: agentProgress.map((progress)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-2 last:mb-0\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between mb-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[#007acc] text-xs\",\n                                        children: [\n                                            \"\\uD83E\\uDD16 \",\n                                            progress.agentType,\n                                            \" Agent\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1114,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[#858585] text-xs\",\n                                        children: [\n                                            progress.percentage,\n                                            \"%\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1117,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 1113,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-64 bg-[#333] rounded-full h-1.5 relative overflow-hidden\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-[#007acc] h-1.5 rounded-full transition-all duration-300 absolute left-0 top-0\",\n                                    style: {\n                                        width: \"\".concat(Math.min(100, Math.max(0, progress.percentage)), \"%\")\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 1122,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 1121,\n                                columnNumber: 15\n                            }, this),\n                            progress.status && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-[#858585] text-xs mt-1\",\n                                children: progress.status\n                            }, void 0, false, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 1128,\n                                columnNumber: 17\n                            }, this)\n                        ]\n                    }, progress._id, true, {\n                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                        lineNumber: 1112,\n                        columnNumber: 13\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                lineNumber: 1110,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-[#0e0e0e] p-2 font-mono text-xs flex-shrink-0\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-[#007acc]\",\n                            children: \"$ user:\"\n                        }, void 0, false, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 1140,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                            onSubmit: handleSubmit,\n                            className: \"flex-1 ml-1\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                ref: inputRef,\n                                type: \"text\",\n                                value: message,\n                                onChange: handleInputChange,\n                                onKeyDown: handleKeyDown,\n                                placeholder: isAtSessionLimit ? \"Session limit reached - Start new session to continue...\" : isLoading ? \"AI is thinking...\" : \"Ask about your EAC project...\",\n                                disabled: isLoading || isAtSessionLimit,\n                                className: \"w-full bg-transparent border-none outline-none placeholder:text-[#858585] disabled:opacity-50 disabled:cursor-not-allowed caret-[#cccccc] \".concat(isAtSessionLimit ? 'text-[#f48771]' : 'text-[#cccccc]')\n                            }, void 0, false, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 1142,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 1141,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                    lineNumber: 1139,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                lineNumber: 1138,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n        lineNumber: 571,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatMessages, \"q4YUa0g09xtrHAy3cJT42GkMcKY=\", false, function() {\n    return [\n        _clerk_nextjs__WEBPACK_IMPORTED_MODULE_14__.useUser,\n        _store_terminal_chat__WEBPACK_IMPORTED_MODULE_6__.useChatStore,\n        _store_terminal_session__WEBPACK_IMPORTED_MODULE_7__.useSessionStore,\n        _lib_hooks_useChat__WEBPACK_IMPORTED_MODULE_2__.useChat,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery,\n        _lib_hooks_useMCP__WEBPACK_IMPORTED_MODULE_4__.useMCP,\n        _store__WEBPACK_IMPORTED_MODULE_5__.useAgentStore,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery,\n        _lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructionContext,\n        _lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructions,\n        _store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore\n    ];\n});\n_c = ChatMessages;\nvar _c;\n$RefreshReg$(_c, \"ChatMessages\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9fY29tcG9uZW50cy90ZXJtaW5hbC9fY29tcG9uZW50cy9jaGF0TWVzc2FnZXMudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEseURBQXlEO0FBQ3pELDZGQUE2Rjs7O0FBSS9DO0FBQ0E7QUFDdUM7QUFDekM7QUFDWTtBQUNIO0FBQ007QUFDbkI7QUFDYTtBQUNNO0FBQ1g7QUFDTTtBQUNBO0FBQ0Y7QUFFN0MsU0FBU29COztJQUNkLE1BQU1DLFlBQVlQLDZDQUFNQSxDQUFpQjtJQUN6QyxNQUFNUSxXQUFXUiw2Q0FBTUEsQ0FBbUI7SUFDMUMsTUFBTVMsc0JBQXNCVCw2Q0FBTUEsQ0FBYyxJQUFJVTtJQUNwRCxNQUFNLENBQUNDLFNBQVNDLFdBQVcsR0FBR1gsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDWSxvQkFBb0JDLHNCQUFzQixHQUFHYiwrQ0FBUUEsQ0FJbEQ7SUFFViwrQ0FBK0M7SUFDL0NGLGdEQUFTQTtrQ0FBQztZQUNSZ0IsUUFBUUMsR0FBRyxDQUFDLCtCQUErQkg7UUFDN0M7aUNBQUc7UUFBQ0E7S0FBbUI7SUFHdkIsTUFBTSxFQUFFSSxJQUFJLEVBQUVDLFFBQVEsRUFBRSxHQUFHdkIsdURBQU9BO0lBQ2xDLE1BQU0sRUFBRXdCLHFCQUFxQixFQUFFQyxtQkFBbUIsRUFBRUMsWUFBWSxFQUFFLEdBQUc1QixrRUFBWUE7SUFDakYsTUFBTSxFQUFFNkIsZUFBZSxFQUFFLEdBQUc1Qix3RUFBZUE7SUFDM0MsTUFBTSxFQUNKNkIsUUFBUSxFQUNSQyxXQUFXQyxXQUFXLEVBQ3RCQyxXQUFXLEVBQ1hDLHdCQUF3QixFQUN4QkMsU0FBUyxFQUNUQyxnQkFBZ0IsRUFDaEJULHFCQUFxQlUsbUJBQW1CLEVBQ3hDQyxpQkFBaUIsRUFDakJDLG1CQUFtQixFQUNuQkMsWUFBWSxFQUNaQyxrQkFBa0IsRUFDbEJDLGdCQUFnQixFQUNoQkMsY0FBYyxFQUNkQyxnQkFBZ0IsRUFDaEJD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Ozs7Ozs7Ozs7Ozs0QkFHekVGLFNBQVM5RyxNQUFNLGtCQUNkLDhEQUFDNkQ7Z0NBQUlDLFdBQVU7MENBQ1pnRCxTQUFTOUcsTUFBTTs7Ozs7Ozt1QkFqQlo4RyxTQUFTaEMsR0FBRzs7Ozs7Ozs7OzswQkEwQjVCLDhEQUFDakI7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNEO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0c7NEJBQUtILFdBQVU7c0NBQWlCOzs7Ozs7c0NBQ2pDLDhEQUFDd0Q7NEJBQUtDLFVBQVV6Rzs0QkFBY2dELFdBQVU7c0NBQ3RDLDRFQUFDMEQ7Z0NBQ0N6RCxLQUFLbEs7Z0NBQ0w0RyxNQUFLO2dDQUNMa0QsT0FBTzNKO2dDQUNQeU4sVUFBVS9EO2dDQUNWZ0UsV0FBV25FO2dDQUNYa0MsYUFDRWpLLG1CQUNJLDZEQUNBWCxZQUNFLHNCQUNBO2dDQUVSNkosVUFBVTdKLGFBQWFXO2dDQUN2QnNJLFdBQVcsNklBRVYsT0FEQ3RJLG1CQUFtQixtQkFBbUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRdEQ7R0F4bkNnQjdCOztRQWlCYVgsbURBQU9BO1FBQ21DRiw4REFBWUE7UUFDckRDLG9FQUFlQTtRQWlCdkNQLHVEQUFPQTtRQUdXVSxrREFBUUE7UUFPMUJQLHFEQUFNQTtRQUcwREMsaURBQWFBO1FBQ3ZESyxxREFBV0E7UUFDSEEscURBQVdBO1FBQzFCQSxxREFBV0E7UUFDVEEscURBQVdBO1FBQ0VBLHFEQUFXQTtRQUN2QkEscURBQVdBO1FBQ2RBLHFEQUFXQTtRQUNLQSxxREFBV0E7UUFDN0JDLGtEQUFRQTtRQUNMQSxrREFBUUE7UUFDRFQsNkVBQXFCQTtRQUNMQyx1RUFBZUE7UUFDaENHLGtEQUFjQTs7O0tBOUQxQmMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXR0aGV3c2ltb24vUHJvamVjdHMvZWFjL2VhYy9hcHAvX2NvbXBvbmVudHMvdGVybWluYWwvX2NvbXBvbmVudHMvY2hhdE1lc3NhZ2VzLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTaW1wbGlmaWVkIENoYXQgTWVzc2FnZXMgQ29tcG9uZW50IC0gTm8gU2xhc2ggQ29tbWFuZHNcbi8vIC9Vc2Vycy9tYXR0aGV3c2ltb24vUHJvamVjdHMvZWFjL2VhYy9hcHAvX2NvbXBvbmVudHMvdGVybWluYWwvX2NvbXBvbmVudHMvY2hhdE1lc3NhZ2VzLnRzeFxuXG5cInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgYXBpIH0gZnJvbSBcIkAvY29udmV4L19nZW5lcmF0ZWQvYXBpXCI7XG5pbXBvcnQgeyB1c2VDaGF0IH0gZnJvbSBcIkAvbGliL2hvb2tzL3VzZUNoYXRcIjtcbmltcG9ydCB7IHVzZUluc3RydWN0aW9uQ29udGV4dCwgdXNlSW5zdHJ1Y3Rpb25zIH0gZnJvbSBcIkAvbGliL2hvb2tzL3VzZUluc3RydWN0aW9uc1wiO1xuaW1wb3J0IHsgdXNlTUNQIH0gZnJvbSBcIkAvbGliL2hvb2tzL3VzZU1DUFwiO1xuaW1wb3J0IHsgdXNlQWdlbnRTdG9yZSwgdXNlRWRpdG9yU3RvcmUgfSBmcm9tIFwiQC9zdG9yZVwiO1xuaW1wb3J0IHsgdXNlQ2hhdFN0b3JlIH0gZnJvbSBcIkAvc3RvcmUvdGVybWluYWwvY2hhdFwiO1xuaW1wb3J0IHsgdXNlU2Vzc2lvblN0b3JlIH0gZnJvbSBcIkAvc3RvcmUvdGVybWluYWwvc2Vzc2lvblwiO1xuaW1wb3J0IHsgdXNlVXNlciB9IGZyb20gXCJAY2xlcmsvbmV4dGpzXCI7XG5pbXBvcnQgeyB1c2VNdXRhdGlvbiwgdXNlUXVlcnkgfSBmcm9tIFwiY29udmV4L3JlYWN0XCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBGaWxlTmFtZUlucHV0IH0gZnJvbSBcIi4vZmlsZU5hbWVJbnB1dFwiO1xuaW1wb3J0IHsgRmlsZVR5cGVTZWxlY3RvciB9IGZyb20gXCIuL2ZpbGVUeXBlU2VsZWN0b3JcIjtcbmltcG9ydCB7IFByb2plY3ROYW1lSW5wdXQgfSBmcm9tIFwiLi9wcm9qZWN0TmFtZUlucHV0XCI7XG5pbXBvcnQgeyBQcm9qZWN0U2VsZWN0b3IgfSBmcm9tIFwiLi9wcm9qZWN0U2VsZWN0b3JcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIENoYXRNZXNzYWdlcygpIHtcbiAgY29uc3Qgc2Nyb2xsUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IHByb2Nlc3NlZE9wZXJhdGlvbnMgPSB1c2VSZWY8U2V0PHN0cmluZz4+KG5ldyBTZXQoKSk7XG4gIGNvbnN0IFttZXNzYWdlLCBzZXRNZXNzYWdlXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbYWN0aXZlQWdlbnRQcm9jZXNzLCBzZXRBY3RpdmVBZ2VudFByb2Nlc3NdID0gdXNlU3RhdGU8e1xuICAgIGFnZW50SWQ6IHN0cmluZztcbiAgICBwcm9jZXNzVHlwZTogc3RyaW5nO1xuICAgIHRpbWVzdGFtcDogbnVtYmVyO1xuICB9IHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gRGVidWcgbG9nZ2luZyBmb3IgYWN0aXZlQWdlbnRQcm9jZXNzIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnYWN0aXZlQWdlbnRQcm9jZXNzIGNoYW5nZWQ6JywgYWN0aXZlQWdlbnRQcm9jZXNzKTtcbiAgfSwgW2FjdGl2ZUFnZW50UHJvY2Vzc10pO1xuXG4gIFxuICBjb25zdCB7IHVzZXIsIGlzTG9hZGVkIH0gPSB1c2VVc2VyKCk7XG4gIGNvbnN0IHsgaW5pdGlhbGl6ZVVzZXJTZXNzaW9uLCBhZGRUZXJtaW5hbEZlZWRiYWNrLCBzZXRTZXNzaW9uSWQgfSA9IHVzZUNoYXRTdG9yZSgpO1xuICBjb25zdCB7IGFjdGl2ZVNlc3Npb25JZCB9ID0gdXNlU2Vzc2lvblN0b3JlKCk7XG4gIGNvbnN0IHsgXG4gICAgbWVzc2FnZXMsIFxuICAgIGlzTG9hZGluZzogY2hhdExvYWRpbmcsIFxuICAgIHNlbmRNZXNzYWdlLCBcbiAgICBzZW5kTWVzc2FnZVdpdGhTdHJlYW1pbmcsXG4gICAgc2Vzc2lvbklkLCBcbiAgICBzdG9yZUNoYXRNZXNzYWdlLCBcbiAgICBhZGRUZXJtaW5hbEZlZWRiYWNrOiB1c2VUZXJtaW5hbEZlZWRiYWNrLFxuICAgIHN0cmVhbWluZ1RoaW5raW5nLFxuICAgIGlzU3RyZWFtaW5nVGhpbmtpbmcsXG4gICAgbWVzc2FnZUNvdW50LFxuICAgIGlzTmVhclNlc3Npb25MaW1pdCxcbiAgICBpc0F0U2Vzc2lvbkxpbWl0LFxuICAgIGNhbkFkZE1lc3NhZ2VzLFxuICAgIGdldFNlc3Npb25TdGF0dXMsXG4gICAgc3RhcnROZXdTZXNzaW9uXG4gIH0gPSB1c2VDaGF0KCk7XG4gIFxuICAvLyBRdWVyeSBmb3IgYWdlbnQgcHJvZ3Jlc3NcbiAgY29uc3QgYWdlbnRQcm9ncmVzcyA9IHVzZVF1ZXJ5KGFwaS5jaGF0LmdldEFnZW50UHJvZ3Jlc3MsIHsgc2Vzc2lvbklkIH0pO1xuICBjb25zdCB7XG4gICAgaXNDb25uZWN0ZWQ6IG1jcENvbm5lY3RlZCxcbiAgICBpc0xvYWRpbmc6IG1jcExvYWRpbmcsXG4gICAgZXJyb3I6IG1jcEVycm9yLFxuICAgIGF2YWlsYWJsZVRvb2xzLFxuICAgIHByb2Nlc3NOYXR1cmFsTGFuZ3VhZ2UsXG4gIH0gPSB1c2VNQ1AoKTtcbiAgXG4gIC8vIEFnZW50IGV4ZWN1dGlvbiBhbmQgbXV0YXRpb25zXG4gIGNvbnN0IHsgYWdlbnRzLCBhY3RpdmVBZ2VudElkLCBzZXRBY3RpdmVBZ2VudCwgZXhlY3V0ZUFnZW50VG9vbCB9ID0gdXNlQWdlbnRTdG9yZSgpO1xuICBjb25zdCBjcmVhdGVJbnN0cnVjdGlvbiA9IHVzZU11dGF0aW9uKGFwaS5maWxlcy5jcmVhdGVJbnN0cnVjdGlvbkZpbGUpO1xuICBjb25zdCBlbnN1cmVJbnN0cnVjdGlvbnNQcm9qZWN0ID0gdXNlTXV0YXRpb24oYXBpLnByb2plY3RzLmVuc3VyZUluc3RydWN0aW9uc1Byb2plY3QpO1xuICBjb25zdCB1cHNlcnRQb3N0ID0gdXNlTXV0YXRpb24oYXBpLnNvY2lhbFBvc3RzLnVwc2VydFBvc3QpO1xuICBjb25zdCBzY2hlZHVsZVBvc3QgPSB1c2VNdXRhdGlvbihhcGkuc29jaWFsUG9zdHMuc2NoZWR1bGVQb3N0KTtcbiAgY29uc3QgY3JlYXRlQ29udGVudENyZWF0aW9uRmlsZSA9IHVzZU11dGF0aW9uKGFwaS5maWxlcy5jcmVhdGVDb250ZW50Q3JlYXRpb25GaWxlKTtcbiAgY29uc3QgY3JlYXRlUHJvamVjdCA9IHVzZU11dGF0aW9uKGFwaS5wcm9qZWN0cy5jcmVhdGVQcm9qZWN0KTtcbiAgY29uc3QgY3JlYXRlRmlsZSA9IHVzZU11dGF0aW9uKGFwaS5maWxlcy5jcmVhdGVGaWxlKTtcbiAgY29uc3QgdXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQgPSB1c2VNdXRhdGlvbihhcGkuY2hhdC51cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCk7XG4gIGNvbnN0IGFsbFBvc3RzID0gdXNlUXVlcnkoYXBpLnNvY2lhbFBvc3RzLmdldEFsbFBvc3RzLCB7fSk7XG4gIGNvbnN0IGFsbFByb2plY3RzID0gdXNlUXVlcnkoYXBpLnByb2plY3RzLmdldFByb2plY3RzLCB7fSk7XG4gIGNvbnN0IGluc3RydWN0aW9uQ29udGV4dCA9IHVzZUluc3RydWN0aW9uQ29udGV4dCgpO1xuICBjb25zdCB7IGlzTG9hZGluZzogaW5zdHJ1Y3Rpb25zTG9hZGluZyB9ID0gdXNlSW5zdHJ1Y3Rpb25zKCk7XG4gIGNvbnN0IHsgY3JlYXRlTmV3RmlsZSB9ID0gdXNlRWRpdG9yU3RvcmUoKTtcblxuICBjb25zdCBpc0xvYWRpbmcgPSBjaGF0TG9hZGluZyB8fCBtY3BMb2FkaW5nIHx8IGluc3RydWN0aW9uc0xvYWRpbmc7XG5cbiAgLy8gQXV0by1zY3JvbGwgdG8gYm90dG9tIHdoZW4gbmV3IG1lc3NhZ2VzIGFycml2ZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzY3JvbGxSZWYuY3VycmVudCkge1xuICAgICAgc2Nyb2xsUmVmLmN1cnJlbnQuc2Nyb2xsVG9wID0gc2Nyb2xsUmVmLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0O1xuICAgIH1cbiAgfSwgW21lc3NhZ2VzXSk7XG5cbiAgLy8gSW5pdGlhbGl6ZSB1c2VyIHNlc3Npb24gd2hlbiBjb21wb25lbnQgbW91bnRzIGFuZCB1c2VyIGlzIGxvYWRlZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0xvYWRlZCAmJiB1c2VyICYmICFzZXNzaW9uSWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwi8J+UhCBJbml0aWFsaXppbmcgdXNlciBzZXNzaW9uLi4uXCIsIHsgdXNlcklkOiB1c2VyLmlkIH0pO1xuICAgICAgaW5pdGlhbGl6ZVVzZXJTZXNzaW9uKHVzZXIuaWQpO1xuICAgIH1cbiAgfSwgW3VzZXIsIGlzTG9hZGVkLCBzZXNzaW9uSWQsIGluaXRpYWxpemVVc2VyU2Vzc2lvbl0pO1xuXG4gIC8vIFN5bmMgc2Vzc2lvbiBJRCBpZiBhY3RpdmUgc2Vzc2lvbiBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFjdGl2ZVNlc3Npb25JZCAmJiBhY3RpdmVTZXNzaW9uSWQgIT09IHNlc3Npb25JZCkge1xuICAgICAgY29uc29sZS5sb2coXCLwn5SEIFN5bmNpbmcgdG8gYWN0aXZlIHNlc3Npb246XCIsIGFjdGl2ZVNlc3Npb25JZCk7XG4gICAgICBzZXRTZXNzaW9uSWQoYWN0aXZlU2Vzc2lvbklkKTtcbiAgICB9XG4gIH0sIFthY3RpdmVTZXNzaW9uSWQsIHNlc3Npb25JZCwgc2V0U2Vzc2lvbklkXSk7XG5cbiAgLy8gQ2xlYXIgYWN0aXZlIGFnZW50IHByb2Nlc3MgYWZ0ZXIgdGltZW91dFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhY3RpdmVBZ2VudFByb2Nlc3MpIHtcbiAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uc3QgYWdlID0gRGF0ZS5ub3coKSAtIGFjdGl2ZUFnZW50UHJvY2Vzcy50aW1lc3RhbXA7XG4gICAgICAgIGlmIChhZ2UgPiA1ICogNjAgKiAxMDAwKSB7IC8vIDUgbWludXRlcyB0aW1lb3V0XG4gICAgICAgICAgc2V0QWN0aXZlQWdlbnRQcm9jZXNzKG51bGwpO1xuICAgICAgICB9XG4gICAgICB9LCA1ICogNjAgKiAxMDAwKTtcblxuICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB9XG4gIH0sIFthY3RpdmVBZ2VudFByb2Nlc3NdKTtcblxuICAvLyBESVNBQkxFRDogUHJvY2VzcyBtZXNzYWdlcyB3aXRoIG9wZXJhdGlvbnMgdG8gY3JlYXRlIFVJIGZpbGVzXG4gIC8vIFRoaXMgaXMgbm93IGhhbmRsZWQgYnkgdXNlRmlsZUxvYWQgaG9vayB3aGljaCBzeW5jcyBmcm9tIENvbnZleCB0byBsb2NhbCBzdG9yZVxuICAvKlxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghbWVzc2FnZXMpIHJldHVybjtcbiAgICBcbiAgICBjb25zb2xlLmxvZygn8J+UjSBQcm9jZXNzaW5nIG1lc3NhZ2VzIGZvciBvcGVyYXRpb25zOicsIHtcbiAgICAgIHRvdGFsTWVzc2FnZXM6IG1lc3NhZ2VzLmxlbmd0aCxcbiAgICAgIHJlY2VudE1lc3NhZ2VzQ291bnQ6IG1lc3NhZ2VzLnNsaWNlKC0xMCkubGVuZ3RoLFxuICAgICAgcHJvY2Vzc2VkQ291bnQ6IHByb2Nlc3NlZE9wZXJhdGlvbnMuY3VycmVudC5zaXplXG4gICAgfSk7XG4gICAgXG4gICAgLy8gTG9vayBmb3IgbWVzc2FnZXMgd2l0aCBvcGVyYXRpb25zIHRoYXQgbmVlZCBVSSBwcm9jZXNzaW5nXG4gICAgY29uc3QgcmVjZW50TWVzc2FnZXMgPSBtZXNzYWdlcy5zbGljZSgtMTApOyAvLyBDaGVjayBsYXN0IDEwIG1lc3NhZ2VzXG4gICAgXG4gICAgcmVjZW50TWVzc2FnZXMuZm9yRWFjaCgobWVzc2FnZTogYW55LCBpbmRleCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coYPCflI0gTWVzc2FnZSAke2luZGV4fTpgLCB7XG4gICAgICAgIGlkOiBtZXNzYWdlLl9pZCxcbiAgICAgICAgcm9sZTogbWVzc2FnZS5yb2xlLFxuICAgICAgICBoYXNPcGVyYXRpb246ICEhbWVzc2FnZS5vcGVyYXRpb24sXG4gICAgICAgIG9wZXJhdGlvblR5cGU6IG1lc3NhZ2Uub3BlcmF0aW9uPy50eXBlLFxuICAgICAgICBvcGVyYXRpb25EZXRhaWxzOiBtZXNzYWdlLm9wZXJhdGlvbj8uZGV0YWlscyxcbiAgICAgICAgY29udGVudFByZXZpZXc6IG1lc3NhZ2UuY29udGVudD8uc3Vic3RyaW5nKDAsIDEwMCksXG4gICAgICAgIGFscmVhZHlQcm9jZXNzZWQ6IHByb2Nlc3NlZE9wZXJhdGlvbnMuY3VycmVudC5oYXMobWVzc2FnZS5faWQpXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKG1lc3NhZ2Uub3BlcmF0aW9uPy50eXBlID09PSAnZmlsZV9jcmVhdGVkJyAmJiBtZXNzYWdlLl9pZCkge1xuICAgICAgICAvLyBTa2lwIGlmIGFscmVhZHkgcHJvY2Vzc2VkXG4gICAgICAgIGlmIChwcm9jZXNzZWRPcGVyYXRpb25zLmN1cnJlbnQuaGFzKG1lc3NhZ2UuX2lkKSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDij63vuI8gU2tpcHBpbmcgYWxyZWFkeSBwcm9jZXNzZWQgbWVzc2FnZTogJHttZXNzYWdlLl9pZH1gKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHsgZmlsZU5hbWUsIGZpbGVUeXBlLCBjb250ZW50LCBwbGF0Zm9ybURhdGEsIGFnZW50VHlwZSB9ID0gbWVzc2FnZS5vcGVyYXRpb24uZGV0YWlscztcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEZpbGUgY3JlYXRpb24gb3BlcmF0aW9uIGZvdW5kOicsIHtcbiAgICAgICAgICBmaWxlTmFtZSxcbiAgICAgICAgICBmaWxlVHlwZSxcbiAgICAgICAgICBhZ2VudFR5cGUsXG4gICAgICAgICAgaGFzQ29udGVudDogISFjb250ZW50LFxuICAgICAgICAgIGNvbnRlbnRMZW5ndGg6IGNvbnRlbnQ/Lmxlbmd0aCB8fCAwLFxuICAgICAgICAgIHdpbGxQcm9jZXNzOiBhZ2VudFR5cGUgPT09ICd0d2l0dGVyJyAmJiBjb250ZW50XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gT25seSBwcm9jZXNzIFR3aXR0ZXIgYWdlbnQgZmlsZXMgZm9yIFVJIGNyZWF0aW9uIHRoYXQgaGF2ZSBjb250ZW50XG4gICAgICAgIGlmIChhZ2VudFR5cGUgPT09ICd0d2l0dGVyJyAmJiBjb250ZW50KSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgUHJvY2Vzc2luZyBzb2NpYWwgZmlsZSBvcGVyYXRpb246Jywge1xuICAgICAgICAgICAgZmlsZU5hbWUsXG4gICAgICAgICAgICBmaWxlVHlwZSxcbiAgICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsXG4gICAgICAgICAgICBjb250ZW50TGVuZ3RoOiBjb250ZW50Py5sZW5ndGggfHwgMCxcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiB0eXBlb2YgY29udGVudCxcbiAgICAgICAgICAgIG1lc3NhZ2VJZDogbWVzc2FnZS5faWQsXG4gICAgICAgICAgICBwbGF0Zm9ybURhdGE6IHBsYXRmb3JtRGF0YSxcbiAgICAgICAgICAgIGFsbERldGFpbHM6IG1lc3NhZ2Uub3BlcmF0aW9uLmRldGFpbHNcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBNYXJrIGFzIHByb2Nlc3NlZCBGSVJTVCB0byBwcmV2ZW50IHJhY2UgY29uZGl0aW9uc1xuICAgICAgICAgIHByb2Nlc3NlZE9wZXJhdGlvbnMuY3VycmVudC5hZGQobWVzc2FnZS5faWQpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFBhcnNlIHRoZSBwbGF0Zm9ybSBkYXRhIHdpdGggZXJyb3IgaGFuZGxpbmdcbiAgICAgICAgICBsZXQgcGxhdGZvcm1EYXRhT2JqO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwbGF0Zm9ybURhdGFPYmogPSBwbGF0Zm9ybURhdGEgPyBKU09OLnBhcnNlKHBsYXRmb3JtRGF0YSkgOiB7fTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gRmFpbGVkIHRvIHBhcnNlIHBsYXRmb3JtIGRhdGEsIHVzaW5nIGRlZmF1bHRzOicsIGVycm9yKTtcbiAgICAgICAgICAgIHBsYXRmb3JtRGF0YU9iaiA9IHtcbiAgICAgICAgICAgICAgcmVwbHlTZXR0aW5nczogJ2ZvbGxvd2luZycsXG4gICAgICAgICAgICAgIHNjaGVkdWxlZERhdGU6ICcnLFxuICAgICAgICAgICAgICBzY2hlZHVsZWRUaW1lOiAnJyxcbiAgICAgICAgICAgICAgaXNUaHJlYWQ6IGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDcmVhdGUgdGhlIGNvbnRlbnQgZm9yIHRoZSBUd2l0dGVyIHBvc3QgZmlsZSBpbiB0aGUgZXhwZWN0ZWQgZm9ybWF0XG4gICAgICAgICAgY29uc3QgcG9zdENvbnRlbnQgPSBgIyAke2ZpbGVOYW1lLnJlcGxhY2UoL1xcLlteLy5dKyQvLCBcIlwiKX0gLSBYIChUd2l0dGVyKSBQb3N0XG5QbGF0Zm9ybTogWCAoVHdpdHRlcilcbkNyZWF0ZWQ6ICR7bmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKX1cblxuIyMgUG9zdCBDb250ZW50XG4ke2NvbnRlbnR9XG5cbiMjIFNldHRpbmdzXG4tIFJlcGx5IFNldHRpbmdzOiAke3BsYXRmb3JtRGF0YU9iai5yZXBseVNldHRpbmdzIHx8ICdmb2xsb3dpbmcnfVxuLSBTY2hlZHVsZTogJHtwbGF0Zm9ybURhdGFPYmouc2NoZWR1bGVkRGF0ZSAmJiBwbGF0Zm9ybURhdGFPYmouc2NoZWR1bGVkVGltZSA/IGAke3BsYXRmb3JtRGF0YU9iai5zY2hlZHVsZWREYXRlfSAke3BsYXRmb3JtRGF0YU9iai5zY2hlZHVsZWRUaW1lfWAgOiAnTm93J31cbi0gVGhyZWFkOiAke3BsYXRmb3JtRGF0YU9iai5pc1RocmVhZCA/ICdNdWx0aS10d2VldCBUaHJlYWQnIDogJ1NpbmdsZSBUd2VldCd9XG5cbiMjIE1lZGlhXG4tIEltYWdlczogW11cbi0gVmlkZW9zOiBbXVxuXG4jIyBBbmFseXRpY3Ncbi0gSW1wcmVzc2lvbnM6IDBcbi0gRW5nYWdlbWVudHM6IDBcbi0gTGlrZXM6IDBcbi0gU2hhcmVzOiAwYDtcblxuICAgICAgICAgIC8vIEdldCB0aGUgY3JlYXRlTmV3RmlsZSBmdW5jdGlvbiBmcm9tIHRoZSBzdG9yZSBhdCBleGVjdXRpb24gdGltZVxuICAgICAgICAgIGNvbnN0IHsgY3JlYXRlTmV3RmlsZSwgcHJvamVjdEZvbGRlcnMgfSA9IHVzZUVkaXRvclN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRmluZCB0aGUgQ29udGVudCBDcmVhdGlvbiBmb2xkZXIgSURcbiAgICAgICAgICBjb25zdCBjb250ZW50Q3JlYXRpb25Gb2xkZXIgPSBwcm9qZWN0Rm9sZGVycy5maW5kKGZvbGRlciA9PiBcbiAgICAgICAgICAgIGZvbGRlci5uYW1lID09PSAnQ29udGVudCBDcmVhdGlvbidcbiAgICAgICAgICApO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChjb250ZW50Q3JlYXRpb25Gb2xkZXIpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgZmlsZSBpbiB0aGUgQ29udGVudCBDcmVhdGlvbiBmb2xkZXJcbiAgICAgICAgICAgIGNyZWF0ZU5ld0ZpbGUoXG4gICAgICAgICAgICAgIGZpbGVOYW1lLFxuICAgICAgICAgICAgICAneCcsIC8vIFVzZSAneCcgdHlwZSBmb3IgVHdpdHRlciBmaWxlc1xuICAgICAgICAgICAgICAncHJvamVjdCcsXG4gICAgICAgICAgICAgIGNvbnRlbnRDcmVhdGlvbkZvbGRlci5pZCxcbiAgICAgICAgICAgICAgcG9zdENvbnRlbnRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgQ3JlYXRlZCBzb2NpYWwgZmlsZSBpbiBVSTonLCBmaWxlTmFtZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIENvbnRlbnQgQ3JlYXRpb24gZm9sZGVyIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDcmVhdGUgd2l0aG91dCBmb2xkZXIgSUQgaWYgZm9sZGVyIG5vdCBmb3VuZFxuICAgICAgICAgICAgY3JlYXRlTmV3RmlsZShcbiAgICAgICAgICAgICAgZmlsZU5hbWUsXG4gICAgICAgICAgICAgICd4JyxcbiAgICAgICAgICAgICAgJ3Byb2plY3QnLFxuICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIHBvc3RDb250ZW50XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9LCBbbWVzc2FnZXNdKTsgLy8gUmVtb3ZlZCBjcmVhdGVOZXdGaWxlIGZyb20gZGVwZW5kZW5jaWVzIHRvIHByZXZlbnQgcmUtcnVucyBvbiBwYW5lbCBzd2l0Y2hlc1xuICAqL1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBzdHJpcCBtYXJrZG93biBmb3JtYXR0aW5nXG4gIGNvbnN0IHN0cmlwTWFya2Rvd24gPSAodGV4dDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICByZXR1cm4gdGV4dFxuICAgICAgLnJlcGxhY2UoLyN7MSw2fVxccyovZywgJycpIC8vIFJlbW92ZSBoZWFkZXJzXG4gICAgICAucmVwbGFjZSgvXFwqXFwqKC4qPylcXCpcXCovZywgJyQxJykgLy8gUmVtb3ZlICoqYm9sZCoqXG4gICAgICAucmVwbGFjZSgvXFwqKC4qPylcXCovZywgJyQxJykgLy8gUmVtb3ZlICppdGFsaWMqXG4gICAgICAucmVwbGFjZSgvYChbXmBdKylgL2csICckMScpIC8vIFJlbW92ZSBgY29kZWBcbiAgICAgIC5yZXBsYWNlKC9eXFxzKlstKitdXFxzKy9nbSwgJ+KAoiAnKSAvLyBDb252ZXJ0IG1hcmtkb3duIGxpc3RzIHRvIGJ1bGxldCBwb2ludHNcbiAgICAgIC5yZXBsYWNlKC9eXFxzKlxcZCtcXC5cXHMrL2dtLCAn4oCiICcpIC8vIENvbnZlcnQgbnVtYmVyZWQgbGlzdHMgdG8gYnVsbGV0IHBvaW50c1xuICAgICAgLnJlcGxhY2UoL1xcblxccypcXG5cXHMqXFxuL2csICdcXG5cXG4nKSAvLyBSZWR1Y2UgbXVsdGlwbGUgYmxhbmsgbGluZXMgdG8gZG91YmxlXG4gICAgICAuc3BsaXQoJ1xcbicpIC8vIFNwbGl0IGludG8gbGluZXMgZm9yIHByb2Nlc3NpbmdcbiAgICAgIC5tYXAobGluZSA9PiB7XG4gICAgICAgIC8vIEFkZCBzcGFjaW5nIGFmdGVyIHNlY3Rpb24gaGVhZGVycyAobGluZXMgdGhhdCBkb24ndCBzdGFydCB3aXRoIGJ1bGxldCBwb2ludHMpXG4gICAgICAgIGlmIChsaW5lLnRyaW0oKSAmJiAhbGluZS5zdGFydHNXaXRoKCfigKInKSAmJiAhbGluZS5zdGFydHNXaXRoKCcgJykgJiYgbGluZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIGxpbmUgKyAnXFxuJzsgLy8gQWRkIGV4dHJhIG5ld2xpbmUgYWZ0ZXIgaGVhZGVyc1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaW5lO1xuICAgICAgfSlcbiAgICAgIC5qb2luKCdcXG4nKVxuICAgICAgLnJlcGxhY2UoL1xcbnszLH0vZywgJ1xcblxcbicpIC8vIENsZWFuIHVwIGV4Y2Vzc2l2ZSBuZXdsaW5lc1xuICAgICAgLnRyaW0oKTtcbiAgfTtcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZGV0ZWN0IE1DUC1yZWxhdGVkIHF1ZXJpZXMgKGV4Y2x1ZGluZyBkaXJlY3QgdG9vbCBjb21tYW5kcylcbiAgY29uc3QgaXNNQ1BRdWVyeSA9ICh0ZXh0OiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICAvLyBEb24ndCB0cmVhdCBkaXJlY3QgdG9vbCBjb21tYW5kcyBhcyBOTFAgcXVlcmllc1xuICAgIGlmICh0ZXh0LnN0YXJ0c1dpdGgoJy8nKSkgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIC8vIExvb2sgZm9yIGtleXdvcmRzIHRoYXQgc3VnZ2VzdCBNQ1AgYW5hbHlzaXMgd291bGQgYmUgaGVscGZ1bFxuICAgIGNvbnN0IG1jcEtleXdvcmRzID0gW1xuICAgICAgJ2FuYWx5emUnLCAnZXhhbWluZScsICdyZXZpZXcnLCAnZXhwbGFpbicsICd1bmRlcnN0YW5kJywgJ2FyY2hpdGVjdHVyZScsXG4gICAgICAnc3RydWN0dXJlJywgJ2NvZGUnLCAnY29tcG9uZW50JywgJ2Z1bmN0aW9uJywgJ2ltcGxlbWVudGF0aW9uJywgJ3BhdHRlcm4nLFxuICAgICAgJ2Jlc3QgcHJhY3RpY2UnLCAnaXNzdWUnLCAnYnVnJywgJ2Vycm9yJywgJ3BlcmZvcm1hbmNlJywgJ29wdGltaXphdGlvbicsXG4gICAgICAncmVmYWN0b3InLCAnaW1wcm92ZW1lbnQnLCAnZG9jdW1lbnRhdGlvbicsICdvdmVydmlldycsICdzdW1tYXJ5JyxcbiAgICAgICdob3cgZG9lcycsICd3aGF0IGlzJywgJ3doeSBpcycsICd3aGVyZSBpcycsICd3aGVuIGlzJywgJ3doaWNoJ1xuICAgIF07XG4gICAgXG4gICAgY29uc3QgbG93ZXJUZXh0ID0gdGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiBtY3BLZXl3b3Jkcy5zb21lKGtleXdvcmQgPT4gbG93ZXJUZXh0LmluY2x1ZGVzKGtleXdvcmQpKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVUb29sU2VsZWN0b3JDbG9zZSA9ICgpID0+IHtcbiAgICBzZXRNZXNzYWdlKFwiXCIpO1xuICAgIGlucHV0UmVmLmN1cnJlbnQ/LmZvY3VzKCk7XG4gIH07XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSBjb252ZXhNdXRhdGlvbnMgb2JqZWN0IGZvciBhZ2VudHNcbiAgY29uc3QgY3JlYXRlQ29udmV4TXV0YXRpb25zID0gKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBlbnN1cmVJbnN0cnVjdGlvbnNQcm9qZWN0LFxuICAgICAgY3JlYXRlSW5zdHJ1Y3Rpb25GaWxlOiBjcmVhdGVJbnN0cnVjdGlvbixcbiAgICAgIHVwc2VydFBvc3QsXG4gICAgICBzY2hlZHVsZVBvc3QsXG4gICAgICBjcmVhdGVDb250ZW50Q3JlYXRpb25GaWxlLFxuICAgICAgY3JlYXRlUHJvamVjdDogYXN5bmMgKHBhcmFtczogYW55KSA9PiB7XG4gICAgICAgIHJldHVybiBhd2FpdCBjcmVhdGVQcm9qZWN0KHtcbiAgICAgICAgICBuYW1lOiBwYXJhbXMubmFtZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogcGFyYW1zLmRlc2NyaXB0aW9uLFxuICAgICAgICAgIHN0YXR1czogcGFyYW1zLnN0YXR1cyB8fCAnYWN0aXZlJyxcbiAgICAgICAgICBidWRnZXQ6IHBhcmFtcy5idWRnZXQsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGdldFByb2plY3RzOiBhc3luYyAoKSA9PiB7XG4gICAgICAgIHJldHVybiBhbGxQcm9qZWN0cyB8fCBbXTtcbiAgICAgIH0sXG4gICAgICBzdG9yZUNoYXRNZXNzYWdlOiBhc3luYyAocGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgIHJvbGU6IHBhcmFtcy5yb2xlLFxuICAgICAgICAgIGNvbnRlbnQ6IHBhcmFtcy5jb250ZW50LFxuICAgICAgICAgIHNlc3Npb25JZDogcGFyYW1zLnNlc3Npb25JZCB8fCBzZXNzaW9uSWQsXG4gICAgICAgICAgb3BlcmF0aW9uOiBwYXJhbXMub3BlcmF0aW9uLFxuICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IHBhcmFtcy5wcm9jZXNzSW5kaWNhdG9yLFxuICAgICAgICAgIGludGVyYWN0aXZlQ29tcG9uZW50OiBwYXJhbXMuaW50ZXJhY3RpdmVDb21wb25lbnQsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50OiBhc3luYyAocGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50KHtcbiAgICAgICAgICBtZXNzYWdlSWQ6IHBhcmFtcy5tZXNzYWdlSWQsXG4gICAgICAgICAgc3RhdHVzOiBwYXJhbXMuc3RhdHVzLFxuICAgICAgICAgIHJlc3VsdDogcGFyYW1zLnJlc3VsdCxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgY3JlYXRlRmlsZTogYXN5bmMgKHBhcmFtczogYW55KSA9PiB7XG4gICAgICAgIHJldHVybiBhd2FpdCBjcmVhdGVGaWxlKHtcbiAgICAgICAgICBuYW1lOiBwYXJhbXMubmFtZSxcbiAgICAgICAgICB0eXBlOiBwYXJhbXMudHlwZSxcbiAgICAgICAgICBwcm9qZWN0SWQ6IHBhcmFtcy5wcm9qZWN0SWQsIC8vIFRoaXMgc2hvdWxkIGJlIGFuIElkPFwicHJvamVjdHNcIj4gZnJvbSB0aGUgYWN0dWFsIHByb2plY3QgY3JlYXRpb25cbiAgICAgICAgICBjb250ZW50OiBwYXJhbXMuY29udGVudCxcbiAgICAgICAgICBleHRlbnNpb246IHBhcmFtcy5leHRlbnNpb24sXG4gICAgICAgICAgcGxhdGZvcm06IHBhcmFtcy5wbGF0Zm9ybSxcbiAgICAgICAgICBzaXplOiBwYXJhbXMuc2l6ZSxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgZ2V0QWxsUG9zdHM6IGFzeW5jICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGFsbFBvc3RzIHx8IFtdO1xuICAgICAgfSxcbiAgICB9O1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgXG4gICAgLy8gQ2hlY2sgc2Vzc2lvbiBsaW1pdCBiZWZvcmUgcHJvY2Vzc2luZ1xuICAgIGlmICghY2FuQWRkTWVzc2FnZXMoKSkge1xuICAgICAgY29uc29sZS53YXJuKFwiQ2Fubm90IHNlbmQgbWVzc2FnZTogU2Vzc2lvbiBsaW1pdCByZWFjaGVkXCIpO1xuICAgICAgLy8gQWRkIGEgdGVybWluYWwgZmVlZGJhY2sgbWVzc2FnZSBhYm91dCB0aGUgbGltaXRcbiAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICByb2xlOiBcInRlcm1pbmFsXCIsXG4gICAgICAgIGNvbnRlbnQ6IGBbJHtuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygnZW4tVVMnLCB7IFxuICAgICAgICAgIGhvdXIxMjogZmFsc2UsIFxuICAgICAgICAgIGhvdXI6ICcyLWRpZ2l0JywgXG4gICAgICAgICAgbWludXRlOiAnMi1kaWdpdCcsIFxuICAgICAgICAgIHNlY29uZDogJzItZGlnaXQnIFxuICAgICAgICB9KX1dIPCfmqggTWVzc2FnZSBub3Qgc2VudDogU2Vzc2lvbiBsaW1pdCByZWFjaGVkICg1MDAgbWVzc2FnZXMpXG5QbGVhc2Ugc3RhcnQgYSBuZXcgc2Vzc2lvbiB0byBjb250aW51ZSBjaGF0dGluZy5gLFxuICAgICAgICBzZXNzaW9uSWQsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgaWYgKG1lc3NhZ2UudHJpbSgpICYmICFpc0xvYWRpbmcpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VDb250ZW50ID0gbWVzc2FnZS50cmltKCk7XG4gICAgICBjb25zb2xlLmxvZygn8J+SrCBVc2VyIHN1Ym1pdHRpbmcgbWVzc2FnZTonLCBtZXNzYWdlQ29udGVudCk7XG4gICAgICBzZXRNZXNzYWdlKFwiXCIpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGFuIGFnZW50IGNvbW1hbmQgd2hlbiBhbiBhZ2VudCBpcyBhY3RpdmVcbiAgICAgIGlmIChhY3RpdmVBZ2VudElkICYmICFtZXNzYWdlQ29udGVudC5zdGFydHNXaXRoKCcvJykpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CfpJYgUm91dGluZyB0byBhY3RpdmUgYWdlbnQ6JywgYWN0aXZlQWdlbnRJZCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYPCfpJYgRXhlY3V0aW5nIGFnZW50ICR7YWN0aXZlQWdlbnRJZH0gd2l0aCBtZXNzYWdlOiAke21lc3NhZ2VDb250ZW50fWApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENyZWF0ZSBjb252ZXggbXV0YXRpb25zIGZvciB0aGUgYWdlbnRcbiAgICAgICAgICBjb25zdCBjb252ZXhNdXRhdGlvbnMgPSBjcmVhdGVDb252ZXhNdXRhdGlvbnMoKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgbGFzdCBtZXNzYWdlIHdhcyBhbiBhZ2VudCB3YWl0aW5nIGZvciBpbnB1dFxuICAgICAgICAgIGNvbnN0IGxhc3RNZXNzYWdlID0gbWVzc2FnZXMgJiYgbWVzc2FnZXMubGVuZ3RoID4gMCA/IG1lc3NhZ2VzW21lc3NhZ2VzLmxlbmd0aCAtIDFdIDogbnVsbDtcbiAgICAgICAgICBjb25zdCBpc0ZvbGxvd1VwVG9XYWl0aW5nQWdlbnQgPSBsYXN0TWVzc2FnZSAmJiBcbiAgICAgICAgICAgIGxhc3RNZXNzYWdlLnJvbGUgPT09ICdhc3Npc3RhbnQnICYmIFxuICAgICAgICAgICAgbGFzdE1lc3NhZ2UucHJvY2Vzc0luZGljYXRvcj8udHlwZSA9PT0gJ3dhaXRpbmcnO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnNvbGUubG9nKCdQcmUtZXhlY3V0aW9uIHN0YXRlOicsIHtcbiAgICAgICAgICAgIGxhc3RNZXNzYWdlOiBsYXN0TWVzc2FnZSA/IHtcbiAgICAgICAgICAgICAgcm9sZTogbGFzdE1lc3NhZ2Uucm9sZSxcbiAgICAgICAgICAgICAgcHJvY2Vzc0luZGljYXRvcjogbGFzdE1lc3NhZ2UucHJvY2Vzc0luZGljYXRvcixcbiAgICAgICAgICAgICAgY29udGVudFByZXZpZXc6IGxhc3RNZXNzYWdlLmNvbnRlbnQuc3Vic3RyaW5nKDAsIDUwKVxuICAgICAgICAgICAgfSA6IG51bGwsXG4gICAgICAgICAgICBpc0ZvbGxvd1VwVG9XYWl0aW5nQWdlbnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBGaW5kIHRoZSBhY3RpdmUgYWdlbnQgYW5kIGl0cyBkZWZhdWx0IHRvb2xcbiAgICAgICAgICBjb25zdCBhY3RpdmVBZ2VudCA9IGFnZW50cy5maW5kKGFnZW50ID0+IGFnZW50LmlkID09PSBhY3RpdmVBZ2VudElkKTtcbiAgICAgICAgICBpZiAoYWN0aXZlQWdlbnQgJiYgYWN0aXZlQWdlbnQudG9vbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdFRvb2wgPSBhY3RpdmVBZ2VudC50b29sc1swXTsgLy8gVXNlIHRoZSBmaXJzdCB0b29sIGFzIGRlZmF1bHRcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8g4pyFIEZJWCAjMTogQWx3YXlzIHN0b3JlIHRoZSB1c2VyIG1lc3NhZ2UgZmlyc3QsIHJlZ2FyZGxlc3Mgb2YgYWdlbnQgcmVzdWx0XG4gICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2VDb250ZW50LFxuICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IGlzRm9sbG93VXBUb1dhaXRpbmdBZ2VudCA/IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnY29udGludWluZycsXG4gICAgICAgICAgICAgICAgcHJvY2Vzc1R5cGU6ICdmaWxlLWNyZWF0aW9uJyxcbiAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnXG4gICAgICAgICAgICAgIH0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRXhlY3V0ZSB0aGUgYWdlbnQgdG9vbFxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZUFnZW50VG9vbChcbiAgICAgICAgICAgICAgYWN0aXZlQWdlbnRJZCxcbiAgICAgICAgICAgICAgZGVmYXVsdFRvb2wuaWQsXG4gICAgICAgICAgICAgIG1lc3NhZ2VDb250ZW50LFxuICAgICAgICAgICAgICBjb252ZXhNdXRhdGlvbnMsXG4gICAgICAgICAgICAgIHNlc3Npb25JZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gSGFuZGxlIGVtcHR5IHJlc3VsdHMgZnJvbSBpbnRlcmFjdGl2ZSBjb21wb25lbnRzXG4gICAgICAgICAgICBpZiAoIXJlc3VsdCB8fCByZXN1bHQudHJpbSgpID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBZ2VudCByZXR1cm5lZCBlbXB0eSByZXN1bHQgLSB0aGlzIGlzIGV4cGVjdGVkIGZvciBpbnRlcmFjdGl2ZSBjb21wb25lbnRzJyk7XG4gICAgICAgICAgICAgIC8vIFVzZXIgbWVzc2FnZSB3YXMgYWxyZWFkeSBzdG9yZWQgYWJvdmUgLSBpbnRlcmFjdGl2ZSBjb21wb25lbnQgaGFuZGxlcyB0aGUgVUlcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDaGVjayBpZiByZXN1bHQgaW5kaWNhdGVzIHdhaXRpbmcgZm9yIHVzZXIgaW5wdXQgKHByb2plY3Qgc2VsZWN0aW9uKVxuICAgICAgICAgICAgY29uc3QgaXNXYWl0aW5nRm9ySW5wdXQgPSByZXN1bHQuaW5jbHVkZXMoXCLwn46vIFNlbGVjdCBhIHByb2plY3Q6XCIpIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmluY2x1ZGVzKFwi8J+SoSAqKk5leHQgbWVzc2FnZToqKiBKdXN0IHR5cGUgeW91ciBzZWxlY3Rpb24hXCIpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuaW5jbHVkZXMoXCJXaGljaCBQcm9qZWN0P1wiKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmluY2x1ZGVzKFwiQXZhaWxhYmxlIFByb2plY3RzOlwiKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcmVzdWx0IGluZGljYXRlcyBzdWNjZXNzZnVsIGNvbXBsZXRpb25cbiAgICAgICAgICAgIGNvbnN0IGlzQ29tcGxldGlvblJlc3BvbnNlID0gcmVzdWx0LmluY2x1ZGVzKFwi4pyFICoqRmlsZSBDcmVhdGVkIFN1Y2Nlc3NmdWxseSEqKlwiKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmluY2x1ZGVzKFwiRmlsZSBDcmVhdGVkIFN1Y2Nlc3NmdWxseSFcIikgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5pbmNsdWRlcyhcIioqTmV4dCBTdGVwczoqKlwiKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmluY2x1ZGVzKFwiTmV4dCBTdGVwczpcIik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBZ2VudCBFeGVjdXRpb24gRGVidWc6Jywge1xuICAgICAgICAgICAgICBhY3RpdmVBZ2VudElkLFxuICAgICAgICAgICAgICByZXN1bHQ6IHJlc3VsdC5zdWJzdHJpbmcoMCwgMjAwKSArICcuLi4nLFxuICAgICAgICAgICAgICBpc1dhaXRpbmdGb3JJbnB1dCxcbiAgICAgICAgICAgICAgaXNDb21wbGV0aW9uUmVzcG9uc2UsXG4gICAgICAgICAgICAgIGlzRm9sbG93VXBUb1dhaXRpbmdBZ2VudCxcbiAgICAgICAgICAgICAgaGFzU2VsZWN0UHJvamVjdDogcmVzdWx0LmluY2x1ZGVzKFwi8J+OryBTZWxlY3QgYSBwcm9qZWN0OlwiKSxcbiAgICAgICAgICAgICAgaGFzTmV4dE1lc3NhZ2U6IHJlc3VsdC5pbmNsdWRlcyhcIvCfkqEgKipOZXh0IG1lc3NhZ2U6KiogSnVzdCB0eXBlIHlvdXIgc2VsZWN0aW9uIVwiKSxcbiAgICAgICAgICAgICAgaGFzV2hpY2hQcm9qZWN0OiByZXN1bHQuaW5jbHVkZXMoXCJXaGljaCBQcm9qZWN0P1wiKSxcbiAgICAgICAgICAgICAgaGFzQXZhaWxhYmxlUHJvamVjdHM6IHJlc3VsdC5pbmNsdWRlcyhcIkF2YWlsYWJsZSBQcm9qZWN0czpcIiksXG4gICAgICAgICAgICAgIGhhc0ZpbGVDcmVhdGVkOiByZXN1bHQuaW5jbHVkZXMoXCLinIUgKipGaWxlIENyZWF0ZWQgU3VjY2Vzc2Z1bGx5ISoqXCIpLFxuICAgICAgICAgICAgICBoYXNOZXh0U3RlcHM6IHJlc3VsdC5pbmNsdWRlcyhcIioqTmV4dCBTdGVwczoqKlwiKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChpc1dhaXRpbmdGb3JJbnB1dCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU2V0dGluZyBhY3RpdmUgYWdlbnQgcHJvY2VzcyBmb3IgZmlsZSBjcmVhdGlvbicpO1xuICAgICAgICAgICAgICBzZXRBY3RpdmVBZ2VudFByb2Nlc3Moe1xuICAgICAgICAgICAgICAgIGFnZW50SWQ6IGFjdGl2ZUFnZW50SWQsXG4gICAgICAgICAgICAgICAgcHJvY2Vzc1R5cGU6ICdmaWxlLWNyZWF0aW9uJyxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ2xlYXJpbmcgYWN0aXZlIGFnZW50IHByb2Nlc3MgLSBhZ2VudCBjb21wbGV0ZWQnKTtcbiAgICAgICAgICAgICAgLy8gQ2xlYXIgYWN0aXZlIHByb2Nlc3Mgd2hlbiBhZ2VudCBjb21wbGV0ZXNcbiAgICAgICAgICAgICAgc2V0QWN0aXZlQWdlbnRQcm9jZXNzKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTdG9yZSBhZ2VudCByZXN1bHQgd2l0aCBwcm9jZXNzIGluZGljYXRvcnMgKHVzZXIgbWVzc2FnZSBhbHJlYWR5IHN0b3JlZCBhYm92ZSlcbiAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgICAgICBjb250ZW50OiBg8J+kliAqKiR7YWN0aXZlQWdlbnQubmFtZX0gQWdlbnQgUmVzdWx0OioqXFxuXFxuJHtyZXN1bHR9YCxcbiAgICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgICAgICBwcm9jZXNzSW5kaWNhdG9yOiAoaXNXYWl0aW5nRm9ySW5wdXQgfHwgaXNDb21wbGV0aW9uUmVzcG9uc2UgfHwgaXNGb2xsb3dVcFRvV2FpdGluZ0FnZW50KSA/IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnd2FpdGluZycsXG4gICAgICAgICAgICAgICAgcHJvY2Vzc1R5cGU6ICdmaWxlLWNyZWF0aW9uJyxcbiAgICAgICAgICAgICAgICBjb2xvcjogJ2dyZWVuJ1xuICAgICAgICAgICAgICB9IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIERlYnVnIGxvZyBmb3Igd2hhdCBwcm9jZXNzSW5kaWNhdG9yIHdhcyBzZXRcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdG9yZUNoYXRNZXNzYWdlIERlYnVnOicsIHtcbiAgICAgICAgICAgICAgbWVzc2FnZVR5cGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICB3aWxsSGF2ZVByb2Nlc3NJbmRpY2F0b3I6ICEhKGlzV2FpdGluZ0ZvcklucHV0IHx8IGlzQ29tcGxldGlvblJlc3BvbnNlIHx8IGlzRm9sbG93VXBUb1dhaXRpbmdBZ2VudCksXG4gICAgICAgICAgICAgIGlzV2FpdGluZ0ZvcklucHV0LFxuICAgICAgICAgICAgICBpc0NvbXBsZXRpb25SZXNwb25zZSxcbiAgICAgICAgICAgICAgaXNGb2xsb3dVcFRvV2FpdGluZ0FnZW50LFxuICAgICAgICAgICAgICByZXN1bHRTbmlwcGV0OiByZXN1bHQuc3Vic3RyaW5nKDAsIDEwMClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FnZW50IGV4ZWN1dGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU3RvcmUgdGhlIHVzZXIgbWVzc2FnZSBhbmQgZXJyb3JcbiAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICAgICAgY29udGVudDogbWVzc2FnZUNvbnRlbnQsXG4gICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgICAgY29udGVudDogYOKdjCBBZ2VudCBleGVjdXRpb24gZmFpbGVkOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWAsXG4gICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIHRoaXMgbG9va3MgbGlrZSBhIG5hdHVyYWwgbGFuZ3VhZ2UgTUNQIHF1ZXJ5XG4gICAgICBpZiAobWNwQ29ubmVjdGVkICYmIGlzTUNQUXVlcnkobWVzc2FnZUNvbnRlbnQpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgbWNwUmVzcG9uc2UgPSBhd2FpdCBwcm9jZXNzTmF0dXJhbExhbmd1YWdlKG1lc3NhZ2VDb250ZW50KTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAobWNwUmVzcG9uc2Uuc3VjY2VzcyAmJiBtY3BSZXNwb25zZS5jb250ZW50ICYmIG1jcFJlc3BvbnNlLmNvbnRlbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gRXh0cmFjdCB0aGUgYWN0dWFsIHRleHQgY29udGVudCBmcm9tIHRoZSBNQ1AgcmVzcG9uc2VcbiAgICAgICAgICAgIGNvbnN0IHRleHRDb250ZW50ID0gbWNwUmVzcG9uc2UuY29udGVudFswXS50ZXh0O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTdHJpcCBtYXJrZG93biBmb3JtYXR0aW5nIGFuZCBjb252ZXJ0IHRvIHBsYWluIHRleHRcbiAgICAgICAgICAgIGNvbnN0IHBsYWluVGV4dCA9IHN0cmlwTWFya2Rvd24odGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTZW5kIHRoZSBNQ1AgcmVzcG9uc2Ugd2l0aCBjbGVhbiB0ZXh0IGNvbnRlbnRcbiAgICAgICAgICAgIGF3YWl0IHNlbmRNZXNzYWdlKGDwn6SWIE1DUCBBbmFseXNpczpcXG5cXG4ke3BsYWluVGV4dH1gKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgc2VuZE1lc3NhZ2UobWVzc2FnZUNvbnRlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdNQ1AgRXJyb3I6JywgZXJyb3IpO1xuICAgICAgICAgIC8vIEZhbGwgYmFjayB0byByZWd1bGFyIGNoYXRcbiAgICAgICAgICBhd2FpdCBzZW5kTWVzc2FnZShtZXNzYWdlQ29udGVudCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJlZ3VsYXIgY2hhdCBtZXNzYWdlIC0gYWRkIGluc3RydWN0aW9uIGNvbnRleHQgaWYgYXZhaWxhYmxlXG4gICAgICAgIGxldCBjb250ZXh0dWFsTWVzc2FnZSA9IG1lc3NhZ2VDb250ZW50O1xuICAgICAgICBpZiAoaW5zdHJ1Y3Rpb25Db250ZXh0KSB7XG4gICAgICAgICAgY29udGV4dHVhbE1lc3NhZ2UgPSBgJHtpbnN0cnVjdGlvbkNvbnRleHR9XFxuXFxuLS0tXFxuXFxuJHttZXNzYWdlQ29udGVudH1gO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBBbHdheXMgdXNlIHN0cmVhbWluZyB0aGlua2luZyBmb3IgYWxsIG1lc3NhZ2VzICh0aGlua2luZyBlbmFibGVkIGJ5IGRlZmF1bHQpXG4gICAgICAgIGF3YWl0IHNlbmRNZXNzYWdlV2l0aFN0cmVhbWluZyhjb250ZXh0dWFsTWVzc2FnZSwgbWVzc2FnZUNvbnRlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGU6IFJlYWN0LktleWJvYXJkRXZlbnQpID0+IHtcbiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGhhbmRsZVN1Ym1pdChlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlSW5wdXRDaGFuZ2UgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgIHNldE1lc3NhZ2UodmFsdWUpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgZmxleCBmbGV4LWNvbCBtaW4taC0wXCI+XG4gICAgICA8ZGl2IFxuICAgICAgICByZWY9e3Njcm9sbFJlZn0gXG4gICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gYmctWyMwZTBlMGVdIHAtMiBwYi04IG1pbi1oLTAgc2Nyb2xsYmFyLWhpZGRlblwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tb25vIHRleHQteHMgc3BhY2UteS0yIG1pbi1oLWZ1bGxcIj5cbiAgICAgICAgICB7LyogVGVybWluYWwgV2VsY29tZSBUZXh0ICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bI2NjY2NjY10gc3BhY2UteS0xIG1iLTRcIj5cbiAgICAgICAgICAgIDxkaXY+RUFDIEZpbmFuY2lhbCBEYXNoYm9hcmQgLSBBSSBBc3Npc3RhbnQ8L2Rpdj5cbiAgICAgICAgICAgIHttY3BFcnJvciAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bI2Y0ODc3MV0gdGV4dC14c1wiPk1DUCBFcnJvcjoge21jcEVycm9yfTwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bIzg1ODU4NV0gbXQtMlwiPkFJIEFzc2lzdGFudCByZWFkeSBmb3IgRUFDIHByb2plY3QgcXVlc3Rpb25zLjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjODU4NTg1XSB0ZXh0LXhzXCI+U2Vzc2lvbjoge3Nlc3Npb25JZC5zbGljZSgtOCl9PC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBTZXNzaW9uIFN0YXR1cyBhbmQgTGltaXRzICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjODU4NTg1XSB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgIE1lc3NhZ2VzOiB7bWVzc2FnZUNvdW50fS81MDBcbiAgICAgICAgICAgICAge2lzTmVhclNlc3Npb25MaW1pdCAmJiAoXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bI2Y0ODc3MV0gbWwtMlwiPuKaoO+4jyBBcHByb2FjaGluZyBsaW1pdDwvc3Bhbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge2lzQXRTZXNzaW9uTGltaXQgJiYgKFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWyNmNDg3NzFdIG1sLTJcIj7wn5qoIFNlc3Npb24gZnVsbDwvc3Bhbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBNZXNzYWdlcyAqL31cbiAgICAgICAgICB7bWVzc2FnZXM/Lm1hcCgobXNnLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgLy8gVXNlIHRoZSBzdG9yZWQgcHJvY2Vzc0luZGljYXRvciBmb3IgdmlzdWFsIGNvbnRpbnVpdHlcbiAgICAgICAgICAgIGNvbnN0IGhhc1Byb2Nlc3NJbmRpY2F0b3IgPSBtc2cucHJvY2Vzc0luZGljYXRvcjtcbiAgICAgICAgICAgIGNvbnN0IGlzVXNlclByb2Nlc3NNZXNzYWdlID0gaGFzUHJvY2Vzc0luZGljYXRvciAmJiBtc2cucm9sZSA9PT0gJ3VzZXInICYmIGhhc1Byb2Nlc3NJbmRpY2F0b3IudHlwZSA9PT0gJ2NvbnRpbnVpbmcnO1xuICAgICAgICAgICAgY29uc3QgaXNBZ2VudFByb2Nlc3NNZXNzYWdlID0gaGFzUHJvY2Vzc0luZGljYXRvciAmJiBtc2cucm9sZSA9PT0gJ2Fzc2lzdGFudCcgJiYgaGFzUHJvY2Vzc0luZGljYXRvci50eXBlID09PSAnd2FpdGluZyc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgICAge21zZy5yb2xlID09PSAndXNlcicgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B0ZXh0LVsjMDA3YWNjXSAke2lzVXNlclByb2Nlc3NNZXNzYWdlID8gJ2JvcmRlci1sLTQgYm9yZGVyLVsjMDA3OGQ0XSBwbC0zJyA6ICcnfWB9PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjMDA3YWNjXVwiPiQgdXNlcjo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTEgdGV4dC1bI2NjY2NjY11cIj57bXNnLmNvbnRlbnR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICB7aXNVc2VyUHJvY2Vzc01lc3NhZ2UgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdGV4dC1bIzAwNzhkNF0gbXQtMSBvcGFjaXR5LTgwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICDihrMgQ29udGludWluZyB7bXNnLnByb2Nlc3NJbmRpY2F0b3I/LnByb2Nlc3NUeXBlPy5yZXBsYWNlKCctJywgJyAnKX0uLi5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAge21zZy5yb2xlID09PSAnYXNzaXN0YW50JyAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHRleHQtWyM0ZWM5YjBdICR7aXNBZ2VudFByb2Nlc3NNZXNzYWdlID8gJ2JvcmRlci1sLTQgYm9yZGVyLVsjNGVjOWIwXSBwbC0zJyA6ICcnfWB9PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjNGVjOWIwXVwiPvCfpJYgYXNzaXN0YW50Ojwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC0xIHRleHQtWyNjY2NjY2NdIHdoaXRlc3BhY2UtcHJlLXdyYXBcIj57bXNnLmNvbnRlbnR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB7LyogSW50ZXJhY3RpdmUgQ29tcG9uZW50ICovfVxuICAgICAgICAgICAgICAgICAgICB7bXNnLmludGVyYWN0aXZlQ29tcG9uZW50ICYmIChtc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuc3RhdHVzID09PSAncGVuZGluZycgfHwgbXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcpICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgbWwtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC50eXBlID09PSAncHJvamVjdF9zZWxlY3RvcicgJiYgIW1zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5kYXRhPy5wcm9qZWN0TmFtZUlucHV0ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFByb2plY3RTZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVEZXRhaWxzPXttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuZGF0YT8uZmlsZURldGFpbHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5zdGF0dXMgPT09ICdjb21wbGV0ZWQnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUHJvamVjdD17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcgPyBtc2cuaW50ZXJhY3RpdmVDb21wb25lbnQucmVzdWx0Py5zZWxlY3RlZFByb2plY3QgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Qcm9qZWN0U2VsZWN0ZWQ9e2FzeW5jIChwcm9qZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGNvbXBvbmVudCBzdGF0dXMgdG8gY29tcGxldGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IG1zZy5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IHsgc2VsZWN0ZWRQcm9qZWN0OiBwcm9qZWN0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIHRoZSBmaWxlIGNyZWF0aW9uIHByb2Nlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udmV4TXV0YXRpb25zID0gY3JlYXRlQ29udmV4TXV0YXRpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVDcmVhdG9yQWdlbnQgPSBhZ2VudHMuZmluZChhID0+IGEuaWQgPT09ICdmaWxlLWNyZWF0b3InKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVDcmVhdG9yQWdlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTaW11bGF0ZSB1c2VyIGlucHV0IGZvciBwcm9qZWN0IHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3RTZWxlY3Rpb25JbnB1dCA9IGBBZGQgaXQgdG8gJHtwcm9qZWN0Lm5hbWV9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZW5kIHVzZXIgbWVzc2FnZSBzaG93aW5nIHRoZSBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGBTZWxlY3RlZCBwcm9qZWN0OiAke3Byb2plY3QubmFtZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzSW5kaWNhdG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb250aW51aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1R5cGU6ICdwcm9qZWN0X3NlbGVjdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSB0aGUgYWdlbnQgd2l0aCB0aGUgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfmoAgRXhlY3V0aW5nIGFnZW50IHdpdGggcHJvamVjdCBzZWxlY3Rpb246JywgcHJvamVjdFNlbGVjdGlvbklucHV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpyBBZ2VudCBkZXRhaWxzOicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnZW50SWQ6IGZpbGVDcmVhdG9yQWdlbnQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sSWQ6IGZpbGVDcmVhdG9yQWdlbnQudG9vbHNbMF0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sTmFtZTogZmlsZUNyZWF0b3JBZ2VudC50b29sc1swXS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udmV4TXV0YXRpb25zQXZhaWxhYmxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUZpbGU6ICEhY29udmV4TXV0YXRpb25zLmNyZWF0ZUZpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldFByb2plY3RzOiAhIWNvbnZleE11dGF0aW9ucy5nZXRQcm9qZWN0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVDaGF0TWVzc2FnZTogISFjb252ZXhNdXRhdGlvbnMuc3RvcmVDaGF0TWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleGVjdXRlQWdlbnRUb29sKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZUNyZWF0b3JBZ2VudC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVDcmVhdG9yQWdlbnQudG9vbHNbMF0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0U2VsZWN0aW9uSW5wdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXhNdXRhdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OlIEFnZW50IGV4ZWN1dGlvbiByZXN1bHQ6JywgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TjyBSZXN1bHQgbGVuZ3RoOicsIHJlc3VsdD8ubGVuZ3RoIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OLIFJlc3VsdCBjb250ZW50IHByZXZpZXc6JywgcmVzdWx0Py5zdWJzdHJpbmcoMCwgMTAwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gUmVzdWx0IHR5cGU6JywgdHlwZW9mIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq8gSXMgcmVzdWx0IHRydXRoeTonLCAhIXJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq8gSXMgcmVzdWx0IGVtcHR5IHN0cmluZzonLCByZXN1bHQgPT09IFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46vIFJlc3VsdCB0cmltbWVkIGxlbmd0aDonLCByZXN1bHQ/LnRyaW0oKT8ubGVuZ3RoIHx8IDApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBzdG9yZSBub24tZW1wdHkgcmVzdWx0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnRyaW0oKSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBTdG9yaW5nIHN1Y2Nlc3MgbWVzc2FnZSB0byBjaGF0Li4uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TiyBDdXJyZW50IHNlc3Npb24gSUQ6Jywgc2Vzc2lvbklkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OLIE1lc3NhZ2UgY29udGVudCBsZW5ndGg6JywgcmVzdWx0Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBhZ2VudCdzIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdG9yZWRNZXNzYWdlID0gYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzSW5kaWNhdG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhaXRpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NUeXBlOiAnZmlsZV9jcmVhdGlvbl9jb21wbGV0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdncmVlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBTdWNjZXNzIG1lc3NhZ2Ugc3RvcmVkIHRvIGNoYXQhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TiyBTdG9yZWQgbWVzc2FnZSByZXN1bHQ6Jywgc3RvcmVkTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdhaXQgYSBtb21lbnQgYW5kIGNoZWNrIGlmIHRoZSBtZXNzYWdlIGFwcGVhcnMgaW4gdGhlIG1lc3NhZ2VzIGFycmF5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gTWVzc2FnZXMgYWZ0ZXIgc3VjY2VzcyBzdG9yYWdlOicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbE1lc3NhZ2VzOiBtZXNzYWdlcz8ubGVuZ3RoIHx8IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE1lc3NhZ2U6IG1lc3NhZ2VzPy5bbWVzc2FnZXMubGVuZ3RoIC0gMV0/LmNvbnRlbnQ/LnN1YnN0cmluZygwLCA1MCkgKyAnLi4uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0TWVzc2FnZVJvbGU6IG1lc3NhZ2VzPy5bbWVzc2FnZXMubGVuZ3RoIC0gMV0/LnJvbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBBZ2VudCByZXR1cm5lZCBlbXB0eSByZXN1bHQgYWZ0ZXIgcHJvamVjdCBzZWxlY3Rpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGhhbmRsaW5nIHByb2plY3Qgc2VsZWN0aW9uOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJ+KdjCBFcnJvciBwcm9jZXNzaW5nIHByb2plY3Qgc2VsZWN0aW9uLiBQbGVhc2UgdHJ5IGFnYWluLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DYW5jZWw9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IG1zZy5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY2FuY2VsbGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICfinYwgRmlsZSBjcmVhdGlvbiBjYW5jZWxsZWQuIFlvdSBjYW4gc3RhcnQgYSBuZXcgZmlsZSBjcmVhdGlvbiByZXF1ZXN0IGFueXRpbWUuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjYW5jZWxsaW5nIHByb2plY3Qgc2VsZWN0aW9uOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1iLTJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQudHlwZSA9PT0gJ3Byb2plY3Rfc2VsZWN0b3InICYmIG1zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5kYXRhPy5wcm9qZWN0TmFtZUlucHV0ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFByb2plY3ROYW1lSW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LmRhdGE/LnBsYWNlaG9sZGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LmRhdGE/LmRlZmF1bHRWYWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblByb2plY3ROYW1lU3VibWl0dGVkPXthc3luYyAocHJvamVjdE5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgY29tcG9uZW50IHN0YXR1cyB0byBjb21wbGV0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogbXNnLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogeyBwcm9qZWN0TmFtZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb250aW51ZSB0aGUgcHJvamVjdCBjcmVhdGlvbiBwcm9jZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZleE11dGF0aW9ucyA9IGNyZWF0ZUNvbnZleE11dGF0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9qZWN0Q3JlYXRvckFnZW50ID0gYWdlbnRzLmZpbmQoYSA9PiBhLmlkID09PSAncHJvamVjdC1jcmVhdG9yJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9qZWN0Q3JlYXRvckFnZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VuZCB1c2VyIG1lc3NhZ2Ugc2hvd2luZyB0aGUgcHJvamVjdCBuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBgUHJvamVjdCBuYW1lOiAke3Byb2plY3ROYW1lfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzSW5kaWNhdG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb250aW51aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1R5cGU6ICdwcm9qZWN0X25hbWVfaW5wdXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIGFnZW50IHdpdGggdGhlIHByb2plY3QgbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5qAIEV4ZWN1dGluZyBhZ2VudCB3aXRoIHByb2plY3QgbmFtZTonLCBwcm9qZWN0TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZUFnZW50VG9vbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3RDcmVhdG9yQWdlbnQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0Q3JlYXRvckFnZW50LnRvb2xzWzBdLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXhNdXRhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OlIEFnZW50IGV4ZWN1dGlvbiByZXN1bHQ6JywgcmVzdWx0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgc3RvcmUgbm9uLWVtcHR5IHJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC50cmltKCkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgU3RvcmluZyBwcm9qZWN0IGNyZWF0aW9uIHN1Y2Nlc3MgbWVzc2FnZS4uLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZSB0aGUgYWdlbnQncyByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzSW5kaWNhdG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhaXRpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NUeXBlOiAncHJvamVjdF9jcmVhdGlvbl9jb21wbGV0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdncmVlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBQcm9qZWN0IGNyZWF0aW9uIHN1Y2Nlc3MgbWVzc2FnZSBzdG9yZWQhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gQWdlbnQgcmV0dXJuZWQgZW1wdHkgcmVzdWx0IGFmdGVyIHByb2plY3QgbmFtZSBpbnB1dCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaGFuZGxpbmcgcHJvamVjdCBuYW1lIGlucHV0OicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJ+KdjCBFcnJvciBwcm9jZXNzaW5nIHByb2plY3QgbmFtZS4gUGxlYXNlIHRyeSBhZ2Fpbi4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBtc2cuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NhbmNlbGxlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAn4p2MIFByb2plY3QgY3JlYXRpb24gY2FuY2VsbGVkLiBZb3UgY2FuIHN0YXJ0IGEgbmV3IHByb2plY3QgY3JlYXRpb24gcmVxdWVzdCBhbnl0aW1lLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2FuY2VsbGluZyBwcm9qZWN0IG5hbWUgaW5wdXQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWItMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgeyhtc2cuaW50ZXJhY3RpdmVDb21wb25lbnQudHlwZSBhcyBzdHJpbmcpID09PSAnZmlsZV90eXBlX3NlbGVjdG9yJyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGaWxlVHlwZVNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25GaWxlVHlwZVNlbGVjdGVkPXthc3luYyAoZmlsZVR5cGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIHNlcmlhbGl6YWJsZSB2ZXJzaW9uIG9mIHRoZSBmaWxlVHlwZSB3aXRob3V0IFJlYWN0IGNvbXBvbmVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXphYmxlRmlsZVR5cGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZmlsZVR5cGUudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRlbnNpb246IGZpbGVUeXBlLmV4dGVuc2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZmlsZVR5cGUuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhdGZvcm06IGZpbGVUeXBlLnBsYXRmb3JtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZTogZmlsZVR5cGUuYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBjb21wb25lbnQgc3RhdHVzIHRvIGNvbXBsZXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBtc2cuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiB7IGZpbGVUeXBlOiBzZXJpYWxpemFibGVGaWxlVHlwZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb250aW51ZSB0aGUgZmlsZSBjcmVhdGlvbiBwcm9jZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZleE11dGF0aW9ucyA9IGNyZWF0ZUNvbnZleE11dGF0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlQ3JlYXRvckFnZW50ID0gYWdlbnRzLmZpbmQoYSA9PiBhLmlkID09PSAnZmlsZS1jcmVhdG9yJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlQ3JlYXRvckFnZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VuZCB1c2VyIG1lc3NhZ2Ugc2hvd2luZyB0aGUgZmlsZSB0eXBlIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogYFNlbGVjdGVkIGZpbGUgdHlwZTogJHtmaWxlVHlwZS5kZXNjcmlwdGlvbn1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzSW5kaWNhdG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb250aW51aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1R5cGU6ICdmaWxlX3R5cGVfc2VsZWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIHRoZSBhZ2VudCB3aXRoIHRoZSBmaWxlIHR5cGUgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfmoAgRXhlY3V0aW5nIGZpbGUgY3JlYXRvciBhZ2VudCB3aXRoIGZpbGUgdHlwZTonLCBmaWxlVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZUFnZW50VG9vbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVDcmVhdG9yQWdlbnQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlQ3JlYXRvckFnZW50LnRvb2xzWzBdLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYEZpbGUgdHlwZTogJHtmaWxlVHlwZS50eXBlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXhNdXRhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OlIEZpbGUgY3JlYXRvciBhZ2VudCByZXN1bHQ6JywgcmVzdWx0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgc3RvcmUgbm9uLWVtcHR5IHJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC50cmltKCkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgU3RvcmluZyBmaWxlIHR5cGUgY29udGludWF0aW9uIG1lc3NhZ2UuLi4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgdGhlIGFnZW50J3MgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0luZGljYXRvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd3YWl0aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVHlwZTogJ2ZpbGVfdHlwZV9jb250aW51ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdncmVlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBGaWxlIHR5cGUgY29udGludWF0aW9uIG1lc3NhZ2Ugc3RvcmVkIScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIEFnZW50IHJldHVybmVkIGVtcHR5IHJlc3VsdCBhZnRlciBmaWxlIHR5cGUgc2VsZWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBoYW5kbGluZyBmaWxlIHR5cGUgc2VsZWN0aW9uOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJ+KdjCBFcnJvciBwcm9jZXNzaW5nIGZpbGUgdHlwZSBzZWxlY3Rpb24uIFBsZWFzZSB0cnkgYWdhaW4uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbD17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogbXNnLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjYW5jZWxsZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJ+KdjCBGaWxlIGNyZWF0aW9uIGNhbmNlbGxlZC4gWW91IGNhbiBzdGFydCBhIG5ldyBmaWxlIGNyZWF0aW9uIHJlcXVlc3QgYW55dGltZS4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjYW5jZWxsaW5nIGZpbGUgdHlwZSBzZWxlY3Rpb246JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5zdGF0dXMgPT09ICdjb21wbGV0ZWQnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRmlsZVR5cGU9e21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5zdGF0dXMgPT09ICdjb21wbGV0ZWQnID8gbXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnJlc3VsdD8uZmlsZVR5cGUgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWItMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgeyhtc2cuaW50ZXJhY3RpdmVDb21wb25lbnQudHlwZSBhcyBzdHJpbmcpID09PSAnZmlsZV9uYW1lX2lucHV0JyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGaWxlTmFtZUlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5kYXRhPy5wbGFjZWhvbGRlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5kYXRhPy5kZWZhdWx0VmFsdWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVR5cGU9e21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5kYXRhPy5maWxlVHlwZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkZpbGVOYW1lU3VibWl0dGVkPXthc3luYyAoZmlsZU5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgY29tcG9uZW50IHN0YXR1cyB0byBjb21wbGV0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogbXNnLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogeyBmaWxlTmFtZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb250aW51ZSB0aGUgZmlsZSBjcmVhdGlvbiBwcm9jZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZleE11dGF0aW9ucyA9IGNyZWF0ZUNvbnZleE11dGF0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlQ3JlYXRvckFnZW50ID0gYWdlbnRzLmZpbmQoYSA9PiBhLmlkID09PSAnZmlsZS1jcmVhdG9yJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlQ3JlYXRvckFnZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSB0aGUgYWdlbnQgd2l0aCB0aGUgZmlsZSBuYW1lIEZJUlNUXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfmoAgRXhlY3V0aW5nIGZpbGUgY3JlYXRvciBhZ2VudCB3aXRoIGZpbGUgbmFtZTonLCBmaWxlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZUFnZW50VG9vbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVDcmVhdG9yQWdlbnQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlQ3JlYXRvckFnZW50LnRvb2xzWzBdLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXhNdXRhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVEhFTiBzZW5kIHVzZXIgbWVzc2FnZSBzaG93aW5nIHRoZSBmaWxlIG5hbWUgKGFmdGVyIGFnZW50IHByb2Nlc3NlcyBpdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGZpbGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzSW5kaWNhdG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb250aW51aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1R5cGU6ICdmaWxlX25hbWVfaW5wdXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TpSBGaWxlIGNyZWF0b3IgYWdlbnQgcmVzdWx0OicsIHJlc3VsdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHN0b3JlIG5vbi1lbXB0eSByZXN1bHRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQudHJpbSgpICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFN0b3JpbmcgZmlsZSBjcmVhdGlvbiBjb250aW51YXRpb24gbWVzc2FnZS4uLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZSB0aGUgYWdlbnQncyByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzSW5kaWNhdG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhaXRpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NUeXBlOiAnZmlsZV9jcmVhdGlvbl9jb250aW51ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdncmVlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBGaWxlIGNyZWF0aW9uIGNvbnRpbnVhdGlvbiBtZXNzYWdlIHN0b3JlZCEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBBZ2VudCByZXR1cm5lZCBlbXB0eSByZXN1bHQgYWZ0ZXIgZmlsZSBuYW1lIGlucHV0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBoYW5kbGluZyBmaWxlIG5hbWUgaW5wdXQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAn4p2MIEVycm9yIHByb2Nlc3NpbmcgZmlsZSBuYW1lLiBQbGVhc2UgdHJ5IGFnYWluLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DYW5jZWw9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IG1zZy5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY2FuY2VsbGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICfinYwgRmlsZSBjcmVhdGlvbiBjYW5jZWxsZWQuIFlvdSBjYW4gc3RhcnQgYSBuZXcgZmlsZSBjcmVhdGlvbiByZXF1ZXN0IGFueXRpbWUuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2FuY2VsbGluZyBmaWxlIG5hbWUgaW5wdXQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWItMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAge2lzQWdlbnRQcm9jZXNzTWVzc2FnZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSBtdC0xIG9wYWNpdHktODBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3Igc3VjY2Vzc2Z1bCBmaWxlIGNyZWF0aW9uIHdpdGggc3BlY2lmaWMgZmlsZSBpbmZvXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtc2cuY29udGVudC5pbmNsdWRlcyhcIlRoZSBjb21wcmVoZW5zaXZlIGluc3RydWN0aW9uIGRvY3VtZW50IGhhcyBiZWVuIGNyZWF0ZWQgYW5kIHNhdmVkIHRvIHlvdXIgZmlsZXMuXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBmaWxlbmFtZSBmcm9tIHRoZSBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZU1hdGNoID0gbXNnLmNvbnRlbnQubWF0Y2goL/Cfk4QgXFwqXFwqRmlsZTpcXCpcXCogYChbXmBdKylgLyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBmaWxlTWF0Y2ggPyBmaWxlTWF0Y2hbMV0gOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgcHJvamVjdEZpbGVzIH0gPSB1c2VFZGl0b3JTdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IHByb2plY3RGaWxlcy5maW5kKGYgPT4gZi5uYW1lID09PSBmaWxlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VFZGl0b3JTdG9yZS5nZXRTdGF0ZSgpLm9wZW5UYWIoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LVsjMDA3YWNjXSBob3Zlcjp0ZXh0LVsjNGVjOWIwXSBob3Zlcjp1bmRlcmxpbmUgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4oazIENsaWNrIGhlcmUgdG8gdmlldyB5b3VyIGZpbGUuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIG90aGVyIHN1Y2Nlc3MgaW5kaWNhdG9yc1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobXNnLmNvbnRlbnQuaW5jbHVkZXMoXCLinIUgKipGaWxlIENyZWF0ZWQgU3VjY2Vzc2Z1bGx5ISoqXCIpIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnLmNvbnRlbnQuaW5jbHVkZXMoXCLinIUgKipQcm9qZWN0IENyZWF0ZWQgU3VjY2Vzc2Z1bGx5ISoqXCIpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2cuY29udGVudC5pbmNsdWRlcyhcIuKchSAqKlRlbXBsYXRlIEFwcGxpZWQgU3VjY2Vzc2Z1bGx5ISoqXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWyM0ZWM5YjBdXCI+4oazIFByb2Nlc3MgY29tcGxldGVkIHN1Y2Nlc3NmdWxseSE8L3NwYW4+O1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IHdhaXRpbmcgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bIzRlYzliMF1cIj7ihrMgQWdlbnQgd2FpdGluZyBmb3IgeW91ciBpbnB1dC4uLjwvc3Bhbj47XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7bXNnLnJvbGUgPT09ICd0aGlua2luZycgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjZDRkNGFhXVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjZDRkNGFhXVwiPvCfp6AgdGhpbmtpbmc6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1sLTEgdGV4dC1bI2NjY2NjY10gd2hpdGVzcGFjZS1wcmUtd3JhcCB0ZXh0LXhzIGZvbnQtbW9ubyBpdGFsaWNcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7bXNnLmNvbnRlbnR9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7bXNnLnJvbGUgPT09ICd0ZXJtaW5hbCcgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjODU4NTg1XVwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyM1ODU4NThdIHdoaXRlc3BhY2UtcHJlLXdyYXAgYmctWyMxYTFhMWFdIHAtMSByb3VuZGVkIHRleHQtWzEwcHhdIGJvcmRlci1sLTIgYm9yZGVyLVsjMzMzXVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHttc2cuY29udGVudH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG5cbiAgICAgICAgICB7LyogU3RyZWFtaW5nIFRoaW5raW5nIERpc3BsYXkgKi99XG4gICAgICAgICAge2lzU3RyZWFtaW5nVGhpbmtpbmcgJiYgc3RyZWFtaW5nVGhpbmtpbmcgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjZDRkNGFhXVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWyNkNGQ0YWFdXCI+8J+noCB0aGlua2luZzo8L3NwYW4+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC0xIHRleHQtWyNjY2NjY2NdIHdoaXRlc3BhY2UtcHJlLXdyYXAgdGV4dC14cyBmb250LW1vbm8gaXRhbGljXCI+XG4gICAgICAgICAgICAgICAgICB7c3RyZWFtaW5nVGhpbmtpbmd9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHsvKiBMb2FkaW5nIGluZGljYXRvciAqL31cbiAgICAgICAgICB7aXNMb2FkaW5nICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bIzRlYzliMF1cIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bIzRlYzliMF1cIj7wn6SWIGFzc2lzdGFudDo8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTEgdGV4dC1bIzg1ODU4NV1cIj50aGlua2luZy4uLjwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBQaW5uZWQgQWdlbnQgUHJvZ3Jlc3MgQmFyICovfVxuICAgICAge2FnZW50UHJvZ3Jlc3MgJiYgYWdlbnRQcm9ncmVzcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1bIzBlMGUwZV0gcC0yIGZvbnQtbW9ubyB0ZXh0LXhzIGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICB7YWdlbnRQcm9ncmVzcy5tYXAoKHByb2dyZXNzKSA9PiAoXG4gICAgICAgICAgICA8ZGl2IGtleT17cHJvZ3Jlc3MuX2lkfSBjbGFzc05hbWU9XCJtYi0yIGxhc3Q6bWItMFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0xXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bIzAwN2FjY10gdGV4dC14c1wiPlxuICAgICAgICAgICAgICAgICAg8J+kliB7cHJvZ3Jlc3MuYWdlbnRUeXBlfSBBZ2VudFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjODU4NTg1XSB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgICAgICB7cHJvZ3Jlc3MucGVyY2VudGFnZX0lXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTY0IGJnLVsjMzMzXSByb3VuZGVkLWZ1bGwgaC0xLjUgcmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLVsjMDA3YWNjXSBoLTEuNSByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGFic29sdXRlIGxlZnQtMCB0b3AtMFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYCR7TWF0aC5taW4oMTAwLCBNYXRoLm1heCgwLCBwcm9ncmVzcy5wZXJjZW50YWdlKSl9JWAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAge3Byb2dyZXNzLnN0YXR1cyAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjODU4NTg1XSB0ZXh0LXhzIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgIHtwcm9ncmVzcy5zdGF0dXN9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogSW5wdXQgYXJlYSAtIE5vdyBvdXRzaWRlIHRoZSBzY3JvbGxhYmxlIGNvbnRhaW5lciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctWyMwZTBlMGVdIHAtMiBmb250LW1vbm8gdGV4dC14cyBmbGV4LXNocmluay0wXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjMDA3YWNjXVwiPiQgdXNlcjo8L3NwYW4+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwiZmxleC0xIG1sLTFcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICByZWY9e2lucHV0UmVmfVxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgIHZhbHVlPXttZXNzYWdlfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlSW5wdXRDaGFuZ2V9XG4gICAgICAgICAgICAgIG9uS2V5RG93bj17aGFuZGxlS2V5RG93bn1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e1xuICAgICAgICAgICAgICAgIGlzQXRTZXNzaW9uTGltaXQgXG4gICAgICAgICAgICAgICAgICA/IFwiU2Vzc2lvbiBsaW1pdCByZWFjaGVkIC0gU3RhcnQgbmV3IHNlc3Npb24gdG8gY29udGludWUuLi5cIiBcbiAgICAgICAgICAgICAgICAgIDogaXNMb2FkaW5nIFxuICAgICAgICAgICAgICAgICAgICA/IFwiQUkgaXMgdGhpbmtpbmcuLi5cIiBcbiAgICAgICAgICAgICAgICAgICAgOiBcIkFzayBhYm91dCB5b3VyIEVBQyBwcm9qZWN0Li4uXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nIHx8IGlzQXRTZXNzaW9uTGltaXR9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBiZy10cmFuc3BhcmVudCBib3JkZXItbm9uZSBvdXRsaW5lLW5vbmUgcGxhY2Vob2xkZXI6dGV4dC1bIzg1ODU4NV0gZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgY2FyZXQtWyNjY2NjY2NdICR7XG4gICAgICAgICAgICAgICAgaXNBdFNlc3Npb25MaW1pdCA/ICd0ZXh0LVsjZjQ4NzcxXScgOiAndGV4dC1bI2NjY2NjY10nXG4gICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59Il0sIm5hbWVzIjpbImFwaSIsInVzZUNoYXQiLCJ1c2VJbnN0cnVjdGlvbkNvbnRleHQiLCJ1c2VJbnN0cnVjdGlvbnMiLCJ1c2VNQ1AiLCJ1c2VBZ2VudFN0b3JlIiwidXNlRWRpdG9yU3RvcmUiLCJ1c2VDaGF0U3RvcmUiLCJ1c2VTZXNzaW9uU3RvcmUiLCJ1c2VVc2VyIiwidXNlTXV0YXRpb24iLCJ1c2VRdWVyeSIsIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJGaWxlTmFtZUlucHV0IiwiRmlsZVR5cGVTZWxlY3RvciIsIlByb2plY3ROYW1lSW5wdXQiLCJQcm9qZWN0U2VsZWN0b3IiLCJDaGF0TWVzc2FnZXMiLCJzY3JvbGxSZWYiLCJpbnB1dFJlZiIsInByb2Nlc3NlZE9wZXJhdGlvbnMiLCJTZXQiLCJtZXNzYWdlIiwic2V0TWVzc2FnZSIsImFjdGl2ZUFnZW50UHJvY2VzcyIsInNldEFjdGl2ZUFnZW50UHJvY2VzcyIsImNvbnNvbGUiLCJsb2ciLCJ1c2VyIiwiaXNMb2FkZWQiLCJpbml0aWFsaXplVXNlclNlc3Npb24iLCJhZGRUZXJtaW5hbEZlZWRiYWNrIiwic2V0U2Vzc2lvbklkIiwiYWN0aXZlU2Vzc2lvbklkIiwibWVzc2FnZXMiLCJpc0xvYWRpbmciLCJjaGF0TG9hZGluZyIsInNlbmRNZXNzYWdlIiwic2VuZE1lc3NhZ2VXaXRoU3RyZWFtaW5nIiwic2Vzc2lvbklkIiwic3RvcmVDaGF0TWVzc2FnZSIsInVzZVRlcm1pbmFsRmVlZGJhY2siLCJzdHJlYW1pbmdUaGlua2luZyIsImlzU3RyZWFtaW5nVGhpbmtpbmciLCJtZXNzYWdlQ291bnQiLCJpc05lYXJTZXNzaW9uTGltaXQiLCJpc0F0U2Vzc2lvbkxpbWl0IiwiY2FuQWRkTWVzc2FnZXMiLCJnZXRTZXNzaW9uU3RhdHVzIiwic3RhcnROZXdTZXNzaW9uIiwiYWdlbnRQcm9ncmVzcyIsImNoYXQiLCJnZXRBZ2VudFByb2dyZXNzIiwiaXNDb25uZWN0ZWQiLCJtY3BDb25uZWN0ZWQiLCJtY3BMb2FkaW5nIiwiZXJyb3IiLCJtY3BFcnJvciIsImF2YWlsYWJsZVRvb2xzIiwicHJvY2Vzc05hdHVyYWxMYW5ndWFnZSIsImFnZW50cyIsImFjdGl2ZUFnZW50SWQiLCJzZXRBY3RpdmVBZ2VudCIsImV4ZWN1dGVBZ2VudFRvb2wiLCJjcmVhdGVJbnN0cnVjdGlvbiIsImZpbGVzIiwiY3JlYXRlSW5zdHJ1Y3Rpb25GaWxlIiwiZW5zdXJlSW5zdHJ1Y3Rpb25zUHJvamVjdCIsInByb2plY3RzIiwidXBzZXJ0UG9zdCIsInNvY2lhbFBvc3RzIiwic2NoZWR1bGVQb3N0IiwiY3JlYXRlQ29udGVudENyZWF0aW9uRmlsZSIsImNyZWF0ZVByb2plY3QiLCJjcmVhdGVGaWxlIiwidXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQiLCJhbGxQb3N0cyIsImdldEFsbFBvc3RzIiwiYWxsUHJvamVjdHMiLCJnZXRQcm9qZWN0cyIsImluc3RydWN0aW9uQ29udGV4dCIsImluc3RydWN0aW9uc0xvYWRpbmciLCJjcmVhdGVOZXdGaWxlIiwiY3VycmVudCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsInVzZXJJZCIsImlkIiwidGltZW91dCIsInNldFRpbWVvdXQiLCJhZ2UiLCJEYXRlIiwibm93IiwidGltZXN0YW1wIiwiY2xlYXJUaW1lb3V0Iiwic3RyaXBNYXJrZG93biIsInRleHQiLCJyZXBsYWNlIiwic3BsaXQiLCJtYXAiLCJsaW5lIiwidHJpbSIsInN0YXJ0c1dpdGgiLCJsZW5ndGgiLCJqb2luIiwiaXNNQ1BRdWVyeSIsIm1jcEtleXdvcmRzIiwibG93ZXJUZXh0IiwidG9Mb3dlckNhc2UiLCJzb21lIiwia2V5d29yZCIsImluY2x1ZGVzIiwiaGFuZGxlVG9vbFNlbGVjdG9yQ2xvc2UiLCJmb2N1cyIsImNyZWF0ZUNvbnZleE11dGF0aW9ucyIsInBhcmFtcyIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInN0YXR1cyIsImJ1ZGdldCIsInJvbGUiLCJjb250ZW50Iiwib3BlcmF0aW9uIiwicHJvY2Vzc0luZGljYXRvciIsImludGVyYWN0aXZlQ29tcG9uZW50IiwibWVzc2FnZUlkIiwicmVzdWx0IiwidHlwZSIsInByb2plY3RJZCIsImV4dGVuc2lvbiIsInBsYXRmb3JtIiwic2l6ZSIsImhhbmRsZVN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIndhcm4iLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyMTIiLCJob3VyIiwibWludXRlIiwic2Vjb25kIiwibWVzc2FnZUNvbnRlbnQiLCJsYXN0TWVzc2FnZSIsImNvbnZleE11dGF0aW9ucyIsImlzRm9sbG93VXBUb1dhaXRpbmdBZ2VudCIsImNvbnRlbnRQcmV2aWV3Iiwic3Vic3RyaW5nIiwiYWN0aXZlQWdlbnQiLCJmaW5kIiwiYWdlbnQiLCJ0b29scyIsImRlZmF1bHRUb29sIiwicHJvY2Vzc1R5cGUiLCJjb2xvciIsInVuZGVmaW5lZCIsImlzV2FpdGluZ0ZvcklucHV0IiwiaXNDb21wbGV0aW9uUmVzcG9uc2UiLCJoYXNTZWxlY3RQcm9qZWN0IiwiaGFzTmV4dE1lc3NhZ2UiLCJoYXNXaGljaFByb2plY3QiLCJoYXNBdmFpbGFibGVQcm9qZWN0cyIsImhhc0ZpbGVDcmVhdGVkIiwiaGFzTmV4dFN0ZXBzIiwiYWdlbnRJZCIsIm1lc3NhZ2VUeXBlIiwid2lsbEhhdmVQcm9jZXNzSW5kaWNhdG9yIiwicmVzdWx0U25pcHBldCIsIkVycm9yIiwibWNwUmVzcG9uc2UiLCJzdWNjZXNzIiwidGV4dENvbnRlbnQiLCJwbGFpblRleHQiLCJjb250ZXh0dWFsTWVzc2FnZSIsImhhbmRsZUtleURvd24iLCJrZXkiLCJzaGlmdEtleSIsImhhbmRsZUlucHV0Q2hhbmdlIiwidmFsdWUiLCJ0YXJnZXQiLCJkaXYiLCJjbGFzc05hbWUiLCJyZWYiLCJzbGljZSIsInNwYW4iLCJtc2ciLCJpbmRleCIsImhhc1Byb2Nlc3NJbmRpY2F0b3IiLCJpc1VzZXJQcm9jZXNzTWVzc2FnZSIsImlzQWdlbnRQcm9jZXNzTWVzc2FnZSIsImRhdGEiLCJwcm9qZWN0TmFtZUlucHV0IiwiZmlsZURldGFpbHMiLCJkaXNhYmxlZCIsInNlbGVjdGVkUHJvamVjdCIsIm9uUHJvamVjdFNlbGVjdGVkIiwicHJvamVjdCIsIl9pZCIsImZpbGVDcmVhdG9yQWdlbnQiLCJhIiwicHJvamVjdFNlbGVjdGlvbklucHV0IiwidG9vbElkIiwidG9vbE5hbWUiLCJjb252ZXhNdXRhdGlvbnNBdmFpbGFibGUiLCJzdG9yZWRNZXNzYWdlIiwidG90YWxNZXNzYWdlcyIsImxhc3RNZXNzYWdlUm9sZSIsIm9uQ2FuY2VsIiwicGxhY2Vob2xkZXIiLCJkZWZhdWx0VmFsdWUiLCJvblByb2plY3ROYW1lU3VibWl0dGVkIiwicHJvamVjdE5hbWUiLCJwcm9qZWN0Q3JlYXRvckFnZW50Iiwib25GaWxlVHlwZVNlbGVjdGVkIiwiZmlsZVR5cGUiLCJzZXJpYWxpemFibGVGaWxlVHlwZSIsImF2YWlsYWJsZSIsInNlbGVjdGVkRmlsZVR5cGUiLCJvbkZpbGVOYW1lU3VibWl0dGVkIiwiZmlsZU5hbWUiLCJmaWxlTWF0Y2giLCJtYXRjaCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJwcm9qZWN0RmlsZXMiLCJnZXRTdGF0ZSIsImZpbGUiLCJmIiwib3BlblRhYiIsInByb2dyZXNzIiwiYWdlbnRUeXBlIiwicGVyY2VudGFnZSIsInN0eWxlIiwid2lkdGgiLCJNYXRoIiwibWluIiwibWF4IiwiZm9ybSIsIm9uU3VibWl0IiwiaW5wdXQiLCJvbkNoYW5nZSIsIm9uS2V5RG93biJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/_components/terminal/_components/chatMessages.tsx\n"));

/***/ })

});