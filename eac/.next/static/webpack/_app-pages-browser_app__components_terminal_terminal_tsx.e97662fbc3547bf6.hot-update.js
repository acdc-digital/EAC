"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_app__components_terminal_terminal_tsx",{

/***/ "(app-pages-browser)/./app/_components/terminal/_components/chatMessages.tsx":
/*!***************************************************************!*\
  !*** ./app/_components/terminal/_components/chatMessages.tsx ***!
  \***************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatMessages: () => (/* binding */ ChatMessages)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../node_modules/.pnpm/next@15.3.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _convex_generated_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/convex/_generated/api */ \"(app-pages-browser)/./convex/_generated/api.js\");\n/* harmony import */ var _lib_hooks_useChat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/hooks/useChat */ \"(app-pages-browser)/./lib/hooks/useChat.ts\");\n/* harmony import */ var _lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/hooks/useInstructions */ \"(app-pages-browser)/./lib/hooks/useInstructions.ts\");\n/* harmony import */ var _lib_hooks_useMCP__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/hooks/useMCP */ \"(app-pages-browser)/./lib/hooks/useMCP.ts\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/store */ \"(app-pages-browser)/./store/index.ts\");\n/* harmony import */ var _store_terminal_chat__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/store/terminal/chat */ \"(app-pages-browser)/./store/terminal/chat.ts\");\n/* harmony import */ var _store_terminal_session__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/store/terminal/session */ \"(app-pages-browser)/./store/terminal/session.ts\");\n/* harmony import */ var _clerk_nextjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @clerk/nextjs */ \"(app-pages-browser)/../node_modules/.pnpm/@clerk+clerk-react@5.38.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@clerk/clerk-react/dist/index.mjs\");\n/* harmony import */ var convex_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! convex/react */ \"(app-pages-browser)/../node_modules/.pnpm/convex@1.25.4_@clerk+clerk-react@5.38.0_react-dom@18.3.1_react@18.3.1__react@18.3.1__react@18.3.1/node_modules/convex/dist/esm/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../node_modules/.pnpm/next@15.3.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _editInstructionsInput__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./editInstructionsInput */ \"(app-pages-browser)/./app/_components/terminal/_components/editInstructionsInput.tsx\");\n/* harmony import */ var _fileNameInput__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./fileNameInput */ \"(app-pages-browser)/./app/_components/terminal/_components/fileNameInput.tsx\");\n/* harmony import */ var _fileSelector__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./fileSelector */ \"(app-pages-browser)/./app/_components/terminal/_components/fileSelector.tsx\");\n/* harmony import */ var _fileTypeSelector__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./fileTypeSelector */ \"(app-pages-browser)/./app/_components/terminal/_components/fileTypeSelector.tsx\");\n/* harmony import */ var _markdownRenderer__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./markdownRenderer */ \"(app-pages-browser)/./app/_components/terminal/_components/markdownRenderer.tsx\");\n/* harmony import */ var _projectNameInput__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./projectNameInput */ \"(app-pages-browser)/./app/_components/terminal/_components/projectNameInput.tsx\");\n/* harmony import */ var _projectSelector__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./projectSelector */ \"(app-pages-browser)/./app/_components/terminal/_components/projectSelector.tsx\");\n// Simplified Chat Messages Component - No Slash Commands\n// /Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\n/* __next_internal_client_entry_do_not_use__ ChatMessages auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ChatMessages() {\n    _s();\n    const scrollRef = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n    const processedOperations = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(new Set());\n    const [message, setMessage] = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(\"\");\n    const [activeAgentProcess, setActiveAgentProcess] = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(null);\n    // Debug logging for activeAgentProcess changes\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            console.log('activeAgentProcess changed:', activeAgentProcess);\n        }\n    }[\"ChatMessages.useEffect\"], [\n        activeAgentProcess\n    ]);\n    const { user, isLoaded } = (0,_clerk_nextjs__WEBPACK_IMPORTED_MODULE_17__.useUser)();\n    const { initializeUserSession, addTerminalFeedback, setSessionId } = (0,_store_terminal_chat__WEBPACK_IMPORTED_MODULE_6__.useChatStore)();\n    const { activeSessionId } = (0,_store_terminal_session__WEBPACK_IMPORTED_MODULE_7__.useSessionStore)();\n    const { messages, isLoading: chatLoading, sendMessage, sendMessageWithStreaming, sessionId, storeChatMessage, addTerminalFeedback: useTerminalFeedback, streamingThinking, isStreamingThinking, messageCount, isNearSessionLimit, isAtSessionLimit, canAddMessages, getSessionStatus, startNewSession } = (0,_lib_hooks_useChat__WEBPACK_IMPORTED_MODULE_2__.useChat)();\n    // Query for agent progress\n    const agentProgress = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.chat.getAgentProgress, {\n        sessionId\n    });\n    const { isConnected: mcpConnected, isLoading: mcpLoading, error: mcpError, availableTools, processNaturalLanguage } = (0,_lib_hooks_useMCP__WEBPACK_IMPORTED_MODULE_4__.useMCP)();\n    // Agent execution and mutations\n    const { agents, activeAgentId, setActiveAgent, executeAgentTool } = (0,_store__WEBPACK_IMPORTED_MODULE_5__.useAgentStore)();\n    const createInstruction = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.createInstructionFile);\n    const ensureInstructionsProject = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.projects.ensureInstructionsProject);\n    const upsertPost = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.socialPosts.upsertPost);\n    const schedulePost = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.socialPosts.schedulePost);\n    const createContentCreationFile = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.createContentCreationFile);\n    const createProject = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.projects.createProject);\n    const createFile = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.createFile);\n    const getAllUserFiles = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.getAllUserFiles, {});\n    const updateInteractiveComponent = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.chat.updateInteractiveComponent);\n    const editFileWithAI = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useAction)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.editorActions.editFileWithAI);\n    const updateFileContent = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.updateFileContent);\n    const allPosts = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.socialPosts.getAllPosts, {});\n    const allProjects = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.projects.getProjects, {});\n    const instructionContext = (0,_lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructionContext)();\n    const { isLoading: instructionsLoading } = (0,_lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructions)();\n    const { createNewFile } = (0,_store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore)();\n    const isLoading = chatLoading || mcpLoading || instructionsLoading;\n    // Auto-scroll to bottom when new messages arrive\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (scrollRef.current) {\n                scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        messages\n    ]);\n    // Initialize user session when component mounts and user is loaded\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (isLoaded && user && !sessionId) {\n                console.log(\"ðŸ”„ Initializing user session...\", {\n                    userId: user.id\n                });\n                initializeUserSession(user.id);\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        user,\n        isLoaded,\n        sessionId,\n        initializeUserSession\n    ]);\n    // Sync session ID if active session changes\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (activeSessionId && activeSessionId !== sessionId) {\n                console.log(\"ðŸ”„ Syncing to active session:\", activeSessionId);\n                setSessionId(activeSessionId);\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        activeSessionId,\n        sessionId,\n        setSessionId\n    ]);\n    // Clear active agent process after timeout\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (activeAgentProcess) {\n                const timeout = setTimeout({\n                    \"ChatMessages.useEffect.timeout\": ()=>{\n                        const age = Date.now() - activeAgentProcess.timestamp;\n                        if (age > 5 * 60 * 1000) {\n                            setActiveAgentProcess(null);\n                        }\n                    }\n                }[\"ChatMessages.useEffect.timeout\"], 5 * 60 * 1000);\n                return ({\n                    \"ChatMessages.useEffect\": ()=>clearTimeout(timeout)\n                })[\"ChatMessages.useEffect\"];\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        activeAgentProcess\n    ]);\n    // DISABLED: Process messages with operations to create UI files\n    // This is now handled by useFileLoad hook which syncs from Convex to local store\n    /*\n  useEffect(() => {\n    if (!messages) return;\n    \n    console.log('ðŸ” Processing messages for operations:', {\n      totalMessages: messages.length,\n      recentMessagesCount: messages.slice(-10).length,\n      processedCount: processedOperations.current.size\n    });\n    \n    // Look for messages with operations that need UI processing\n    const recentMessages = messages.slice(-10); // Check last 10 messages\n    \n    recentMessages.forEach((message: any, index) => {\n      console.log(`ðŸ” Message ${index}:`, {\n        id: message._id,\n        role: message.role,\n        hasOperation: !!message.operation,\n        operationType: message.operation?.type,\n        operationDetails: message.operation?.details,\n        contentPreview: message.content?.substring(0, 100),\n        alreadyProcessed: processedOperations.current.has(message._id)\n      });\n      \n      if (message.operation?.type === 'file_created' && message._id) {\n        // Skip if already processed\n        if (processedOperations.current.has(message._id)) {\n          console.log(`â­ï¸ Skipping already processed message: ${message._id}`);\n          return;\n        }\n        \n        const { fileName, fileType, content, platformData, agentType } = message.operation.details;\n        \n        console.log('ðŸ” File creation operation found:', {\n          fileName,\n          fileType,\n          agentType,\n          hasContent: !!content,\n          contentLength: content?.length || 0,\n          willProcess: agentType === 'twitter' && content\n        });\n        \n        // Only process Twitter agent files for UI creation that have content\n        if (agentType === 'twitter' && content) {\n          console.log('ðŸ”„ Processing social file operation:', {\n            fileName,\n            fileType,\n            content: content,\n            contentLength: content?.length || 0,\n            contentType: typeof content,\n            messageId: message._id,\n            platformData: platformData,\n            allDetails: message.operation.details\n          });\n          \n          // Mark as processed FIRST to prevent race conditions\n          processedOperations.current.add(message._id);\n          \n          // Parse the platform data with error handling\n          let platformDataObj;\n          try {\n            platformDataObj = platformData ? JSON.parse(platformData) : {};\n          } catch (error) {\n            console.warn('âš ï¸ Failed to parse platform data, using defaults:', error);\n            platformDataObj = {\n              replySettings: 'following',\n              scheduledDate: '',\n              scheduledTime: '',\n              isThread: false\n            };\n          }\n          \n          // Create the content for the Twitter post file in the expected format\n          const postContent = `# ${fileName.replace(/\\.[^/.]+$/, \"\")} - X (Twitter) Post\nPlatform: X (Twitter)\nCreated: ${new Date().toLocaleDateString()}\n\n## Post Content\n${content}\n\n## Settings\n- Reply Settings: ${platformDataObj.replySettings || 'following'}\n- Schedule: ${platformDataObj.scheduledDate && platformDataObj.scheduledTime ? `${platformDataObj.scheduledDate} ${platformDataObj.scheduledTime}` : 'Now'}\n- Thread: ${platformDataObj.isThread ? 'Multi-tweet Thread' : 'Single Tweet'}\n\n## Media\n- Images: []\n- Videos: []\n\n## Analytics\n- Impressions: 0\n- Engagements: 0\n- Likes: 0\n- Shares: 0`;\n\n          // Get the createNewFile function from the store at execution time\n          const { createNewFile, projectFolders } = useEditorStore.getState();\n          \n          // Find the Content Creation folder ID\n          const contentCreationFolder = projectFolders.find(folder => \n            folder.name === 'Content Creation'\n          );\n          \n          if (contentCreationFolder) {\n            // Create the file in the Content Creation folder\n            createNewFile(\n              fileName,\n              'x', // Use 'x' type for Twitter files\n              'project',\n              contentCreationFolder.id,\n              postContent\n            );\n            \n            console.log('âœ… Created social file in UI:', fileName);\n          } else {\n            console.warn('âš ï¸ Content Creation folder not found');\n            \n            // Create without folder ID if folder not found\n            createNewFile(\n              fileName,\n              'x',\n              'project',\n              undefined,\n              postContent\n            );\n          }\n        }\n      }\n    });\n  }, [messages]); // Removed createNewFile from dependencies to prevent re-runs on panel switches\n  */ // Helper function to strip markdown formatting\n    const stripMarkdown = (text)=>{\n        return text.replace(/#{1,6}\\s*/g, '') // Remove headers\n        .replace(/\\*\\*(.*?)\\*\\*/g, '$1') // Remove **bold**\n        .replace(/\\*(.*?)\\*/g, '$1') // Remove *italic*\n        .replace(/`([^`]+)`/g, '$1') // Remove `code`\n        .replace(/^\\s*[-*+]\\s+/gm, 'â€¢ ') // Convert markdown lists to bullet points\n        .replace(/^\\s*\\d+\\.\\s+/gm, 'â€¢ ') // Convert numbered lists to bullet points\n        .replace(/\\n\\s*\\n\\s*\\n/g, '\\n\\n') // Reduce multiple blank lines to double\n        .split('\\n') // Split into lines for processing\n        .map((line)=>{\n            // Add spacing after section headers (lines that don't start with bullet points)\n            if (line.trim() && !line.startsWith('â€¢') && !line.startsWith(' ') && line.length > 0) {\n                return line + '\\n'; // Add extra newline after headers\n            }\n            return line;\n        }).join('\\n').replace(/\\n{3,}/g, '\\n\\n') // Clean up excessive newlines\n        .trim();\n    };\n    // Helper function to detect MCP-related queries (excluding direct tool commands)\n    const isMCPQuery = (text)=>{\n        // Don't treat direct tool commands as NLP queries\n        if (text.startsWith('/')) return false;\n        // Look for keywords that suggest MCP analysis would be helpful\n        const mcpKeywords = [\n            'analyze',\n            'examine',\n            'review',\n            'explain',\n            'understand',\n            'architecture',\n            'structure',\n            'code',\n            'component',\n            'function',\n            'implementation',\n            'pattern',\n            'best practice',\n            'issue',\n            'bug',\n            'error',\n            'performance',\n            'optimization',\n            'refactor',\n            'improvement',\n            'documentation',\n            'overview',\n            'summary',\n            'how does',\n            'what is',\n            'why is',\n            'where is',\n            'when is',\n            'which'\n        ];\n        const lowerText = text.toLowerCase();\n        return mcpKeywords.some((keyword)=>lowerText.includes(keyword));\n    };\n    const handleToolSelectorClose = ()=>{\n        var _inputRef_current;\n        setMessage(\"\");\n        (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n    };\n    // Helper function to create convexMutations object for agents\n    const createConvexMutations = ()=>{\n        return {\n            ensureInstructionsProject,\n            createInstructionFile: createInstruction,\n            upsertPost,\n            schedulePost,\n            createContentCreationFile,\n            createProject: async (params)=>{\n                return await createProject({\n                    name: params.name,\n                    description: params.description,\n                    status: params.status || 'active',\n                    budget: params.budget\n                });\n            },\n            getProjects: async ()=>{\n                return allProjects || [];\n            },\n            getAllFiles: async ()=>{\n                return getAllUserFiles || [];\n            },\n            storeChatMessage: async (params)=>{\n                return await storeChatMessage({\n                    role: params.role,\n                    content: params.content,\n                    sessionId: params.sessionId || sessionId,\n                    operation: params.operation,\n                    processIndicator: params.processIndicator,\n                    interactiveComponent: params.interactiveComponent\n                });\n            },\n            updateInteractiveComponent: async (params)=>{\n                return await updateInteractiveComponent({\n                    messageId: params.messageId,\n                    status: params.status,\n                    result: params.result\n                });\n            },\n            createFile: async (params)=>{\n                return await createFile({\n                    name: params.name,\n                    type: params.type,\n                    projectId: params.projectId,\n                    content: params.content,\n                    extension: params.extension,\n                    platform: params.platform,\n                    size: params.size\n                });\n            },\n            getAllPosts: async ()=>{\n                return allPosts || [];\n            },\n            editFileWithAI: async (params)=>{\n                return await editFileWithAI({\n                    fileName: params.fileName,\n                    originalContent: params.originalContent,\n                    editInstructions: params.editInstructions,\n                    fileType: params.fileType\n                });\n            },\n            updateFileContent: async (params)=>{\n                return await updateFileContent({\n                    fileId: params.fileId,\n                    content: params.content\n                });\n            },\n            // Campaign-related functions (simplified for now)\n            createCampaign: async (params)=>{\n                // For now, just return a simple campaign ID since the API isn't ready\n                console.log('Campaign creation requested:', params);\n                return {\n                    _id: \"campaign_\".concat(Date.now())\n                };\n            },\n            createPostsBatch: async (params)=>{\n                // For now, just log the batch creation\n                console.log('Batch posts creation requested:', params);\n                return params.posts.map((_, index)=>\"post_\".concat(Date.now(), \"_\").concat(index));\n            }\n        };\n    };\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        // Check session limit before processing\n        if (!canAddMessages()) {\n            console.warn(\"Cannot send message: Session limit reached\");\n            // Add a terminal feedback message about the limit\n            await storeChatMessage({\n                role: \"terminal\",\n                content: \"[\".concat(new Date().toLocaleTimeString('en-US', {\n                    hour12: false,\n                    hour: '2-digit',\n                    minute: '2-digit',\n                    second: '2-digit'\n                }), \"] \\uD83D\\uDEA8 Message not sent: Session limit reached (500 messages)\\nPlease start a new session to continue chatting.\"),\n                sessionId\n            });\n            return;\n        }\n        if (message.trim() && !isLoading) {\n            const messageContent = message.trim();\n            console.log('ðŸ’¬ User submitting message:', messageContent);\n            setMessage(\"\");\n            // Check if this is an agent command when an agent is active\n            // BUT only route to editor agent if it has a selected file and is waiting for edit instructions\n            if (activeAgentId && !messageContent.startsWith('/')) {\n                console.log('ðŸ¤– Checking if should route to active agent:', activeAgentId);\n                let shouldRouteToAgent = true;\n                // Special handling for editor agent - only route if file is selected and waiting for edit instructions\n                if (activeAgentId === 'editor') {\n                    const { EditorAgent } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/store/agents/editorAgent */ \"(app-pages-browser)/./store/agents/editorAgent.ts\"));\n                    const hasSelectedFile = EditorAgent.selectedFile !== null;\n                    const isWaitingForEditInstructions = EditorAgent.currentStep === 'edit-request';\n                    console.log('ðŸ” Editor agent state check:', {\n                        hasSelectedFile,\n                        isWaitingForEditInstructions,\n                        selectedFile: EditorAgent.selectedFile,\n                        currentStep: EditorAgent.currentStep\n                    });\n                    // If no file selected, agent should show file selector\n                    // If file selected and waiting for instructions, agent should process the edit\n                    // Always route to editor agent when it's active\n                    shouldRouteToAgent = true;\n                }\n                if (shouldRouteToAgent) {\n                    console.log('ðŸ¤– Routing to active agent:', activeAgentId);\n                    try {\n                        var _lastMessage_processIndicator;\n                        console.log(\"\\uD83E\\uDD16 Executing agent \".concat(activeAgentId, \" with message: \").concat(messageContent));\n                        // Create convex mutations for the agent\n                        const convexMutations = createConvexMutations();\n                        // Check if the last message was an agent waiting for input\n                        const lastMessage = messages && messages.length > 0 ? messages[messages.length - 1] : null;\n                        const isFollowUpToWaitingAgent = lastMessage && lastMessage.role === 'assistant' && ((_lastMessage_processIndicator = lastMessage.processIndicator) === null || _lastMessage_processIndicator === void 0 ? void 0 : _lastMessage_processIndicator.type) === 'waiting';\n                        console.log('Pre-execution state:', {\n                            lastMessage: lastMessage ? {\n                                role: lastMessage.role,\n                                processIndicator: lastMessage.processIndicator,\n                                contentPreview: lastMessage.content.substring(0, 50)\n                            } : null,\n                            isFollowUpToWaitingAgent\n                        });\n                        // Find the active agent and its default tool\n                        const activeAgent = agents.find((agent)=>agent.id === activeAgentId);\n                        if (activeAgent && activeAgent.tools.length > 0) {\n                            const defaultTool = activeAgent.tools[0]; // Use the first tool as default\n                            // âœ… FIX #1: Always store the user message first, regardless of agent result\n                            await storeChatMessage({\n                                role: \"user\",\n                                content: messageContent,\n                                sessionId,\n                                processIndicator: isFollowUpToWaitingAgent ? {\n                                    type: 'continuing',\n                                    processType: 'file-creation',\n                                    color: 'blue'\n                                } : undefined\n                            });\n                            // Execute the agent tool\n                            const result = await executeAgentTool(activeAgentId, defaultTool.id, messageContent, convexMutations, sessionId);\n                            // Handle empty results from interactive components\n                            if (!result || result.trim() === \"\") {\n                                console.log('Agent returned empty result - this is expected for interactive components');\n                                // User message was already stored above - interactive component handles the UI\n                                return;\n                            }\n                            // Check if result indicates waiting for user input (project selection)\n                            const isWaitingForInput = result.includes(\"ðŸŽ¯ Select a project:\") || result.includes(\"ðŸ’¡ **Next message:** Just type your selection!\") || result.includes(\"Which Project?\") || result.includes(\"Available Projects:\");\n                            // Check if result indicates successful completion\n                            const isCompletionResponse = result.includes(\"âœ… **File Created Successfully!**\") || result.includes(\"File Created Successfully!\") || result.includes(\"**Next Steps:**\") || result.includes(\"Next Steps:\");\n                            console.log('Agent Execution Debug:', {\n                                activeAgentId,\n                                result: result.substring(0, 200) + '...',\n                                isWaitingForInput,\n                                isCompletionResponse,\n                                isFollowUpToWaitingAgent,\n                                hasSelectProject: result.includes(\"ðŸŽ¯ Select a project:\"),\n                                hasNextMessage: result.includes(\"ðŸ’¡ **Next message:** Just type your selection!\"),\n                                hasWhichProject: result.includes(\"Which Project?\"),\n                                hasAvailableProjects: result.includes(\"Available Projects:\"),\n                                hasFileCreated: result.includes(\"âœ… **File Created Successfully!**\"),\n                                hasNextSteps: result.includes(\"**Next Steps:**\")\n                            });\n                            if (isWaitingForInput) {\n                                console.log('Setting active agent process for file creation');\n                                setActiveAgentProcess({\n                                    agentId: activeAgentId,\n                                    processType: 'file-creation',\n                                    timestamp: Date.now()\n                                });\n                            } else {\n                                console.log('Clearing active agent process - agent completed');\n                                // Clear active process when agent completes\n                                setActiveAgentProcess(null);\n                                // For editor agent, keep it active during the file selection workflow\n                                // Only clear it when the editing is actually complete\n                                if (activeAgentId === 'editor') {\n                                    // Check if editor agent is waiting for edit instructions after file selection\n                                    const { EditorAgent } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/store/agents/editorAgent */ \"(app-pages-browser)/./store/agents/editorAgent.ts\"));\n                                    if (EditorAgent.currentStep === 'edit-request' && EditorAgent.selectedFile) {\n                                        console.log('Keeping editor agent active - waiting for edit instructions');\n                                    // Keep the agent active to receive editing instructions\n                                    } else if (EditorAgent.currentStep === 'file-selection') {\n                                        console.log('Keeping editor agent active - waiting for file selection');\n                                    // Keep the agent active during file selection\n                                    } else {\n                                        console.log('Clearing editor agent - editing complete');\n                                        setActiveAgent(null);\n                                    }\n                                } else {\n                                    // Clear active agent ID if the result indicates interactive components are shown\n                                    // This prevents subsequent text input from being routed back to the agent\n                                    if (result.includes(\"Select a file to edit\") || result.includes(\"file_selector\") || result.includes(\"Choose a file from the selector\")) {\n                                        console.log('Clearing active agent ID - interactive component shown');\n                                        setActiveAgent(null);\n                                    }\n                                }\n                            }\n                            // Store agent result with process indicators (user message already stored above)\n                            await storeChatMessage({\n                                role: \"assistant\",\n                                content: \"\\uD83E\\uDD16 **\".concat(activeAgent.name, \" Agent Result:**\\n\\n\").concat(result),\n                                sessionId,\n                                processIndicator: isWaitingForInput || isCompletionResponse || isFollowUpToWaitingAgent ? {\n                                    type: 'waiting',\n                                    processType: 'file-creation',\n                                    color: 'green'\n                                } : undefined\n                            });\n                            // Debug log for what processIndicator was set\n                            console.log('StoreChatMessage Debug:', {\n                                messageType: 'assistant',\n                                willHaveProcessIndicator: !!(isWaitingForInput || isCompletionResponse || isFollowUpToWaitingAgent),\n                                isWaitingForInput,\n                                isCompletionResponse,\n                                isFollowUpToWaitingAgent,\n                                resultSnippet: result.substring(0, 100)\n                            });\n                            return;\n                        }\n                    } catch (error) {\n                        console.error('Agent execution error:', error);\n                        // Store the user message and error\n                        await storeChatMessage({\n                            role: \"user\",\n                            content: messageContent,\n                            sessionId\n                        });\n                        await storeChatMessage({\n                            role: \"assistant\",\n                            content: \"âŒ Agent execution failed: \".concat(error instanceof Error ? error.message : 'Unknown error'),\n                            sessionId\n                        });\n                        return;\n                    }\n                } // Close the if (shouldRouteToAgent) block\n            }\n            // Check if this looks like a natural language MCP query\n            if (mcpConnected && isMCPQuery(messageContent)) {\n                try {\n                    const mcpResponse = await processNaturalLanguage(messageContent);\n                    if (mcpResponse.success && mcpResponse.content && mcpResponse.content.length > 0) {\n                        // Extract the actual text content from the MCP response\n                        const textContent = mcpResponse.content[0].text;\n                        // Strip markdown formatting and convert to plain text\n                        const plainText = stripMarkdown(textContent);\n                        // Send the MCP response with clean text content\n                        await sendMessage(\"\\uD83E\\uDD16 MCP Analysis:\\n\\n\".concat(plainText));\n                    } else {\n                        await sendMessage(messageContent);\n                    }\n                } catch (error) {\n                    console.error('MCP Error:', error);\n                    // Fall back to regular chat\n                    await sendMessage(messageContent);\n                }\n            } else {\n                // Regular chat message - add instruction context if available\n                let contextualMessage = messageContent;\n                if (instructionContext) {\n                    contextualMessage = \"\".concat(instructionContext, \"\\n\\n---\\n\\n\").concat(messageContent);\n                }\n                // Always use streaming thinking for all messages (thinking enabled by default)\n                await sendMessageWithStreaming(contextualMessage, messageContent);\n            }\n        }\n    };\n    const handleKeyDown = (e)=>{\n        if (e.key === 'Enter' && !e.shiftKey) {\n            e.preventDefault();\n            handleSubmit(e);\n        }\n    };\n    const handleInputChange = (e)=>{\n        const value = e.target.value;\n        setMessage(value);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex-1 flex flex-col min-h-0\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: scrollRef,\n                className: \"flex-1 overflow-y-auto bg-[#0e0e0e] p-2 pb-8 min-h-0 scrollbar-hidden\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"font-mono text-xs space-y-2 min-h-full\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-[#cccccc] space-y-1 mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: \"EAC Financial Dashboard - AI Assistant\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 665,\n                                    columnNumber: 13\n                                }, this),\n                                mcpError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#f48771] text-xs\",\n                                    children: [\n                                        \"MCP Error: \",\n                                        mcpError\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 667,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#858585] mt-2\",\n                                    children: \"AI Assistant ready for EAC project questions.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 669,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#858585] text-xs\",\n                                    children: [\n                                        \"Session: \",\n                                        sessionId.slice(-8)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 670,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#858585] text-xs\",\n                                    children: [\n                                        \"Messages: \",\n                                        messageCount,\n                                        \"/500\",\n                                        isNearSessionLimit && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-[#f48771] ml-2\",\n                                            children: \"âš ï¸ Approaching limit\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                            lineNumber: 676,\n                                            columnNumber: 17\n                                        }, this),\n                                        isAtSessionLimit && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-[#f48771] ml-2\",\n                                            children: \"\\uD83D\\uDEA8 Session full\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                            lineNumber: 679,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 673,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 664,\n                            columnNumber: 11\n                        }, this),\n                        messages === null || messages === void 0 ? void 0 : messages.map((msg, index)=>{\n                            var _msg_processIndicator_processType, _msg_processIndicator, _msg_interactiveComponent_data, _msg_interactiveComponent_data1, _msg_interactiveComponent_result, _msg_interactiveComponent_result1, _msg_interactiveComponent_data2, _msg_interactiveComponent_data3, _msg_interactiveComponent_data4, _msg_interactiveComponent_data5, _msg_interactiveComponent_data6, _msg_interactiveComponent_data7, _msg_interactiveComponent_result2, _msg_interactiveComponent_data8, _msg_interactiveComponent_data9, _msg_interactiveComponent_data10;\n                            // Use the stored processIndicator for visual continuity\n                            const hasProcessIndicator = msg.processIndicator;\n                            const isUserProcessMessage = hasProcessIndicator && msg.role === 'user' && hasProcessIndicator.type === 'continuing';\n                            const isAgentProcessMessage = hasProcessIndicator && msg.role === 'assistant' && hasProcessIndicator.type === 'waiting';\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1\",\n                                children: [\n                                    msg.role === 'user' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#007acc] \".concat(isUserProcessMessage ? 'border-l-4 border-[#0078d4] pl-3' : ''),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[#007acc]\",\n                                                children: \"$ user:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 697,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"ml-1 text-[#cccccc]\",\n                                                children: msg.content\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 698,\n                                                columnNumber: 21\n                                            }, this),\n                                            isUserProcessMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-[10px] text-[#0078d4] mt-1 opacity-80\",\n                                                children: [\n                                                    \"â†³ Continuing \",\n                                                    (_msg_processIndicator = msg.processIndicator) === null || _msg_processIndicator === void 0 ? void 0 : (_msg_processIndicator_processType = _msg_processIndicator.processType) === null || _msg_processIndicator_processType === void 0 ? void 0 : _msg_processIndicator_processType.replace('-', ' '),\n                                                    \"...\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 700,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 696,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.role === 'assistant' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#4ec9b0] \".concat(isAgentProcessMessage ? 'border-l-4 border-[#4ec9b0] pl-3' : ''),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[#4ec9b0]\",\n                                                children: \"$ assistant:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 708,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"ml-1\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_markdownRenderer__WEBPACK_IMPORTED_MODULE_14__.MarkdownRenderer, {\n                                                    content: msg.content\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                    lineNumber: 710,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 709,\n                                                columnNumber: 21\n                                            }, this),\n                                            msg.interactiveComponent && (msg.interactiveComponent.status === 'pending' || msg.interactiveComponent.status === 'completed') && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-3 ml-1\",\n                                                children: [\n                                                    msg.interactiveComponent.type === 'project_selector' && !((_msg_interactiveComponent_data = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data === void 0 ? void 0 : _msg_interactiveComponent_data.projectNameInput) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_projectSelector__WEBPACK_IMPORTED_MODULE_16__.ProjectSelector, {\n                                                        fileDetails: (_msg_interactiveComponent_data1 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data1 === void 0 ? void 0 : _msg_interactiveComponent_data1.fileDetails,\n                                                        disabled: msg.interactiveComponent.status === 'completed',\n                                                        selectedProject: msg.interactiveComponent.status === 'completed' ? (_msg_interactiveComponent_result = msg.interactiveComponent.result) === null || _msg_interactiveComponent_result === void 0 ? void 0 : _msg_interactiveComponent_result.selectedProject : undefined,\n                                                        onProjectSelected: async (project)=>{\n                                                            try {\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        selectedProject: project\n                                                                    }\n                                                                });\n                                                                // Continue the file creation process\n                                                                const convexMutations = createConvexMutations();\n                                                                const fileCreatorAgent = agents.find((a)=>a.id === 'file-creator');\n                                                                if (fileCreatorAgent) {\n                                                                    var _result_trim;\n                                                                    // Simulate user input for project selection\n                                                                    const projectSelectionInput = \"Add it to \".concat(project.name);\n                                                                    // Send user message showing the selection\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: \"Selected project: \".concat(project.name),\n                                                                        sessionId: sessionId,\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'project_selection',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    // Execute the agent with the selection\n                                                                    console.log('ðŸš€ Executing agent with project selection:', projectSelectionInput);\n                                                                    console.log('ðŸ”§ Agent details:', {\n                                                                        agentId: fileCreatorAgent.id,\n                                                                        toolId: fileCreatorAgent.tools[0].id,\n                                                                        toolName: fileCreatorAgent.tools[0].name,\n                                                                        convexMutationsAvailable: {\n                                                                            createFile: !!convexMutations.createFile,\n                                                                            getProjects: !!convexMutations.getProjects,\n                                                                            storeChatMessage: !!convexMutations.storeChatMessage\n                                                                        }\n                                                                    });\n                                                                    const result = await executeAgentTool(fileCreatorAgent.id, fileCreatorAgent.tools[0].id, projectSelectionInput, convexMutations, sessionId);\n                                                                    console.log('ðŸ“¥ Agent execution result:', result);\n                                                                    console.log('ðŸ“ Result length:', (result === null || result === void 0 ? void 0 : result.length) || 0);\n                                                                    console.log('ðŸ“‹ Result content preview:', result === null || result === void 0 ? void 0 : result.substring(0, 100));\n                                                                    console.log('ðŸ” Result type:', typeof result);\n                                                                    console.log('ðŸŽ¯ Is result truthy:', !!result);\n                                                                    console.log('ðŸŽ¯ Is result empty string:', result === \"\");\n                                                                    console.log('ðŸŽ¯ Result trimmed length:', (result === null || result === void 0 ? void 0 : (_result_trim = result.trim()) === null || _result_trim === void 0 ? void 0 : _result_trim.length) || 0);\n                                                                    // Only store non-empty results\n                                                                    if (result && result.trim() !== \"\") {\n                                                                        console.log('âœ… Storing success message to chat...');\n                                                                        console.log('ðŸ“‹ Current session ID:', sessionId);\n                                                                        console.log('ðŸ“‹ Message content length:', result.length);\n                                                                        // Store the agent's response\n                                                                        const storedMessage = await storeChatMessage({\n                                                                            role: 'assistant',\n                                                                            content: result,\n                                                                            sessionId: sessionId,\n                                                                            processIndicator: {\n                                                                                type: 'waiting',\n                                                                                processType: 'file_creation_complete',\n                                                                                color: 'green'\n                                                                            }\n                                                                        });\n                                                                        console.log('âœ… Success message stored to chat!');\n                                                                        console.log('ðŸ“‹ Stored message result:', storedMessage);\n                                                                        // Wait a moment and check if the message appears in the messages array\n                                                                        setTimeout(()=>{\n                                                                            var _messages__content, _messages_, _messages_1;\n                                                                            console.log('ðŸ” Messages after success storage:', {\n                                                                                totalMessages: (messages === null || messages === void 0 ? void 0 : messages.length) || 0,\n                                                                                lastMessage: (messages === null || messages === void 0 ? void 0 : (_messages_ = messages[messages.length - 1]) === null || _messages_ === void 0 ? void 0 : (_messages__content = _messages_.content) === null || _messages__content === void 0 ? void 0 : _messages__content.substring(0, 50)) + '...',\n                                                                                lastMessageRole: messages === null || messages === void 0 ? void 0 : (_messages_1 = messages[messages.length - 1]) === null || _messages_1 === void 0 ? void 0 : _messages_1.role,\n                                                                                sessionId: sessionId\n                                                                            });\n                                                                        }, 1000);\n                                                                    } else {\n                                                                        console.log('âš ï¸ Agent returned empty result after project selection');\n                                                                    }\n                                                                }\n                                                            } catch (error) {\n                                                                console.error('Error handling project selection:', error);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: 'âŒ Error processing project selection. Please try again.'\n                                                                });\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: 'âŒ File creation cancelled. You can start a new file creation request anytime.'\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling project selection:', error);\n                                                            }\n                                                        },\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 717,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    msg.interactiveComponent.type === 'file_selector' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_fileSelector__WEBPACK_IMPORTED_MODULE_12__.FileSelector, {\n                                                        disabled: msg.interactiveComponent.status === 'completed',\n                                                        selectedFile: msg.interactiveComponent.status === 'completed' ? (_msg_interactiveComponent_result1 = msg.interactiveComponent.result) === null || _msg_interactiveComponent_result1 === void 0 ? void 0 : _msg_interactiveComponent_result1.selectedFile : undefined,\n                                                        onFileSelected: async (file)=>{\n                                                            try {\n                                                                console.log('ðŸ”¥ [FileSelector] File selected callback triggered:', file);\n                                                                // Use the file name for database storage but pass complete object to agent\n                                                                const filePath = file.name || file.path || file.id;\n                                                                console.log('ðŸ”¥ [FileSelector] Updating interactive component status');\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        selectedFile: filePath\n                                                                    }\n                                                                });\n                                                                console.log('ðŸ”¥ [FileSelector] Continuing the file selection process');\n                                                                // Continue the file selection process based on the active agent\n                                                                const convexMutations = createConvexMutations();\n                                                                const activeAgent = agents.find((a)=>a.id === activeAgentId);\n                                                                if (activeAgent && activeAgentId === 'director') {\n                                                                    console.log('ðŸ”¥ [FileSelector] Found director agent, processing campaign instructions');\n                                                                    // Send user message showing the selection\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: \"Selected file: \".concat(file.name),\n                                                                        sessionId: sessionId,\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'file_selection',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    console.log('ðŸ”¥ [FileSelector] Executing director agent with file selection');\n                                                                    try {\n                                                                        const result = await executeAgentTool(activeAgentId, activeAgent.tools[0].command, \"Selected file: \".concat(file.name), convexMutations, sessionId);\n                                                                        console.log('ðŸ”¥ [FileSelector] Director agent execution result:', result);\n                                                                        // Store the director agent's response\n                                                                        await storeChatMessage({\n                                                                            role: 'assistant',\n                                                                            content: result,\n                                                                            sessionId,\n                                                                            operation: {\n                                                                                type: 'tool_executed',\n                                                                                details: {\n                                                                                    selectedFile: file.name,\n                                                                                    agentType: 'director'\n                                                                                }\n                                                                            }\n                                                                        });\n                                                                    } catch (error) {\n                                                                        console.error('âŒ [FileSelector] Error executing director agent:', error);\n                                                                    }\n                                                                } else if (activeAgent && activeAgentId === 'editor') {\n                                                                    console.log('ðŸ”¥ [FileSelector] Found editor agent, processing file edit');\n                                                                    // Send user message showing the selection\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: \"Selected file: \".concat(file.name),\n                                                                        sessionId: sessionId,\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'file_selection',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    console.log('ðŸ”¥ [FileSelector] Calling handleFileSelected method');\n                                                                    // Call the editor agent's handleFileSelected method with complete file object\n                                                                    try {\n                                                                        const { editorAgent: actualEditorAgent } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/store/agents/editorAgent */ \"(app-pages-browser)/./store/agents/editorAgent.ts\"));\n                                                                        console.log('ðŸ”¥ [FileSelector] Imported actual editor agent instance');\n                                                                        console.log('ðŸ”¥ [FileSelector] Agent has handleFileSelected:', 'handleFileSelected' in actualEditorAgent);\n                                                                        if ('handleFileSelected' in actualEditorAgent) {\n                                                                            await actualEditorAgent.handleFileSelected(sessionId, file);\n                                                                            console.log('ðŸ”¥ [FileSelector] handleFileSelected completed successfully');\n                                                                        } else {\n                                                                            console.error('âŒ [FileSelector] handleFileSelected method not found on editor agent');\n                                                                        }\n                                                                    } catch (error) {\n                                                                        console.error('âŒ [FileSelector] Error calling handleFileSelected:', error);\n                                                                    }\n                                                                    console.log('ðŸ”¥ [FileSelector] Storing message with edit instructions input');\n                                                                    // Show edit instructions input component\n                                                                    await storeChatMessage({\n                                                                        role: 'assistant',\n                                                                        content: \"âœ… **File Selected: \".concat(file.name, \"**\\n\\n\\uD83D\\uDCC4 **The file has been opened in the editor tab.**\"),\n                                                                        sessionId,\n                                                                        interactiveComponent: {\n                                                                            type: 'edit_instructions_input',\n                                                                            status: 'pending',\n                                                                            data: {\n                                                                                fileName: file.name,\n                                                                                placeholder: 'Describe what changes you want to make to this file...',\n                                                                                examples: [\n                                                                                    'Add a section about best practices',\n                                                                                    'Update the pricing information',\n                                                                                    'Make the tone more professional',\n                                                                                    'Fix any grammar or spelling errors',\n                                                                                    'Add examples and code snippets'\n                                                                                ]\n                                                                            }\n                                                                        }\n                                                                    });\n                                                                }\n                                                            } catch (error) {\n                                                                console.error('Error handling file selection:', error);\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: 'âŒ File editing cancelled. You can start a new edit request anytime.',\n                                                                    sessionId\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling file selection:', error);\n                                                            }\n                                                        },\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 839,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    msg.interactiveComponent.type === 'edit_instructions_input' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_editInstructionsInput__WEBPACK_IMPORTED_MODULE_10__.EditInstructionsInput, {\n                                                        placeholder: (_msg_interactiveComponent_data2 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data2 === void 0 ? void 0 : _msg_interactiveComponent_data2.placeholder,\n                                                        fileName: (_msg_interactiveComponent_data3 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data3 === void 0 ? void 0 : _msg_interactiveComponent_data3.fileName,\n                                                        examples: (_msg_interactiveComponent_data4 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data4 === void 0 ? void 0 : _msg_interactiveComponent_data4.examples,\n                                                        onInstructionsSubmitted: async (instructions)=>{\n                                                            try {\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        instructions\n                                                                    }\n                                                                });\n                                                                // Send user message showing the edit instructions\n                                                                await storeChatMessage({\n                                                                    role: 'user',\n                                                                    content: instructions,\n                                                                    sessionId: sessionId,\n                                                                    processIndicator: {\n                                                                        type: 'continuing',\n                                                                        processType: 'edit_instructions',\n                                                                        color: 'blue'\n                                                                    }\n                                                                });\n                                                                // Continue the editing process using agent registry\n                                                                const convexMutations = createConvexMutations();\n                                                                const result = await executeAgentTool('editor', 'edit-file', instructions, convexMutations, sessionId);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: result,\n                                                                    sessionId: sessionId\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error processing edit instructions:', error);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: \"âŒ **Error processing edit instructions**\\n\\n\".concat(error instanceof Error ? error.message : 'Unknown error occurred'),\n                                                                    sessionId: sessionId\n                                                                });\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: 'âŒ Edit instructions cancelled. You can start a new edit request anytime.',\n                                                                    sessionId\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling edit instructions:', error);\n                                                            }\n                                                        },\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 984,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    msg.interactiveComponent.type === 'project_selector' && ((_msg_interactiveComponent_data5 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data5 === void 0 ? void 0 : _msg_interactiveComponent_data5.projectNameInput) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_projectNameInput__WEBPACK_IMPORTED_MODULE_15__.ProjectNameInput, {\n                                                        placeholder: (_msg_interactiveComponent_data6 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data6 === void 0 ? void 0 : _msg_interactiveComponent_data6.placeholder,\n                                                        defaultValue: (_msg_interactiveComponent_data7 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data7 === void 0 ? void 0 : _msg_interactiveComponent_data7.defaultValue,\n                                                        onProjectNameSubmitted: async (projectName)=>{\n                                                            try {\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        projectName\n                                                                    }\n                                                                });\n                                                                // Continue the project creation process\n                                                                const convexMutations = createConvexMutations();\n                                                                const projectCreatorAgent = agents.find((a)=>a.id === 'project-creator');\n                                                                if (projectCreatorAgent) {\n                                                                    // Send user message showing the project name\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: \"Project name: \".concat(projectName),\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'project_name_input',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    // Execute the agent with the project name\n                                                                    console.log('ðŸš€ Executing agent with project name:', projectName);\n                                                                    const result = await executeAgentTool(projectCreatorAgent.id, projectCreatorAgent.tools[0].id, projectName, convexMutations);\n                                                                    console.log('ðŸ“¥ Agent execution result:', result);\n                                                                    // Only store non-empty results\n                                                                    if (result && result.trim() !== \"\") {\n                                                                        console.log('âœ… Storing project creation success message...');\n                                                                        // Store the agent's response\n                                                                        await storeChatMessage({\n                                                                            role: 'assistant',\n                                                                            content: result,\n                                                                            sessionId: sessionId,\n                                                                            processIndicator: {\n                                                                                type: 'waiting',\n                                                                                processType: 'project_creation_complete',\n                                                                                color: 'green'\n                                                                            }\n                                                                        });\n                                                                        console.log('âœ… Project creation success message stored!');\n                                                                    } else {\n                                                                        console.log('âš ï¸ Agent returned empty result after project name input');\n                                                                    }\n                                                                }\n                                                            } catch (error) {\n                                                                console.error('Error handling project name input:', error);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: 'âŒ Error processing project name. Please try again.'\n                                                                });\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: 'âŒ Project creation cancelled. You can start a new project creation request anytime.'\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling project name input:', error);\n                                                            }\n                                                        },\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 1053,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    msg.interactiveComponent.type === 'file_type_selector' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_fileTypeSelector__WEBPACK_IMPORTED_MODULE_13__.FileTypeSelector, {\n                                                        onFileTypeSelected: async (fileType)=>{\n                                                            try {\n                                                                // Create a serializable version of the fileType without React components\n                                                                const serializableFileType = {\n                                                                    type: fileType.type,\n                                                                    extension: fileType.extension,\n                                                                    description: fileType.description,\n                                                                    platform: fileType.platform,\n                                                                    available: fileType.available\n                                                                };\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        fileType: serializableFileType\n                                                                    }\n                                                                });\n                                                                // Continue the file creation process\n                                                                const convexMutations = createConvexMutations();\n                                                                const fileCreatorAgent = agents.find((a)=>a.id === 'file-creator');\n                                                                if (fileCreatorAgent) {\n                                                                    // Send user message showing the file type selection\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: \"Selected file type: \".concat(fileType.description),\n                                                                        sessionId: sessionId,\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'file_type_selection',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    // Execute the agent with the file type selection\n                                                                    console.log('ðŸš€ Executing file creator agent with file type:', fileType);\n                                                                    const result = await executeAgentTool(fileCreatorAgent.id, fileCreatorAgent.tools[0].id, \"File type: \".concat(fileType.type), convexMutations);\n                                                                    console.log('ðŸ“¥ File creator agent result:', result);\n                                                                    // Only store non-empty results\n                                                                    if (result && result.trim() !== \"\") {\n                                                                        console.log('âœ… Storing file type continuation message...');\n                                                                        // Store the agent's response\n                                                                        await storeChatMessage({\n                                                                            role: 'assistant',\n                                                                            content: result,\n                                                                            sessionId: sessionId,\n                                                                            processIndicator: {\n                                                                                type: 'waiting',\n                                                                                processType: 'file_type_continue',\n                                                                                color: 'green'\n                                                                            }\n                                                                        });\n                                                                        console.log('âœ… File type continuation message stored!');\n                                                                    } else {\n                                                                        console.log('âš ï¸ Agent returned empty result after file type selection');\n                                                                    }\n                                                                }\n                                                            } catch (error) {\n                                                                console.error('Error handling file type selection:', error);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: 'âŒ Error processing file type selection. Please try again.',\n                                                                    sessionId: sessionId\n                                                                });\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: 'âŒ File creation cancelled. You can start a new file creation request anytime.',\n                                                                    sessionId\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling file type selection:', error);\n                                                            }\n                                                        },\n                                                        disabled: msg.interactiveComponent.status === 'completed',\n                                                        selectedFileType: msg.interactiveComponent.status === 'completed' ? (_msg_interactiveComponent_result2 = msg.interactiveComponent.result) === null || _msg_interactiveComponent_result2 === void 0 ? void 0 : _msg_interactiveComponent_result2.fileType : undefined,\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 1139,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    msg.interactiveComponent.type === 'file_name_input' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_fileNameInput__WEBPACK_IMPORTED_MODULE_11__.FileNameInput, {\n                                                        placeholder: (_msg_interactiveComponent_data8 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data8 === void 0 ? void 0 : _msg_interactiveComponent_data8.placeholder,\n                                                        defaultValue: (_msg_interactiveComponent_data9 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data9 === void 0 ? void 0 : _msg_interactiveComponent_data9.defaultValue,\n                                                        fileType: (_msg_interactiveComponent_data10 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data10 === void 0 ? void 0 : _msg_interactiveComponent_data10.fileType,\n                                                        onFileNameSubmitted: async (fileName)=>{\n                                                            try {\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        fileName\n                                                                    }\n                                                                });\n                                                                // Continue the file creation process\n                                                                const convexMutations = createConvexMutations();\n                                                                const fileCreatorAgent = agents.find((a)=>a.id === 'file-creator');\n                                                                if (fileCreatorAgent) {\n                                                                    // Execute the agent with the file name FIRST\n                                                                    console.log('ðŸš€ Executing file creator agent with file name:', fileName);\n                                                                    const result = await executeAgentTool(fileCreatorAgent.id, fileCreatorAgent.tools[0].id, fileName, convexMutations);\n                                                                    // THEN send user message showing the file name (after agent processes it)\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: fileName,\n                                                                        sessionId: sessionId,\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'file_name_input',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    console.log('ðŸ“¥ File creator agent result:', result);\n                                                                    // Only store non-empty results\n                                                                    if (result && result.trim() !== \"\") {\n                                                                        console.log('âœ… Storing file creation continuation message...');\n                                                                        // Store the agent's response\n                                                                        await storeChatMessage({\n                                                                            role: 'assistant',\n                                                                            content: result,\n                                                                            sessionId: sessionId,\n                                                                            processIndicator: {\n                                                                                type: 'waiting',\n                                                                                processType: 'file_creation_continue',\n                                                                                color: 'green'\n                                                                            }\n                                                                        });\n                                                                        console.log('âœ… File creation continuation message stored!');\n                                                                    } else {\n                                                                        console.log('âš ï¸ Agent returned empty result after file name input');\n                                                                    }\n                                                                }\n                                                            } catch (error) {\n                                                                console.error('Error handling file name input:', error);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: 'âŒ Error processing file name. Please try again.',\n                                                                    sessionId: sessionId\n                                                                });\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: 'âŒ File creation cancelled. You can start a new file creation request anytime.',\n                                                                    sessionId\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling file name input:', error);\n                                                            }\n                                                        },\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 1237,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 715,\n                                                columnNumber: 23\n                                            }, this),\n                                            isAgentProcessMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-[10px] mt-1 opacity-80\",\n                                                children: (()=>{\n                                                    // Check for successful file creation with specific file info\n                                                    if (msg.content.includes(\"The comprehensive instruction document has been created and saved to your files.\")) {\n                                                        // Extract filename from the message\n                                                        const fileMatch = msg.content.match(/ðŸ“„ \\*\\*File:\\*\\* `([^`]+)`/);\n                                                        const fileName = fileMatch ? fileMatch[1] : null;\n                                                        if (fileName) {\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: ()=>{\n                                                                    const { projectFiles } = _store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore.getState();\n                                                                    const file = projectFiles.find((f)=>f.name === fileName);\n                                                                    if (file) {\n                                                                        _store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore.getState().openTab(file);\n                                                                    }\n                                                                },\n                                                                className: \"text-[#007acc] hover:text-[#4ec9b0] hover:underline cursor-pointer transition-colors\",\n                                                                children: \"â†³ Click here to view your file...\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                                lineNumber: 1340,\n                                                                columnNumber: 33\n                                                            }, this);\n                                                        }\n                                                    }\n                                                    // Check for CMO report generation success\n                                                    if (msg.content.includes(\"CMO_REPORT_GENERATED_SUCCESS:\")) {\n                                                        const fileMatch = msg.content.match(/CMO_REPORT_GENERATED_SUCCESS:\\s*(.+)$/);\n                                                        const fileName = fileMatch ? fileMatch[1].trim() : null;\n                                                        if (fileName) {\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: ()=>{\n                                                                    const { projectFiles } = _store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore.getState();\n                                                                    const file = projectFiles.find((f)=>f.name === fileName);\n                                                                    if (file) {\n                                                                        _store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore.getState().openTab(file);\n                                                                    }\n                                                                },\n                                                                className: \"flex items-center gap-1 text-[#007acc] hover:text-[#4ec9b0] hover:underline cursor-pointer transition-colors text-xs\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"transform rotate-90\",\n                                                                        children: \"â†³\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                                        lineNumber: 1373,\n                                                                        columnNumber: 35\n                                                                    }, this),\n                                                                    \"Open Instructions File Tab\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                                lineNumber: 1363,\n                                                                columnNumber: 33\n                                                            }, this);\n                                                        }\n                                                    }\n                                                    // Check for CMO report that needs manual save\n                                                    if (msg.content.includes(\"CMO_REPORT_MANUAL_SAVE_NEEDED:\")) {\n                                                        const fileMatch = msg.content.match(/CMO_REPORT_MANUAL_SAVE_NEEDED:\\s*(.+)$/);\n                                                        const fileName = fileMatch ? fileMatch[1].trim() : null;\n                                                        if (fileName) {\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: async ()=>{\n                                                                    try {\n                                                                        const convexMutations = createConvexMutations();\n                                                                        // Use the same report content from the message to create instruction file\n                                                                        const reportMatch = msg.content.match(/ðŸ“‹ \\*\\*Marketing Campaign Report Generated\\*\\*([\\s\\S]*?)âš ï¸ \\*\\*Note:/);\n                                                                        const reportContent = reportMatch ? reportMatch[1].trim() : 'Marketing Campaign Report';\n                                                                        // Execute the instructions agent to create the file\n                                                                        await executeAgentTool('instructions', 'natural-language-instructions', 'Create marketing campaign instruction file named \"'.concat(fileName, '\" with the campaign strategy report that was just generated'), convexMutations);\n                                                                    } catch (error) {\n                                                                        console.error('Error creating instruction file:', error);\n                                                                    }\n                                                                },\n                                                                className: \"flex items-center gap-1 text-[#007acc] hover:text-[#4ec9b0] hover:underline cursor-pointer transition-colors text-xs\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"transform rotate-90\",\n                                                                        children: \"â†³\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                                        lineNumber: 1408,\n                                                                        columnNumber: 35\n                                                                    }, this),\n                                                                    \"Create an Instruction File Here\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                                lineNumber: 1387,\n                                                                columnNumber: 33\n                                                            }, this);\n                                                        }\n                                                    }\n                                                    // Check for other success indicators\n                                                    if (msg.content.includes(\"âœ… **File Created Successfully!**\") || msg.content.includes(\"âœ… **Project Created Successfully!**\") || msg.content.includes(\"âœ… **Template Applied Successfully!**\")) {\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-[#4ec9b0]\",\n                                                            children: \"â†³ Process completed successfully!\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                            lineNumber: 1419,\n                                                            columnNumber: 36\n                                                        }, this);\n                                                    }\n                                                    // Default waiting message\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-[#4ec9b0]\",\n                                                        children: \"â†³ Agent waiting for your input...\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 1423,\n                                                        columnNumber: 34\n                                                    }, this);\n                                                })()\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 1330,\n                                                columnNumber: 23\n                                            }, this),\n                                            activeAgentId === 'director' && msg.role === 'assistant' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-2 ml-1\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: async ()=>{\n                                                        try {\n                                                            const convexMutations = createConvexMutations();\n                                                            // Create a descriptive prompt from the assistant's response\n                                                            const responseContent = msg.content.substring(0, 200).trim();\n                                                            const prompt = 'Create instruction file from this Campaign Director response: \"'.concat(responseContent).concat(msg.content.length > 200 ? '...' : '', '\"');\n                                                            // Execute the instructions agent to create the file\n                                                            await executeAgentTool('instructions', 'generate-instructions', prompt, convexMutations);\n                                                        } catch (error) {\n                                                            console.error('Error creating instruction file:', error);\n                                                        }\n                                                    },\n                                                    className: \"flex items-center gap-1 text-[#007acc] hover:text-[#4ec9b0] hover:underline cursor-pointer transition-colors text-xs opacity-60 hover:opacity-100\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"transform rotate-90\",\n                                                            children: \"â†³\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                            lineNumber: 1453,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        \"Create an Instruction File Here\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                    lineNumber: 1431,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 1430,\n                                                columnNumber: 23\n                                            }, this),\n                                            (msg.content.includes('CMO_REPORT_GENERATED_SUCCESS') || msg.content.includes('CMO_REPORT_MANUAL_SAVE_NEEDED')) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-2 ml-1\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: async ()=>{\n                                                        try {\n                                                            const convexMutations = createConvexMutations();\n                                                            // Create a descriptive prompt from the assistant's response\n                                                            const responseContent = msg.content.substring(0, 200).trim();\n                                                            const prompt = 'Create instruction file from this CMO agent response: \"'.concat(responseContent).concat(msg.content.length > 200 ? '...' : '', '\"');\n                                                            // Execute the instructions agent to create the file\n                                                            await executeAgentTool('instructions', 'generate-instructions', prompt, convexMutations);\n                                                        } catch (error) {\n                                                            console.error('Error creating instruction file:', error);\n                                                        }\n                                                    },\n                                                    className: \"flex items-center gap-1 text-[#007acc] hover:text-[#4ec9b0] hover:underline cursor-pointer transition-colors text-xs opacity-60 hover:opacity-100\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"transform rotate-90\",\n                                                            children: \"â†³\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                            lineNumber: 1484,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        \"Create an Instruction File Here\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                    lineNumber: 1462,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 1461,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 707,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.role === 'thinking' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#d4d4aa]\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[#d4d4aa]\",\n                                                children: \"\\uD83E\\uDDE0 thinking:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 1493,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"ml-1 text-[#cccccc] whitespace-pre-wrap text-xs font-mono italic\",\n                                                children: msg.content\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 1494,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1492,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.role === 'terminal' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#858585]\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-[#585858] whitespace-pre-wrap bg-[#1a1a1a] p-1 rounded text-[10px] border-l-2 border-[#333]\",\n                                            children: msg.content\n                                        }, void 0, false, {\n                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                            lineNumber: 1501,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1500,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, index, true, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 694,\n                                columnNumber: 15\n                            }, this);\n                        }),\n                        isStreamingThinking && streamingThinking && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-1\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-[#d4d4aa]\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[#d4d4aa]\",\n                                        children: \"\\uD83E\\uDDE0 thinking:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1514,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"ml-1 text-[#cccccc] whitespace-pre-wrap text-xs font-mono italic\",\n                                        children: streamingThinking\n                                    }, void 0, false, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1515,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 1513,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 1512,\n                            columnNumber: 13\n                        }, this),\n                        isLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-[#4ec9b0]\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-[#4ec9b0]\",\n                                    children: \"\\uD83E\\uDD16 assistant:\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 1525,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"ml-1 text-[#858585]\",\n                                    children: \"thinking...\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 1526,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 1524,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                    lineNumber: 662,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                lineNumber: 658,\n                columnNumber: 7\n            }, this),\n            agentProgress && agentProgress.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-[#0e0e0e] p-2 font-mono text-xs flex-shrink-0\",\n                children: agentProgress.map((progress)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-2 last:mb-0\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between mb-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[#007acc] text-xs\",\n                                        children: [\n                                            \"\\uD83E\\uDD16 \",\n                                            progress.agentType,\n                                            \" Agent\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1538,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[#858585] text-xs\",\n                                        children: [\n                                            progress.percentage,\n                                            \"%\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1541,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 1537,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-64 bg-[#333] rounded-full h-1.5 relative overflow-hidden\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-[#007acc] h-1.5 rounded-full transition-all duration-300 absolute left-0 top-0\",\n                                    style: {\n                                        width: \"\".concat(Math.min(100, Math.max(0, progress.percentage)), \"%\")\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 1546,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 1545,\n                                columnNumber: 15\n                            }, this),\n                            progress.status && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-[#858585] text-xs mt-1\",\n                                children: progress.status\n                            }, void 0, false, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 1552,\n                                columnNumber: 17\n                            }, this)\n                        ]\n                    }, progress._id, true, {\n                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                        lineNumber: 1536,\n                        columnNumber: 13\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                lineNumber: 1534,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-[#0e0e0e] p-2 font-mono text-xs flex-shrink-0\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-[#007acc]\",\n                            children: \"$ user:\"\n                        }, void 0, false, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 1564,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                            onSubmit: handleSubmit,\n                            className: \"flex-1 ml-1\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                ref: inputRef,\n                                type: \"text\",\n                                value: message,\n                                onChange: handleInputChange,\n                                onKeyDown: handleKeyDown,\n                                placeholder: isAtSessionLimit ? \"Session limit reached - Start new session to continue...\" : isLoading ? \"AI is thinking...\" : \"Ask about your EAC project...\",\n                                disabled: isLoading || isAtSessionLimit,\n                                className: \"w-full bg-transparent border-none outline-none placeholder:text-[#858585] disabled:opacity-50 disabled:cursor-not-allowed caret-[#cccccc] \".concat(isAtSessionLimit ? 'text-[#f48771]' : 'text-[#cccccc]')\n                            }, void 0, false, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 1566,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 1565,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                    lineNumber: 1563,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                lineNumber: 1562,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n        lineNumber: 657,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatMessages, \"Vs45R8fQWCEFeqD5uu3KELg5XnQ=\", false, function() {\n    return [\n        _clerk_nextjs__WEBPACK_IMPORTED_MODULE_17__.useUser,\n        _store_terminal_chat__WEBPACK_IMPORTED_MODULE_6__.useChatStore,\n        _store_terminal_session__WEBPACK_IMPORTED_MODULE_7__.useSessionStore,\n        _lib_hooks_useChat__WEBPACK_IMPORTED_MODULE_2__.useChat,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery,\n        _lib_hooks_useMCP__WEBPACK_IMPORTED_MODULE_4__.useMCP,\n        _store__WEBPACK_IMPORTED_MODULE_5__.useAgentStore,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useAction,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery,\n        _lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructionContext,\n        _lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructions,\n        _store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore\n    ];\n});\n_c = ChatMessages;\nvar _c;\n$RefreshReg$(_c, \"ChatMessages\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9fY29tcG9uZW50cy90ZXJtaW5hbC9fY29tcG9uZW50cy9jaGF0TWVzc2FnZXMudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEseURBQXlEO0FBQ3pELDZGQUE2Rjs7O0FBSS9DO0FBQ0E7QUFDdUM7QUFDekM7QUFDWTtBQUNIO0FBQ007QUFDbkI7QUFDd0I7QUFDTDtBQUNLO0FBQ2hCO0FBQ0Y7QUFDUTtBQUNBO0FBQ0E7QUFDRjtBQUU3QyxTQUFTd0I7O0lBQ2QsTUFBTUMsWUFBWVYsNkNBQU1BLENBQWlCO0lBQ3pDLE1BQU1XLFdBQVdYLDZDQUFNQSxDQUFtQjtJQUMxQyxNQUFNWSxzQkFBc0JaLDZDQUFNQSxDQUFjLElBQUlhO0lBQ3BELE1BQU0sQ0FBQ0MsU0FBU0MsV0FBVyxHQUFHZCwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNlLG9CQUFvQkMsc0JBQXNCLEdBQUdoQiwrQ0FBUUEsQ0FJbEQ7SUFFViwrQ0FBK0M7SUFDL0NGLGdEQUFTQTtrQ0FBQztZQUNSbUIsUUFBUUMsR0FBRyxDQUFDLCtCQUErQkg7UUFDN0M7aUNBQUc7UUFBQ0E7S0FBbUI7SUFHdkIsTUFBTSxFQUFFSSxJQUFJLEVBQUVDLFFBQVEsRUFBRSxHQUFHM0IsdURBQU9BO0lBQ2xDLE1BQU0sRUFBRTRCLHFCQUFxQixFQUFFQyxtQkFBbUIsRUFBRUMsWUFBWSxFQUFFLEdBQUdoQyxrRUFBWUE7SUFDakYsTUFBTSxFQUFFaUMsZUFBZSxFQUFFLEdBQUdoQyx3RUFBZUE7SUFDM0MsTUFBTSxFQUNKaUMsUUFBUSxFQUNSQyxXQUFXQyxXQUFXLEVBQ3RCQyxXQUFXLEVBQ1hDLHdCQUF3QixFQUN4QkMsU0FBUyxFQUNUQyxnQkFBZ0IsRUFDaEJULHFCQUFxQlUsbUJBQW1CLEVBQ3hDQyxpQkFBaUIsRUFDakJDLG1CQUFtQixFQUNuQkMsWUFBWSxFQUNaQyxrQkFBa0IsRUFDbEJDLGdCQUFnQixFQUNoQkMsY0FB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Q0FDdkI0SixXQUFXLDZJQUVWLE9BREM1SixtQkFBbUIsbUJBQW1COzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUXREO0dBN2hEZ0I3Qjs7UUFpQmFmLG1EQUFPQTtRQUNtQ0YsOERBQVlBO1FBQ3JEQyxvRUFBZUE7UUFpQnZDUCx1REFBT0E7UUFHV1csa0RBQVFBO1FBTzFCUixxREFBTUE7UUFHMERDLGlEQUFhQTtRQUN2RE0scURBQVdBO1FBQ0hBLHFEQUFXQTtRQUMxQkEscURBQVdBO1FBQ1RBLHFEQUFXQTtRQUNFQSxxREFBV0E7UUFDdkJBLHFEQUFXQTtRQUNkQSxxREFBV0E7UUFDTkMsa0RBQVFBO1FBQ0dELHFEQUFXQTtRQUN2QkQsbURBQVNBO1FBQ05DLHFEQUFXQTtRQUNwQkMsa0RBQVFBO1FBQ0xBLGtEQUFRQTtRQUNEViw2RUFBcUJBO1FBQ0xDLHVFQUFlQTtRQUNoQ0csa0RBQWNBOzs7S0FqRTFCa0IiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXR0aGV3c2ltb24vUHJvamVjdHMvZWFjL2VhYy9hcHAvX2NvbXBvbmVudHMvdGVybWluYWwvX2NvbXBvbmVudHMvY2hhdE1lc3NhZ2VzLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTaW1wbGlmaWVkIENoYXQgTWVzc2FnZXMgQ29tcG9uZW50IC0gTm8gU2xhc2ggQ29tbWFuZHNcbi8vIC9Vc2Vycy9tYXR0aGV3c2ltb24vUHJvamVjdHMvZWFjL2VhYy9hcHAvX2NvbXBvbmVudHMvdGVybWluYWwvX2NvbXBvbmVudHMvY2hhdE1lc3NhZ2VzLnRzeFxuXG5cInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgYXBpIH0gZnJvbSBcIkAvY29udmV4L19nZW5lcmF0ZWQvYXBpXCI7XG5pbXBvcnQgeyB1c2VDaGF0IH0gZnJvbSBcIkAvbGliL2hvb2tzL3VzZUNoYXRcIjtcbmltcG9ydCB7IHVzZUluc3RydWN0aW9uQ29udGV4dCwgdXNlSW5zdHJ1Y3Rpb25zIH0gZnJvbSBcIkAvbGliL2hvb2tzL3VzZUluc3RydWN0aW9uc1wiO1xuaW1wb3J0IHsgdXNlTUNQIH0gZnJvbSBcIkAvbGliL2hvb2tzL3VzZU1DUFwiO1xuaW1wb3J0IHsgdXNlQWdlbnRTdG9yZSwgdXNlRWRpdG9yU3RvcmUgfSBmcm9tIFwiQC9zdG9yZVwiO1xuaW1wb3J0IHsgdXNlQ2hhdFN0b3JlIH0gZnJvbSBcIkAvc3RvcmUvdGVybWluYWwvY2hhdFwiO1xuaW1wb3J0IHsgdXNlU2Vzc2lvblN0b3JlIH0gZnJvbSBcIkAvc3RvcmUvdGVybWluYWwvc2Vzc2lvblwiO1xuaW1wb3J0IHsgdXNlVXNlciB9IGZyb20gXCJAY2xlcmsvbmV4dGpzXCI7XG5pbXBvcnQgeyB1c2VBY3Rpb24sIHVzZU11dGF0aW9uLCB1c2VRdWVyeSB9IGZyb20gXCJjb252ZXgvcmVhY3RcIjtcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEVkaXRJbnN0cnVjdGlvbnNJbnB1dCB9IGZyb20gXCIuL2VkaXRJbnN0cnVjdGlvbnNJbnB1dFwiO1xuaW1wb3J0IHsgRmlsZU5hbWVJbnB1dCB9IGZyb20gXCIuL2ZpbGVOYW1lSW5wdXRcIjtcbmltcG9ydCB7IEZpbGVTZWxlY3RvciB9IGZyb20gXCIuL2ZpbGVTZWxlY3RvclwiO1xuaW1wb3J0IHsgRmlsZVR5cGVTZWxlY3RvciB9IGZyb20gXCIuL2ZpbGVUeXBlU2VsZWN0b3JcIjtcbmltcG9ydCB7IE1hcmtkb3duUmVuZGVyZXIgfSBmcm9tIFwiLi9tYXJrZG93blJlbmRlcmVyXCI7XG5pbXBvcnQgeyBQcm9qZWN0TmFtZUlucHV0IH0gZnJvbSBcIi4vcHJvamVjdE5hbWVJbnB1dFwiO1xuaW1wb3J0IHsgUHJvamVjdFNlbGVjdG9yIH0gZnJvbSBcIi4vcHJvamVjdFNlbGVjdG9yXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBDaGF0TWVzc2FnZXMoKSB7XG4gIGNvbnN0IHNjcm9sbFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IGlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBwcm9jZXNzZWRPcGVyYXRpb25zID0gdXNlUmVmPFNldDxzdHJpbmc+PihuZXcgU2V0KCkpO1xuICBjb25zdCBbbWVzc2FnZSwgc2V0TWVzc2FnZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2FjdGl2ZUFnZW50UHJvY2Vzcywgc2V0QWN0aXZlQWdlbnRQcm9jZXNzXSA9IHVzZVN0YXRlPHtcbiAgICBhZ2VudElkOiBzdHJpbmc7XG4gICAgcHJvY2Vzc1R5cGU6IHN0cmluZztcbiAgICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgfSB8IG51bGw+KG51bGwpO1xuXG4gIC8vIERlYnVnIGxvZ2dpbmcgZm9yIGFjdGl2ZUFnZW50UHJvY2VzcyBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ2FjdGl2ZUFnZW50UHJvY2VzcyBjaGFuZ2VkOicsIGFjdGl2ZUFnZW50UHJvY2Vzcyk7XG4gIH0sIFthY3RpdmVBZ2VudFByb2Nlc3NdKTtcblxuICBcbiAgY29uc3QgeyB1c2VyLCBpc0xvYWRlZCB9ID0gdXNlVXNlcigpO1xuICBjb25zdCB7IGluaXRpYWxpemVVc2VyU2Vzc2lvbiwgYWRkVGVybWluYWxGZWVkYmFjaywgc2V0U2Vzc2lvbklkIH0gPSB1c2VDaGF0U3RvcmUoKTtcbiAgY29uc3QgeyBhY3RpdmVTZXNzaW9uSWQgfSA9IHVzZVNlc3Npb25TdG9yZSgpO1xuICBjb25zdCB7IFxuICAgIG1lc3NhZ2VzLCBcbiAgICBpc0xvYWRpbmc6IGNoYXRMb2FkaW5nLCBcbiAgICBzZW5kTWVzc2FnZSwgXG4gICAgc2VuZE1lc3NhZ2VXaXRoU3RyZWFtaW5nLFxuICAgIHNlc3Npb25JZCwgXG4gICAgc3RvcmVDaGF0TWVzc2FnZSwgXG4gICAgYWRkVGVybWluYWxGZWVkYmFjazogdXNlVGVybWluYWxGZWVkYmFjayxcbiAgICBzdHJlYW1pbmdUaGlua2luZyxcbiAgICBpc1N0cmVhbWluZ1RoaW5raW5nLFxuICAgIG1lc3NhZ2VDb3VudCxcbiAgICBpc05lYXJTZXNzaW9uTGltaXQsXG4gICAgaXNBdFNlc3Npb25MaW1pdCxcbiAgICBjYW5BZGRNZXNzYWdlcyxcbiAgICBnZXRTZXNzaW9uU3RhdHVzLFxuICAgIHN0YXJ0TmV3U2Vzc2lvblxuICB9ID0gdXNlQ2hhdCgpO1xuICBcbiAgLy8gUXVlcnkgZm9yIGFnZW50IHByb2dyZXNzXG4gIGNvbnN0IGFnZW50UHJvZ3Jlc3MgPSB1c2VRdWVyeShhcGkuY2hhdC5nZXRBZ2VudFByb2dyZXNzLCB7IHNlc3Npb25JZCB9KTtcbiAgY29uc3Qge1xuICAgIGlzQ29ubmVjdGVkOiBtY3BDb25uZWN0ZWQsXG4gICAgaXNMb2FkaW5nOiBtY3BMb2FkaW5nLFxuICAgIGVycm9yOiBtY3BFcnJvcixcbiAgICBhdmFpbGFibGVUb29scyxcbiAgICBwcm9jZXNzTmF0dXJhbExhbmd1YWdlLFxuICB9ID0gdXNlTUNQKCk7XG4gIFxuICAvLyBBZ2VudCBleGVjdXRpb24gYW5kIG11dGF0aW9uc1xuICBjb25zdCB7IGFnZW50cywgYWN0aXZlQWdlbnRJZCwgc2V0QWN0aXZlQWdlbnQsIGV4ZWN1dGVBZ2VudFRvb2wgfSA9IHVzZUFnZW50U3RvcmUoKTtcbiAgY29uc3QgY3JlYXRlSW5zdHJ1Y3Rpb24gPSB1c2VNdXRhdGlvbihhcGkuZmlsZXMuY3JlYXRlSW5zdHJ1Y3Rpb25GaWxlKTtcbiAgY29uc3QgZW5zdXJlSW5zdHJ1Y3Rpb25zUHJvamVjdCA9IHVzZU11dGF0aW9uKGFwaS5wcm9qZWN0cy5lbnN1cmVJbnN0cnVjdGlvbnNQcm9qZWN0KTtcbiAgY29uc3QgdXBzZXJ0UG9zdCA9IHVzZU11dGF0aW9uKGFwaS5zb2NpYWxQb3N0cy51cHNlcnRQb3N0KTtcbiAgY29uc3Qgc2NoZWR1bGVQb3N0ID0gdXNlTXV0YXRpb24oYXBpLnNvY2lhbFBvc3RzLnNjaGVkdWxlUG9zdCk7XG4gIGNvbnN0IGNyZWF0ZUNvbnRlbnRDcmVhdGlvbkZpbGUgPSB1c2VNdXRhdGlvbihhcGkuZmlsZXMuY3JlYXRlQ29udGVudENyZWF0aW9uRmlsZSk7XG4gIGNvbnN0IGNyZWF0ZVByb2plY3QgPSB1c2VNdXRhdGlvbihhcGkucHJvamVjdHMuY3JlYXRlUHJvamVjdCk7XG4gIGNvbnN0IGNyZWF0ZUZpbGUgPSB1c2VNdXRhdGlvbihhcGkuZmlsZXMuY3JlYXRlRmlsZSk7XG4gIGNvbnN0IGdldEFsbFVzZXJGaWxlcyA9IHVzZVF1ZXJ5KGFwaS5maWxlcy5nZXRBbGxVc2VyRmlsZXMsIHt9KTtcbiAgY29uc3QgdXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQgPSB1c2VNdXRhdGlvbihhcGkuY2hhdC51cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCk7XG4gIGNvbnN0IGVkaXRGaWxlV2l0aEFJID0gdXNlQWN0aW9uKGFwaS5lZGl0b3JBY3Rpb25zLmVkaXRGaWxlV2l0aEFJKTtcbiAgY29uc3QgdXBkYXRlRmlsZUNvbnRlbnQgPSB1c2VNdXRhdGlvbihhcGkuZmlsZXMudXBkYXRlRmlsZUNvbnRlbnQpO1xuICBjb25zdCBhbGxQb3N0cyA9IHVzZVF1ZXJ5KGFwaS5zb2NpYWxQb3N0cy5nZXRBbGxQb3N0cywge30pO1xuICBjb25zdCBhbGxQcm9qZWN0cyA9IHVzZVF1ZXJ5KGFwaS5wcm9qZWN0cy5nZXRQcm9qZWN0cywge30pO1xuICBjb25zdCBpbnN0cnVjdGlvbkNvbnRleHQgPSB1c2VJbnN0cnVjdGlvbkNvbnRleHQoKTtcbiAgY29uc3QgeyBpc0xvYWRpbmc6IGluc3RydWN0aW9uc0xvYWRpbmcgfSA9IHVzZUluc3RydWN0aW9ucygpO1xuICBjb25zdCB7IGNyZWF0ZU5ld0ZpbGUgfSA9IHVzZUVkaXRvclN0b3JlKCk7XG5cbiAgY29uc3QgaXNMb2FkaW5nID0gY2hhdExvYWRpbmcgfHwgbWNwTG9hZGluZyB8fCBpbnN0cnVjdGlvbnNMb2FkaW5nO1xuXG4gIC8vIEF1dG8tc2Nyb2xsIHRvIGJvdHRvbSB3aGVuIG5ldyBtZXNzYWdlcyBhcnJpdmVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc2Nyb2xsUmVmLmN1cnJlbnQpIHtcbiAgICAgIHNjcm9sbFJlZi5jdXJyZW50LnNjcm9sbFRvcCA9IHNjcm9sbFJlZi5jdXJyZW50LnNjcm9sbEhlaWdodDtcbiAgICB9XG4gIH0sIFttZXNzYWdlc10pO1xuXG4gIC8vIEluaXRpYWxpemUgdXNlciBzZXNzaW9uIHdoZW4gY29tcG9uZW50IG1vdW50cyBhbmQgdXNlciBpcyBsb2FkZWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNMb2FkZWQgJiYgdXNlciAmJiAhc2Vzc2lvbklkKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIvCflIQgSW5pdGlhbGl6aW5nIHVzZXIgc2Vzc2lvbi4uLlwiLCB7IHVzZXJJZDogdXNlci5pZCB9KTtcbiAgICAgIGluaXRpYWxpemVVc2VyU2Vzc2lvbih1c2VyLmlkKTtcbiAgICB9XG4gIH0sIFt1c2VyLCBpc0xvYWRlZCwgc2Vzc2lvbklkLCBpbml0aWFsaXplVXNlclNlc3Npb25dKTtcblxuICAvLyBTeW5jIHNlc3Npb24gSUQgaWYgYWN0aXZlIHNlc3Npb24gY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhY3RpdmVTZXNzaW9uSWQgJiYgYWN0aXZlU2Vzc2lvbklkICE9PSBzZXNzaW9uSWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwi8J+UhCBTeW5jaW5nIHRvIGFjdGl2ZSBzZXNzaW9uOlwiLCBhY3RpdmVTZXNzaW9uSWQpO1xuICAgICAgc2V0U2Vzc2lvbklkKGFjdGl2ZVNlc3Npb25JZCk7XG4gICAgfVxuICB9LCBbYWN0aXZlU2Vzc2lvbklkLCBzZXNzaW9uSWQsIHNldFNlc3Npb25JZF0pO1xuXG4gIC8vIENsZWFyIGFjdGl2ZSBhZ2VudCBwcm9jZXNzIGFmdGVyIHRpbWVvdXRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWN0aXZlQWdlbnRQcm9jZXNzKSB7XG4gICAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGFnZSA9IERhdGUubm93KCkgLSBhY3RpdmVBZ2VudFByb2Nlc3MudGltZXN0YW1wO1xuICAgICAgICBpZiAoYWdlID4gNSAqIDYwICogMTAwMCkgeyAvLyA1IG1pbnV0ZXMgdGltZW91dFxuICAgICAgICAgIHNldEFjdGl2ZUFnZW50UHJvY2VzcyhudWxsKTtcbiAgICAgICAgfVxuICAgICAgfSwgNSAqIDYwICogMTAwMCk7XG5cbiAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgfVxuICB9LCBbYWN0aXZlQWdlbnRQcm9jZXNzXSk7XG5cbiAgLy8gRElTQUJMRUQ6IFByb2Nlc3MgbWVzc2FnZXMgd2l0aCBvcGVyYXRpb25zIHRvIGNyZWF0ZSBVSSBmaWxlc1xuICAvLyBUaGlzIGlzIG5vdyBoYW5kbGVkIGJ5IHVzZUZpbGVMb2FkIGhvb2sgd2hpY2ggc3luY3MgZnJvbSBDb252ZXggdG8gbG9jYWwgc3RvcmVcbiAgLypcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIW1lc3NhZ2VzKSByZXR1cm47XG4gICAgXG4gICAgY29uc29sZS5sb2coJ/CflI0gUHJvY2Vzc2luZyBtZXNzYWdlcyBmb3Igb3BlcmF0aW9uczonLCB7XG4gICAgICB0b3RhbE1lc3NhZ2VzOiBtZXNzYWdlcy5sZW5ndGgsXG4gICAgICByZWNlbnRNZXNzYWdlc0NvdW50OiBtZXNzYWdlcy5zbGljZSgtMTApLmxlbmd0aCxcbiAgICAgIHByb2Nlc3NlZENvdW50OiBwcm9jZXNzZWRPcGVyYXRpb25zLmN1cnJlbnQuc2l6ZVxuICAgIH0pO1xuICAgIFxuICAgIC8vIExvb2sgZm9yIG1lc3NhZ2VzIHdpdGggb3BlcmF0aW9ucyB0aGF0IG5lZWQgVUkgcHJvY2Vzc2luZ1xuICAgIGNvbnN0IHJlY2VudE1lc3NhZ2VzID0gbWVzc2FnZXMuc2xpY2UoLTEwKTsgLy8gQ2hlY2sgbGFzdCAxMCBtZXNzYWdlc1xuICAgIFxuICAgIHJlY2VudE1lc3NhZ2VzLmZvckVhY2goKG1lc3NhZ2U6IGFueSwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SNIE1lc3NhZ2UgJHtpbmRleH06YCwge1xuICAgICAgICBpZDogbWVzc2FnZS5faWQsXG4gICAgICAgIHJvbGU6IG1lc3NhZ2Uucm9sZSxcbiAgICAgICAgaGFzT3BlcmF0aW9uOiAhIW1lc3NhZ2Uub3BlcmF0aW9uLFxuICAgICAgICBvcGVyYXRpb25UeXBlOiBtZXNzYWdlLm9wZXJhdGlvbj8udHlwZSxcbiAgICAgICAgb3BlcmF0aW9uRGV0YWlsczogbWVzc2FnZS5vcGVyYXRpb24/LmRldGFpbHMsXG4gICAgICAgIGNvbnRlbnRQcmV2aWV3OiBtZXNzYWdlLmNvbnRlbnQ/LnN1YnN0cmluZygwLCAxMDApLFxuICAgICAgICBhbHJlYWR5UHJvY2Vzc2VkOiBwcm9jZXNzZWRPcGVyYXRpb25zLmN1cnJlbnQuaGFzKG1lc3NhZ2UuX2lkKVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmIChtZXNzYWdlLm9wZXJhdGlvbj8udHlwZSA9PT0gJ2ZpbGVfY3JlYXRlZCcgJiYgbWVzc2FnZS5faWQpIHtcbiAgICAgICAgLy8gU2tpcCBpZiBhbHJlYWR5IHByb2Nlc3NlZFxuICAgICAgICBpZiAocHJvY2Vzc2VkT3BlcmF0aW9ucy5jdXJyZW50LmhhcyhtZXNzYWdlLl9pZCkpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg4o+t77iPIFNraXBwaW5nIGFscmVhZHkgcHJvY2Vzc2VkIG1lc3NhZ2U6ICR7bWVzc2FnZS5faWR9YCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCB7IGZpbGVOYW1lLCBmaWxlVHlwZSwgY29udGVudCwgcGxhdGZvcm1EYXRhLCBhZ2VudFR5cGUgfSA9IG1lc3NhZ2Uub3BlcmF0aW9uLmRldGFpbHM7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBGaWxlIGNyZWF0aW9uIG9wZXJhdGlvbiBmb3VuZDonLCB7XG4gICAgICAgICAgZmlsZU5hbWUsXG4gICAgICAgICAgZmlsZVR5cGUsXG4gICAgICAgICAgYWdlbnRUeXBlLFxuICAgICAgICAgIGhhc0NvbnRlbnQ6ICEhY29udGVudCxcbiAgICAgICAgICBjb250ZW50TGVuZ3RoOiBjb250ZW50Py5sZW5ndGggfHwgMCxcbiAgICAgICAgICB3aWxsUHJvY2VzczogYWdlbnRUeXBlID09PSAndHdpdHRlcicgJiYgY29udGVudFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIE9ubHkgcHJvY2VzcyBUd2l0dGVyIGFnZW50IGZpbGVzIGZvciBVSSBjcmVhdGlvbiB0aGF0IGhhdmUgY29udGVudFxuICAgICAgICBpZiAoYWdlbnRUeXBlID09PSAndHdpdHRlcicgJiYgY29udGVudCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFByb2Nlc3Npbmcgc29jaWFsIGZpbGUgb3BlcmF0aW9uOicsIHtcbiAgICAgICAgICAgIGZpbGVOYW1lLFxuICAgICAgICAgICAgZmlsZVR5cGUsXG4gICAgICAgICAgICBjb250ZW50OiBjb250ZW50LFxuICAgICAgICAgICAgY29udGVudExlbmd0aDogY29udGVudD8ubGVuZ3RoIHx8IDAsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogdHlwZW9mIGNvbnRlbnQsXG4gICAgICAgICAgICBtZXNzYWdlSWQ6IG1lc3NhZ2UuX2lkLFxuICAgICAgICAgICAgcGxhdGZvcm1EYXRhOiBwbGF0Zm9ybURhdGEsXG4gICAgICAgICAgICBhbGxEZXRhaWxzOiBtZXNzYWdlLm9wZXJhdGlvbi5kZXRhaWxzXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gTWFyayBhcyBwcm9jZXNzZWQgRklSU1QgdG8gcHJldmVudCByYWNlIGNvbmRpdGlvbnNcbiAgICAgICAgICBwcm9jZXNzZWRPcGVyYXRpb25zLmN1cnJlbnQuYWRkKG1lc3NhZ2UuX2lkKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBQYXJzZSB0aGUgcGxhdGZvcm0gZGF0YSB3aXRoIGVycm9yIGhhbmRsaW5nXG4gICAgICAgICAgbGV0IHBsYXRmb3JtRGF0YU9iajtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcGxhdGZvcm1EYXRhT2JqID0gcGxhdGZvcm1EYXRhID8gSlNPTi5wYXJzZShwbGF0Zm9ybURhdGEpIDoge307XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIEZhaWxlZCB0byBwYXJzZSBwbGF0Zm9ybSBkYXRhLCB1c2luZyBkZWZhdWx0czonLCBlcnJvcik7XG4gICAgICAgICAgICBwbGF0Zm9ybURhdGFPYmogPSB7XG4gICAgICAgICAgICAgIHJlcGx5U2V0dGluZ3M6ICdmb2xsb3dpbmcnLFxuICAgICAgICAgICAgICBzY2hlZHVsZWREYXRlOiAnJyxcbiAgICAgICAgICAgICAgc2NoZWR1bGVkVGltZTogJycsXG4gICAgICAgICAgICAgIGlzVGhyZWFkOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ3JlYXRlIHRoZSBjb250ZW50IGZvciB0aGUgVHdpdHRlciBwb3N0IGZpbGUgaW4gdGhlIGV4cGVjdGVkIGZvcm1hdFxuICAgICAgICAgIGNvbnN0IHBvc3RDb250ZW50ID0gYCMgJHtmaWxlTmFtZS5yZXBsYWNlKC9cXC5bXi8uXSskLywgXCJcIil9IC0gWCAoVHdpdHRlcikgUG9zdFxuUGxhdGZvcm06IFggKFR3aXR0ZXIpXG5DcmVhdGVkOiAke25ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9XG5cbiMjIFBvc3QgQ29udGVudFxuJHtjb250ZW50fVxuXG4jIyBTZXR0aW5nc1xuLSBSZXBseSBTZXR0aW5nczogJHtwbGF0Zm9ybURhdGFPYmoucmVwbHlTZXR0aW5ncyB8fCAnZm9sbG93aW5nJ31cbi0gU2NoZWR1bGU6ICR7cGxhdGZvcm1EYXRhT2JqLnNjaGVkdWxlZERhdGUgJiYgcGxhdGZvcm1EYXRhT2JqLnNjaGVkdWxlZFRpbWUgPyBgJHtwbGF0Zm9ybURhdGFPYmouc2NoZWR1bGVkRGF0ZX0gJHtwbGF0Zm9ybURhdGFPYmouc2NoZWR1bGVkVGltZX1gIDogJ05vdyd9XG4tIFRocmVhZDogJHtwbGF0Zm9ybURhdGFPYmouaXNUaHJlYWQgPyAnTXVsdGktdHdlZXQgVGhyZWFkJyA6ICdTaW5nbGUgVHdlZXQnfVxuXG4jIyBNZWRpYVxuLSBJbWFnZXM6IFtdXG4tIFZpZGVvczogW11cblxuIyMgQW5hbHl0aWNzXG4tIEltcHJlc3Npb25zOiAwXG4tIEVuZ2FnZW1lbnRzOiAwXG4tIExpa2VzOiAwXG4tIFNoYXJlczogMGA7XG5cbiAgICAgICAgICAvLyBHZXQgdGhlIGNyZWF0ZU5ld0ZpbGUgZnVuY3Rpb24gZnJvbSB0aGUgc3RvcmUgYXQgZXhlY3V0aW9uIHRpbWVcbiAgICAgICAgICBjb25zdCB7IGNyZWF0ZU5ld0ZpbGUsIHByb2plY3RGb2xkZXJzIH0gPSB1c2VFZGl0b3JTdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEZpbmQgdGhlIENvbnRlbnQgQ3JlYXRpb24gZm9sZGVyIElEXG4gICAgICAgICAgY29uc3QgY29udGVudENyZWF0aW9uRm9sZGVyID0gcHJvamVjdEZvbGRlcnMuZmluZChmb2xkZXIgPT4gXG4gICAgICAgICAgICBmb2xkZXIubmFtZSA9PT0gJ0NvbnRlbnQgQ3JlYXRpb24nXG4gICAgICAgICAgKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoY29udGVudENyZWF0aW9uRm9sZGVyKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGZpbGUgaW4gdGhlIENvbnRlbnQgQ3JlYXRpb24gZm9sZGVyXG4gICAgICAgICAgICBjcmVhdGVOZXdGaWxlKFxuICAgICAgICAgICAgICBmaWxlTmFtZSxcbiAgICAgICAgICAgICAgJ3gnLCAvLyBVc2UgJ3gnIHR5cGUgZm9yIFR3aXR0ZXIgZmlsZXNcbiAgICAgICAgICAgICAgJ3Byb2plY3QnLFxuICAgICAgICAgICAgICBjb250ZW50Q3JlYXRpb25Gb2xkZXIuaWQsXG4gICAgICAgICAgICAgIHBvc3RDb250ZW50XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIENyZWF0ZWQgc29jaWFsIGZpbGUgaW4gVUk6JywgZmlsZU5hbWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBDb250ZW50IENyZWF0aW9uIGZvbGRlciBub3QgZm91bmQnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ3JlYXRlIHdpdGhvdXQgZm9sZGVyIElEIGlmIGZvbGRlciBub3QgZm91bmRcbiAgICAgICAgICAgIGNyZWF0ZU5ld0ZpbGUoXG4gICAgICAgICAgICAgIGZpbGVOYW1lLFxuICAgICAgICAgICAgICAneCcsXG4gICAgICAgICAgICAgICdwcm9qZWN0JyxcbiAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICBwb3N0Q29udGVudFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW21lc3NhZ2VzXSk7IC8vIFJlbW92ZWQgY3JlYXRlTmV3RmlsZSBmcm9tIGRlcGVuZGVuY2llcyB0byBwcmV2ZW50IHJlLXJ1bnMgb24gcGFuZWwgc3dpdGNoZXNcbiAgKi9cblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gc3RyaXAgbWFya2Rvd24gZm9ybWF0dGluZ1xuICBjb25zdCBzdHJpcE1hcmtkb3duID0gKHRleHQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIHRleHRcbiAgICAgIC5yZXBsYWNlKC8jezEsNn1cXHMqL2csICcnKSAvLyBSZW1vdmUgaGVhZGVyc1xuICAgICAgLnJlcGxhY2UoL1xcKlxcKiguKj8pXFwqXFwqL2csICckMScpIC8vIFJlbW92ZSAqKmJvbGQqKlxuICAgICAgLnJlcGxhY2UoL1xcKiguKj8pXFwqL2csICckMScpIC8vIFJlbW92ZSAqaXRhbGljKlxuICAgICAgLnJlcGxhY2UoL2AoW15gXSspYC9nLCAnJDEnKSAvLyBSZW1vdmUgYGNvZGVgXG4gICAgICAucmVwbGFjZSgvXlxccypbLSorXVxccysvZ20sICfigKIgJykgLy8gQ29udmVydCBtYXJrZG93biBsaXN0cyB0byBidWxsZXQgcG9pbnRzXG4gICAgICAucmVwbGFjZSgvXlxccypcXGQrXFwuXFxzKy9nbSwgJ+KAoiAnKSAvLyBDb252ZXJ0IG51bWJlcmVkIGxpc3RzIHRvIGJ1bGxldCBwb2ludHNcbiAgICAgIC5yZXBsYWNlKC9cXG5cXHMqXFxuXFxzKlxcbi9nLCAnXFxuXFxuJykgLy8gUmVkdWNlIG11bHRpcGxlIGJsYW5rIGxpbmVzIHRvIGRvdWJsZVxuICAgICAgLnNwbGl0KCdcXG4nKSAvLyBTcGxpdCBpbnRvIGxpbmVzIGZvciBwcm9jZXNzaW5nXG4gICAgICAubWFwKGxpbmUgPT4ge1xuICAgICAgICAvLyBBZGQgc3BhY2luZyBhZnRlciBzZWN0aW9uIGhlYWRlcnMgKGxpbmVzIHRoYXQgZG9uJ3Qgc3RhcnQgd2l0aCBidWxsZXQgcG9pbnRzKVxuICAgICAgICBpZiAobGluZS50cmltKCkgJiYgIWxpbmUuc3RhcnRzV2l0aCgn4oCiJykgJiYgIWxpbmUuc3RhcnRzV2l0aCgnICcpICYmIGxpbmUubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiBsaW5lICsgJ1xcbic7IC8vIEFkZCBleHRyYSBuZXdsaW5lIGFmdGVyIGhlYWRlcnNcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGluZTtcbiAgICAgIH0pXG4gICAgICAuam9pbignXFxuJylcbiAgICAgIC5yZXBsYWNlKC9cXG57Myx9L2csICdcXG5cXG4nKSAvLyBDbGVhbiB1cCBleGNlc3NpdmUgbmV3bGluZXNcbiAgICAgIC50cmltKCk7XG4gIH07XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGRldGVjdCBNQ1AtcmVsYXRlZCBxdWVyaWVzIChleGNsdWRpbmcgZGlyZWN0IHRvb2wgY29tbWFuZHMpXG4gIGNvbnN0IGlzTUNQUXVlcnkgPSAodGV4dDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgLy8gRG9uJ3QgdHJlYXQgZGlyZWN0IHRvb2wgY29tbWFuZHMgYXMgTkxQIHF1ZXJpZXNcbiAgICBpZiAodGV4dC5zdGFydHNXaXRoKCcvJykpIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICAvLyBMb29rIGZvciBrZXl3b3JkcyB0aGF0IHN1Z2dlc3QgTUNQIGFuYWx5c2lzIHdvdWxkIGJlIGhlbHBmdWxcbiAgICBjb25zdCBtY3BLZXl3b3JkcyA9IFtcbiAgICAgICdhbmFseXplJywgJ2V4YW1pbmUnLCAncmV2aWV3JywgJ2V4cGxhaW4nLCAndW5kZXJzdGFuZCcsICdhcmNoaXRlY3R1cmUnLFxuICAgICAgJ3N0cnVjdHVyZScsICdjb2RlJywgJ2NvbXBvbmVudCcsICdmdW5jdGlvbicsICdpbXBsZW1lbnRhdGlvbicsICdwYXR0ZXJuJyxcbiAgICAgICdiZXN0IHByYWN0aWNlJywgJ2lzc3VlJywgJ2J1ZycsICdlcnJvcicsICdwZXJmb3JtYW5jZScsICdvcHRpbWl6YXRpb24nLFxuICAgICAgJ3JlZmFjdG9yJywgJ2ltcHJvdmVtZW50JywgJ2RvY3VtZW50YXRpb24nLCAnb3ZlcnZpZXcnLCAnc3VtbWFyeScsXG4gICAgICAnaG93IGRvZXMnLCAnd2hhdCBpcycsICd3aHkgaXMnLCAnd2hlcmUgaXMnLCAnd2hlbiBpcycsICd3aGljaCdcbiAgICBdO1xuICAgIFxuICAgIGNvbnN0IGxvd2VyVGV4dCA9IHRleHQudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gbWNwS2V5d29yZHMuc29tZShrZXl3b3JkID0+IGxvd2VyVGV4dC5pbmNsdWRlcyhrZXl3b3JkKSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVG9vbFNlbGVjdG9yQ2xvc2UgPSAoKSA9PiB7XG4gICAgc2V0TWVzc2FnZShcIlwiKTtcbiAgICBpbnB1dFJlZi5jdXJyZW50Py5mb2N1cygpO1xuICB9O1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgY29udmV4TXV0YXRpb25zIG9iamVjdCBmb3IgYWdlbnRzXG4gIGNvbnN0IGNyZWF0ZUNvbnZleE11dGF0aW9ucyA9ICgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgZW5zdXJlSW5zdHJ1Y3Rpb25zUHJvamVjdCxcbiAgICAgIGNyZWF0ZUluc3RydWN0aW9uRmlsZTogY3JlYXRlSW5zdHJ1Y3Rpb24sXG4gICAgICB1cHNlcnRQb3N0LFxuICAgICAgc2NoZWR1bGVQb3N0LFxuICAgICAgY3JlYXRlQ29udGVudENyZWF0aW9uRmlsZSxcbiAgICAgIGNyZWF0ZVByb2plY3Q6IGFzeW5jIChwYXJhbXM6IGFueSkgPT4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgY3JlYXRlUHJvamVjdCh7XG4gICAgICAgICAgbmFtZTogcGFyYW1zLm5hbWUsXG4gICAgICAgICAgZGVzY3JpcHRpb246IHBhcmFtcy5kZXNjcmlwdGlvbixcbiAgICAgICAgICBzdGF0dXM6IHBhcmFtcy5zdGF0dXMgfHwgJ2FjdGl2ZScsXG4gICAgICAgICAgYnVkZ2V0OiBwYXJhbXMuYnVkZ2V0LFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBnZXRQcm9qZWN0czogYXN5bmMgKCkgPT4ge1xuICAgICAgICByZXR1cm4gYWxsUHJvamVjdHMgfHwgW107XG4gICAgICB9LFxuICAgICAgZ2V0QWxsRmlsZXM6IGFzeW5jICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGdldEFsbFVzZXJGaWxlcyB8fCBbXTtcbiAgICAgIH0sXG4gICAgICBzdG9yZUNoYXRNZXNzYWdlOiBhc3luYyAocGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgIHJvbGU6IHBhcmFtcy5yb2xlLFxuICAgICAgICAgIGNvbnRlbnQ6IHBhcmFtcy5jb250ZW50LFxuICAgICAgICAgIHNlc3Npb25JZDogcGFyYW1zLnNlc3Npb25JZCB8fCBzZXNzaW9uSWQsXG4gICAgICAgICAgb3BlcmF0aW9uOiBwYXJhbXMub3BlcmF0aW9uLFxuICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IHBhcmFtcy5wcm9jZXNzSW5kaWNhdG9yLFxuICAgICAgICAgIGludGVyYWN0aXZlQ29tcG9uZW50OiBwYXJhbXMuaW50ZXJhY3RpdmVDb21wb25lbnQsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50OiBhc3luYyAocGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50KHtcbiAgICAgICAgICBtZXNzYWdlSWQ6IHBhcmFtcy5tZXNzYWdlSWQsXG4gICAgICAgICAgc3RhdHVzOiBwYXJhbXMuc3RhdHVzLFxuICAgICAgICAgIHJlc3VsdDogcGFyYW1zLnJlc3VsdCxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgY3JlYXRlRmlsZTogYXN5bmMgKHBhcmFtczogYW55KSA9PiB7XG4gICAgICAgIHJldHVybiBhd2FpdCBjcmVhdGVGaWxlKHtcbiAgICAgICAgICBuYW1lOiBwYXJhbXMubmFtZSxcbiAgICAgICAgICB0eXBlOiBwYXJhbXMudHlwZSxcbiAgICAgICAgICBwcm9qZWN0SWQ6IHBhcmFtcy5wcm9qZWN0SWQsIC8vIFRoaXMgc2hvdWxkIGJlIGFuIElkPFwicHJvamVjdHNcIj4gZnJvbSB0aGUgYWN0dWFsIHByb2plY3QgY3JlYXRpb25cbiAgICAgICAgICBjb250ZW50OiBwYXJhbXMuY29udGVudCxcbiAgICAgICAgICBleHRlbnNpb246IHBhcmFtcy5leHRlbnNpb24sXG4gICAgICAgICAgcGxhdGZvcm06IHBhcmFtcy5wbGF0Zm9ybSxcbiAgICAgICAgICBzaXplOiBwYXJhbXMuc2l6ZSxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgZ2V0QWxsUG9zdHM6IGFzeW5jICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGFsbFBvc3RzIHx8IFtdO1xuICAgICAgfSxcbiAgICAgIGVkaXRGaWxlV2l0aEFJOiBhc3luYyAocGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGVkaXRGaWxlV2l0aEFJKHtcbiAgICAgICAgICBmaWxlTmFtZTogcGFyYW1zLmZpbGVOYW1lLFxuICAgICAgICAgIG9yaWdpbmFsQ29udGVudDogcGFyYW1zLm9yaWdpbmFsQ29udGVudCxcbiAgICAgICAgICBlZGl0SW5zdHJ1Y3Rpb25zOiBwYXJhbXMuZWRpdEluc3RydWN0aW9ucyxcbiAgICAgICAgICBmaWxlVHlwZTogcGFyYW1zLmZpbGVUeXBlLFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICB1cGRhdGVGaWxlQ29udGVudDogYXN5bmMgKHBhcmFtczogYW55KSA9PiB7XG4gICAgICAgIHJldHVybiBhd2FpdCB1cGRhdGVGaWxlQ29udGVudCh7XG4gICAgICAgICAgZmlsZUlkOiBwYXJhbXMuZmlsZUlkLFxuICAgICAgICAgIGNvbnRlbnQ6IHBhcmFtcy5jb250ZW50LFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICAvLyBDYW1wYWlnbi1yZWxhdGVkIGZ1bmN0aW9ucyAoc2ltcGxpZmllZCBmb3Igbm93KVxuICAgICAgY3JlYXRlQ2FtcGFpZ246IGFzeW5jIChwYXJhbXM6IGFueSkgPT4ge1xuICAgICAgICAvLyBGb3Igbm93LCBqdXN0IHJldHVybiBhIHNpbXBsZSBjYW1wYWlnbiBJRCBzaW5jZSB0aGUgQVBJIGlzbid0IHJlYWR5XG4gICAgICAgIGNvbnNvbGUubG9nKCdDYW1wYWlnbiBjcmVhdGlvbiByZXF1ZXN0ZWQ6JywgcGFyYW1zKTtcbiAgICAgICAgcmV0dXJuIHsgX2lkOiBgY2FtcGFpZ25fJHtEYXRlLm5vdygpfWAgfTtcbiAgICAgIH0sXG4gICAgICBjcmVhdGVQb3N0c0JhdGNoOiBhc3luYyAocGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgLy8gRm9yIG5vdywganVzdCBsb2cgdGhlIGJhdGNoIGNyZWF0aW9uXG4gICAgICAgIGNvbnNvbGUubG9nKCdCYXRjaCBwb3N0cyBjcmVhdGlvbiByZXF1ZXN0ZWQ6JywgcGFyYW1zKTtcbiAgICAgICAgcmV0dXJuIHBhcmFtcy5wb3N0cy5tYXAoKF86IGFueSwgaW5kZXg6IG51bWJlcikgPT4gYHBvc3RfJHtEYXRlLm5vdygpfV8ke2luZGV4fWApO1xuICAgICAgfSxcbiAgICB9O1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgXG4gICAgLy8gQ2hlY2sgc2Vzc2lvbiBsaW1pdCBiZWZvcmUgcHJvY2Vzc2luZ1xuICAgIGlmICghY2FuQWRkTWVzc2FnZXMoKSkge1xuICAgICAgY29uc29sZS53YXJuKFwiQ2Fubm90IHNlbmQgbWVzc2FnZTogU2Vzc2lvbiBsaW1pdCByZWFjaGVkXCIpO1xuICAgICAgLy8gQWRkIGEgdGVybWluYWwgZmVlZGJhY2sgbWVzc2FnZSBhYm91dCB0aGUgbGltaXRcbiAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICByb2xlOiBcInRlcm1pbmFsXCIsXG4gICAgICAgIGNvbnRlbnQ6IGBbJHtuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygnZW4tVVMnLCB7IFxuICAgICAgICAgIGhvdXIxMjogZmFsc2UsIFxuICAgICAgICAgIGhvdXI6ICcyLWRpZ2l0JywgXG4gICAgICAgICAgbWludXRlOiAnMi1kaWdpdCcsIFxuICAgICAgICAgIHNlY29uZDogJzItZGlnaXQnIFxuICAgICAgICB9KX1dIPCfmqggTWVzc2FnZSBub3Qgc2VudDogU2Vzc2lvbiBsaW1pdCByZWFjaGVkICg1MDAgbWVzc2FnZXMpXG5QbGVhc2Ugc3RhcnQgYSBuZXcgc2Vzc2lvbiB0byBjb250aW51ZSBjaGF0dGluZy5gLFxuICAgICAgICBzZXNzaW9uSWQsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgaWYgKG1lc3NhZ2UudHJpbSgpICYmICFpc0xvYWRpbmcpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VDb250ZW50ID0gbWVzc2FnZS50cmltKCk7XG4gICAgICBjb25zb2xlLmxvZygn8J+SrCBVc2VyIHN1Ym1pdHRpbmcgbWVzc2FnZTonLCBtZXNzYWdlQ29udGVudCk7XG4gICAgICBzZXRNZXNzYWdlKFwiXCIpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGFuIGFnZW50IGNvbW1hbmQgd2hlbiBhbiBhZ2VudCBpcyBhY3RpdmVcbiAgICAgIC8vIEJVVCBvbmx5IHJvdXRlIHRvIGVkaXRvciBhZ2VudCBpZiBpdCBoYXMgYSBzZWxlY3RlZCBmaWxlIGFuZCBpcyB3YWl0aW5nIGZvciBlZGl0IGluc3RydWN0aW9uc1xuICAgICAgaWYgKGFjdGl2ZUFnZW50SWQgJiYgIW1lc3NhZ2VDb250ZW50LnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+kliBDaGVja2luZyBpZiBzaG91bGQgcm91dGUgdG8gYWN0aXZlIGFnZW50OicsIGFjdGl2ZUFnZW50SWQpO1xuICAgICAgICBcbiAgICAgICAgbGV0IHNob3VsZFJvdXRlVG9BZ2VudCA9IHRydWU7XG4gICAgICAgIFxuICAgICAgICAvLyBTcGVjaWFsIGhhbmRsaW5nIGZvciBlZGl0b3IgYWdlbnQgLSBvbmx5IHJvdXRlIGlmIGZpbGUgaXMgc2VsZWN0ZWQgYW5kIHdhaXRpbmcgZm9yIGVkaXQgaW5zdHJ1Y3Rpb25zXG4gICAgICAgIGlmIChhY3RpdmVBZ2VudElkID09PSAnZWRpdG9yJykge1xuICAgICAgICAgIGNvbnN0IHsgRWRpdG9yQWdlbnQgfSA9IGF3YWl0IGltcG9ydCgnQC9zdG9yZS9hZ2VudHMvZWRpdG9yQWdlbnQnKTtcbiAgICAgICAgICBjb25zdCBoYXNTZWxlY3RlZEZpbGUgPSBFZGl0b3JBZ2VudC5zZWxlY3RlZEZpbGUgIT09IG51bGw7XG4gICAgICAgICAgY29uc3QgaXNXYWl0aW5nRm9yRWRpdEluc3RydWN0aW9ucyA9IEVkaXRvckFnZW50LmN1cnJlbnRTdGVwID09PSAnZWRpdC1yZXF1ZXN0JztcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBFZGl0b3IgYWdlbnQgc3RhdGUgY2hlY2s6Jywge1xuICAgICAgICAgICAgaGFzU2VsZWN0ZWRGaWxlLFxuICAgICAgICAgICAgaXNXYWl0aW5nRm9yRWRpdEluc3RydWN0aW9ucyxcbiAgICAgICAgICAgIHNlbGVjdGVkRmlsZTogRWRpdG9yQWdlbnQuc2VsZWN0ZWRGaWxlLFxuICAgICAgICAgICAgY3VycmVudFN0ZXA6IEVkaXRvckFnZW50LmN1cnJlbnRTdGVwXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gSWYgbm8gZmlsZSBzZWxlY3RlZCwgYWdlbnQgc2hvdWxkIHNob3cgZmlsZSBzZWxlY3RvclxuICAgICAgICAgIC8vIElmIGZpbGUgc2VsZWN0ZWQgYW5kIHdhaXRpbmcgZm9yIGluc3RydWN0aW9ucywgYWdlbnQgc2hvdWxkIHByb2Nlc3MgdGhlIGVkaXRcbiAgICAgICAgICAvLyBBbHdheXMgcm91dGUgdG8gZWRpdG9yIGFnZW50IHdoZW4gaXQncyBhY3RpdmVcbiAgICAgICAgICBzaG91bGRSb3V0ZVRvQWdlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoc2hvdWxkUm91dGVUb0FnZW50KSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CfpJYgUm91dGluZyB0byBhY3RpdmUgYWdlbnQ6JywgYWN0aXZlQWdlbnRJZCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn6SWIEV4ZWN1dGluZyBhZ2VudCAke2FjdGl2ZUFnZW50SWR9IHdpdGggbWVzc2FnZTogJHttZXNzYWdlQ29udGVudH1gKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ3JlYXRlIGNvbnZleCBtdXRhdGlvbnMgZm9yIHRoZSBhZ2VudFxuICAgICAgICAgICAgY29uc3QgY29udmV4TXV0YXRpb25zID0gY3JlYXRlQ29udmV4TXV0YXRpb25zKCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGxhc3QgbWVzc2FnZSB3YXMgYW4gYWdlbnQgd2FpdGluZyBmb3IgaW5wdXRcbiAgICAgICAgICBjb25zdCBsYXN0TWVzc2FnZSA9IG1lc3NhZ2VzICYmIG1lc3NhZ2VzLmxlbmd0aCA+IDAgPyBtZXNzYWdlc1ttZXNzYWdlcy5sZW5ndGggLSAxXSA6IG51bGw7XG4gICAgICAgICAgY29uc3QgaXNGb2xsb3dVcFRvV2FpdGluZ0FnZW50ID0gbGFzdE1lc3NhZ2UgJiYgXG4gICAgICAgICAgICBsYXN0TWVzc2FnZS5yb2xlID09PSAnYXNzaXN0YW50JyAmJiBcbiAgICAgICAgICAgIGxhc3RNZXNzYWdlLnByb2Nlc3NJbmRpY2F0b3I/LnR5cGUgPT09ICd3YWl0aW5nJztcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zb2xlLmxvZygnUHJlLWV4ZWN1dGlvbiBzdGF0ZTonLCB7XG4gICAgICAgICAgICBsYXN0TWVzc2FnZTogbGFzdE1lc3NhZ2UgPyB7XG4gICAgICAgICAgICAgIHJvbGU6IGxhc3RNZXNzYWdlLnJvbGUsXG4gICAgICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IGxhc3RNZXNzYWdlLnByb2Nlc3NJbmRpY2F0b3IsXG4gICAgICAgICAgICAgIGNvbnRlbnRQcmV2aWV3OiBsYXN0TWVzc2FnZS5jb250ZW50LnN1YnN0cmluZygwLCA1MClcbiAgICAgICAgICAgIH0gOiBudWxsLFxuICAgICAgICAgICAgaXNGb2xsb3dVcFRvV2FpdGluZ0FnZW50XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRmluZCB0aGUgYWN0aXZlIGFnZW50IGFuZCBpdHMgZGVmYXVsdCB0b29sXG4gICAgICAgICAgY29uc3QgYWN0aXZlQWdlbnQgPSBhZ2VudHMuZmluZChhZ2VudCA9PiBhZ2VudC5pZCA9PT0gYWN0aXZlQWdlbnRJZCk7XG4gICAgICAgICAgaWYgKGFjdGl2ZUFnZW50ICYmIGFjdGl2ZUFnZW50LnRvb2xzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRUb29sID0gYWN0aXZlQWdlbnQudG9vbHNbMF07IC8vIFVzZSB0aGUgZmlyc3QgdG9vbCBhcyBkZWZhdWx0XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIOKchSBGSVggIzE6IEFsd2F5cyBzdG9yZSB0aGUgdXNlciBtZXNzYWdlIGZpcnN0LCByZWdhcmRsZXNzIG9mIGFnZW50IHJlc3VsdFxuICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICAgICAgICBjb250ZW50OiBtZXNzYWdlQ29udGVudCxcbiAgICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgICAgICBwcm9jZXNzSW5kaWNhdG9yOiBpc0ZvbGxvd1VwVG9XYWl0aW5nQWdlbnQgPyB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2NvbnRpbnVpbmcnLFxuICAgICAgICAgICAgICAgIHByb2Nlc3NUeXBlOiAnZmlsZS1jcmVhdGlvbicsXG4gICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJ1xuICAgICAgICAgICAgICB9IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIGFnZW50IHRvb2xcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVBZ2VudFRvb2woXG4gICAgICAgICAgICAgIGFjdGl2ZUFnZW50SWQsXG4gICAgICAgICAgICAgIGRlZmF1bHRUb29sLmlkLFxuICAgICAgICAgICAgICBtZXNzYWdlQ29udGVudCxcbiAgICAgICAgICAgICAgY29udmV4TXV0YXRpb25zLFxuICAgICAgICAgICAgICBzZXNzaW9uSWRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEhhbmRsZSBlbXB0eSByZXN1bHRzIGZyb20gaW50ZXJhY3RpdmUgY29tcG9uZW50c1xuICAgICAgICAgICAgaWYgKCFyZXN1bHQgfHwgcmVzdWx0LnRyaW0oKSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQWdlbnQgcmV0dXJuZWQgZW1wdHkgcmVzdWx0IC0gdGhpcyBpcyBleHBlY3RlZCBmb3IgaW50ZXJhY3RpdmUgY29tcG9uZW50cycpO1xuICAgICAgICAgICAgICAvLyBVc2VyIG1lc3NhZ2Ugd2FzIGFscmVhZHkgc3RvcmVkIGFib3ZlIC0gaW50ZXJhY3RpdmUgY29tcG9uZW50IGhhbmRsZXMgdGhlIFVJXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcmVzdWx0IGluZGljYXRlcyB3YWl0aW5nIGZvciB1c2VyIGlucHV0IChwcm9qZWN0IHNlbGVjdGlvbilcbiAgICAgICAgICAgIGNvbnN0IGlzV2FpdGluZ0ZvcklucHV0ID0gcmVzdWx0LmluY2x1ZGVzKFwi8J+OryBTZWxlY3QgYSBwcm9qZWN0OlwiKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5pbmNsdWRlcyhcIvCfkqEgKipOZXh0IG1lc3NhZ2U6KiogSnVzdCB0eXBlIHlvdXIgc2VsZWN0aW9uIVwiKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmluY2x1ZGVzKFwiV2hpY2ggUHJvamVjdD9cIikgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5pbmNsdWRlcyhcIkF2YWlsYWJsZSBQcm9qZWN0czpcIik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHJlc3VsdCBpbmRpY2F0ZXMgc3VjY2Vzc2Z1bCBjb21wbGV0aW9uXG4gICAgICAgICAgICBjb25zdCBpc0NvbXBsZXRpb25SZXNwb25zZSA9IHJlc3VsdC5pbmNsdWRlcyhcIuKchSAqKkZpbGUgQ3JlYXRlZCBTdWNjZXNzZnVsbHkhKipcIikgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5pbmNsdWRlcyhcIkZpbGUgQ3JlYXRlZCBTdWNjZXNzZnVsbHkhXCIpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuaW5jbHVkZXMoXCIqKk5leHQgU3RlcHM6KipcIikgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5pbmNsdWRlcyhcIk5leHQgU3RlcHM6XCIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQWdlbnQgRXhlY3V0aW9uIERlYnVnOicsIHtcbiAgICAgICAgICAgICAgYWN0aXZlQWdlbnRJZCxcbiAgICAgICAgICAgICAgcmVzdWx0OiByZXN1bHQuc3Vic3RyaW5nKDAsIDIwMCkgKyAnLi4uJyxcbiAgICAgICAgICAgICAgaXNXYWl0aW5nRm9ySW5wdXQsXG4gICAgICAgICAgICAgIGlzQ29tcGxldGlvblJlc3BvbnNlLFxuICAgICAgICAgICAgICBpc0ZvbGxvd1VwVG9XYWl0aW5nQWdlbnQsXG4gICAgICAgICAgICAgIGhhc1NlbGVjdFByb2plY3Q6IHJlc3VsdC5pbmNsdWRlcyhcIvCfjq8gU2VsZWN0IGEgcHJvamVjdDpcIiksXG4gICAgICAgICAgICAgIGhhc05leHRNZXNzYWdlOiByZXN1bHQuaW5jbHVkZXMoXCLwn5KhICoqTmV4dCBtZXNzYWdlOioqIEp1c3QgdHlwZSB5b3VyIHNlbGVjdGlvbiFcIiksXG4gICAgICAgICAgICAgIGhhc1doaWNoUHJvamVjdDogcmVzdWx0LmluY2x1ZGVzKFwiV2hpY2ggUHJvamVjdD9cIiksXG4gICAgICAgICAgICAgIGhhc0F2YWlsYWJsZVByb2plY3RzOiByZXN1bHQuaW5jbHVkZXMoXCJBdmFpbGFibGUgUHJvamVjdHM6XCIpLFxuICAgICAgICAgICAgICBoYXNGaWxlQ3JlYXRlZDogcmVzdWx0LmluY2x1ZGVzKFwi4pyFICoqRmlsZSBDcmVhdGVkIFN1Y2Nlc3NmdWxseSEqKlwiKSxcbiAgICAgICAgICAgICAgaGFzTmV4dFN0ZXBzOiByZXN1bHQuaW5jbHVkZXMoXCIqKk5leHQgU3RlcHM6KipcIilcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoaXNXYWl0aW5nRm9ySW5wdXQpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NldHRpbmcgYWN0aXZlIGFnZW50IHByb2Nlc3MgZm9yIGZpbGUgY3JlYXRpb24nKTtcbiAgICAgICAgICAgICAgc2V0QWN0aXZlQWdlbnRQcm9jZXNzKHtcbiAgICAgICAgICAgICAgICBhZ2VudElkOiBhY3RpdmVBZ2VudElkLFxuICAgICAgICAgICAgICAgIHByb2Nlc3NUeXBlOiAnZmlsZS1jcmVhdGlvbicsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NsZWFyaW5nIGFjdGl2ZSBhZ2VudCBwcm9jZXNzIC0gYWdlbnQgY29tcGxldGVkJyk7XG4gICAgICAgICAgICAgIC8vIENsZWFyIGFjdGl2ZSBwcm9jZXNzIHdoZW4gYWdlbnQgY29tcGxldGVzXG4gICAgICAgICAgICAgIHNldEFjdGl2ZUFnZW50UHJvY2VzcyhudWxsKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIEZvciBlZGl0b3IgYWdlbnQsIGtlZXAgaXQgYWN0aXZlIGR1cmluZyB0aGUgZmlsZSBzZWxlY3Rpb24gd29ya2Zsb3dcbiAgICAgICAgICAgICAgLy8gT25seSBjbGVhciBpdCB3aGVuIHRoZSBlZGl0aW5nIGlzIGFjdHVhbGx5IGNvbXBsZXRlXG4gICAgICAgICAgICAgIGlmIChhY3RpdmVBZ2VudElkID09PSAnZWRpdG9yJykge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVkaXRvciBhZ2VudCBpcyB3YWl0aW5nIGZvciBlZGl0IGluc3RydWN0aW9ucyBhZnRlciBmaWxlIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgIGNvbnN0IHsgRWRpdG9yQWdlbnQgfSA9IGF3YWl0IGltcG9ydCgnQC9zdG9yZS9hZ2VudHMvZWRpdG9yQWdlbnQnKTtcbiAgICAgICAgICAgICAgICBpZiAoRWRpdG9yQWdlbnQuY3VycmVudFN0ZXAgPT09ICdlZGl0LXJlcXVlc3QnICYmIEVkaXRvckFnZW50LnNlbGVjdGVkRmlsZSkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0tlZXBpbmcgZWRpdG9yIGFnZW50IGFjdGl2ZSAtIHdhaXRpbmcgZm9yIGVkaXQgaW5zdHJ1Y3Rpb25zJyk7XG4gICAgICAgICAgICAgICAgICAvLyBLZWVwIHRoZSBhZ2VudCBhY3RpdmUgdG8gcmVjZWl2ZSBlZGl0aW5nIGluc3RydWN0aW9uc1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoRWRpdG9yQWdlbnQuY3VycmVudFN0ZXAgPT09ICdmaWxlLXNlbGVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdLZWVwaW5nIGVkaXRvciBhZ2VudCBhY3RpdmUgLSB3YWl0aW5nIGZvciBmaWxlIHNlbGVjdGlvbicpO1xuICAgICAgICAgICAgICAgICAgLy8gS2VlcCB0aGUgYWdlbnQgYWN0aXZlIGR1cmluZyBmaWxlIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ2xlYXJpbmcgZWRpdG9yIGFnZW50IC0gZWRpdGluZyBjb21wbGV0ZScpO1xuICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlQWdlbnQobnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIENsZWFyIGFjdGl2ZSBhZ2VudCBJRCBpZiB0aGUgcmVzdWx0IGluZGljYXRlcyBpbnRlcmFjdGl2ZSBjb21wb25lbnRzIGFyZSBzaG93blxuICAgICAgICAgICAgICAgIC8vIFRoaXMgcHJldmVudHMgc3Vic2VxdWVudCB0ZXh0IGlucHV0IGZyb20gYmVpbmcgcm91dGVkIGJhY2sgdG8gdGhlIGFnZW50XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5pbmNsdWRlcyhcIlNlbGVjdCBhIGZpbGUgdG8gZWRpdFwiKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmluY2x1ZGVzKFwiZmlsZV9zZWxlY3RvclwiKSB8fFxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuaW5jbHVkZXMoXCJDaG9vc2UgYSBmaWxlIGZyb20gdGhlIHNlbGVjdG9yXCIpKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ2xlYXJpbmcgYWN0aXZlIGFnZW50IElEIC0gaW50ZXJhY3RpdmUgY29tcG9uZW50IHNob3duJyk7XG4gICAgICAgICAgICAgICAgICBzZXRBY3RpdmVBZ2VudChudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU3RvcmUgYWdlbnQgcmVzdWx0IHdpdGggcHJvY2VzcyBpbmRpY2F0b3JzICh1c2VyIG1lc3NhZ2UgYWxyZWFkeSBzdG9yZWQgYWJvdmUpXG4gICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgICAgICAgY29udGVudDogYPCfpJYgKioke2FjdGl2ZUFnZW50Lm5hbWV9IEFnZW50IFJlc3VsdDoqKlxcblxcbiR7cmVzdWx0fWAsXG4gICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgcHJvY2Vzc0luZGljYXRvcjogKGlzV2FpdGluZ0ZvcklucHV0IHx8IGlzQ29tcGxldGlvblJlc3BvbnNlIHx8IGlzRm9sbG93VXBUb1dhaXRpbmdBZ2VudCkgPyB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3dhaXRpbmcnLFxuICAgICAgICAgICAgICAgIHByb2Nlc3NUeXBlOiAnZmlsZS1jcmVhdGlvbicsXG4gICAgICAgICAgICAgICAgY29sb3I6ICdncmVlbidcbiAgICAgICAgICAgICAgfSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBEZWJ1ZyBsb2cgZm9yIHdoYXQgcHJvY2Vzc0luZGljYXRvciB3YXMgc2V0XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU3RvcmVDaGF0TWVzc2FnZSBEZWJ1ZzonLCB7XG4gICAgICAgICAgICAgIG1lc3NhZ2VUeXBlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgd2lsbEhhdmVQcm9jZXNzSW5kaWNhdG9yOiAhIShpc1dhaXRpbmdGb3JJbnB1dCB8fCBpc0NvbXBsZXRpb25SZXNwb25zZSB8fCBpc0ZvbGxvd1VwVG9XYWl0aW5nQWdlbnQpLFxuICAgICAgICAgICAgICBpc1dhaXRpbmdGb3JJbnB1dCxcbiAgICAgICAgICAgICAgaXNDb21wbGV0aW9uUmVzcG9uc2UsXG4gICAgICAgICAgICAgIGlzRm9sbG93VXBUb1dhaXRpbmdBZ2VudCxcbiAgICAgICAgICAgICAgcmVzdWx0U25pcHBldDogcmVzdWx0LnN1YnN0cmluZygwLCAxMDApXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdBZ2VudCBleGVjdXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFN0b3JlIHRoZSB1c2VyIG1lc3NhZ2UgYW5kIGVycm9yXG4gICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2VDb250ZW50LFxuICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IGDinYwgQWdlbnQgZXhlY3V0aW9uIGZhaWxlZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gLFxuICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB9IC8vIENsb3NlIHRoZSBpZiAoc2hvdWxkUm91dGVUb0FnZW50KSBibG9ja1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGxvb2tzIGxpa2UgYSBuYXR1cmFsIGxhbmd1YWdlIE1DUCBxdWVyeVxuICAgICAgaWYgKG1jcENvbm5lY3RlZCAmJiBpc01DUFF1ZXJ5KG1lc3NhZ2VDb250ZW50KSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IG1jcFJlc3BvbnNlID0gYXdhaXQgcHJvY2Vzc05hdHVyYWxMYW5ndWFnZShtZXNzYWdlQ29udGVudCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKG1jcFJlc3BvbnNlLnN1Y2Nlc3MgJiYgbWNwUmVzcG9uc2UuY29udGVudCAmJiBtY3BSZXNwb25zZS5jb250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgdGhlIGFjdHVhbCB0ZXh0IGNvbnRlbnQgZnJvbSB0aGUgTUNQIHJlc3BvbnNlXG4gICAgICAgICAgICBjb25zdCB0ZXh0Q29udGVudCA9IG1jcFJlc3BvbnNlLmNvbnRlbnRbMF0udGV4dDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU3RyaXAgbWFya2Rvd24gZm9ybWF0dGluZyBhbmQgY29udmVydCB0byBwbGFpbiB0ZXh0XG4gICAgICAgICAgICBjb25zdCBwbGFpblRleHQgPSBzdHJpcE1hcmtkb3duKHRleHRDb250ZW50KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2VuZCB0aGUgTUNQIHJlc3BvbnNlIHdpdGggY2xlYW4gdGV4dCBjb250ZW50XG4gICAgICAgICAgICBhd2FpdCBzZW5kTWVzc2FnZShg8J+kliBNQ1AgQW5hbHlzaXM6XFxuXFxuJHtwbGFpblRleHR9YCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHNlbmRNZXNzYWdlKG1lc3NhZ2VDb250ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignTUNQIEVycm9yOicsIGVycm9yKTtcbiAgICAgICAgICAvLyBGYWxsIGJhY2sgdG8gcmVndWxhciBjaGF0XG4gICAgICAgICAgYXdhaXQgc2VuZE1lc3NhZ2UobWVzc2FnZUNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZWd1bGFyIGNoYXQgbWVzc2FnZSAtIGFkZCBpbnN0cnVjdGlvbiBjb250ZXh0IGlmIGF2YWlsYWJsZVxuICAgICAgICBsZXQgY29udGV4dHVhbE1lc3NhZ2UgPSBtZXNzYWdlQ29udGVudDtcbiAgICAgICAgaWYgKGluc3RydWN0aW9uQ29udGV4dCkge1xuICAgICAgICAgIGNvbnRleHR1YWxNZXNzYWdlID0gYCR7aW5zdHJ1Y3Rpb25Db250ZXh0fVxcblxcbi0tLVxcblxcbiR7bWVzc2FnZUNvbnRlbnR9YDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQWx3YXlzIHVzZSBzdHJlYW1pbmcgdGhpbmtpbmcgZm9yIGFsbCBtZXNzYWdlcyAodGhpbmtpbmcgZW5hYmxlZCBieSBkZWZhdWx0KVxuICAgICAgICBhd2FpdCBzZW5kTWVzc2FnZVdpdGhTdHJlYW1pbmcoY29udGV4dHVhbE1lc3NhZ2UsIG1lc3NhZ2VDb250ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBoYW5kbGVTdWJtaXQoZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUlucHV0Q2hhbmdlID0gKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICBzZXRNZXNzYWdlKHZhbHVlKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggZmxleC1jb2wgbWluLWgtMFwiPlxuICAgICAgPGRpdiBcbiAgICAgICAgcmVmPXtzY3JvbGxSZWZ9IFxuICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIGJnLVsjMGUwZTBlXSBwLTIgcGItOCBtaW4taC0wIHNjcm9sbGJhci1oaWRkZW5cIlxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbW9ubyB0ZXh0LXhzIHNwYWNlLXktMiBtaW4taC1mdWxsXCI+XG4gICAgICAgICAgey8qIFRlcm1pbmFsIFdlbGNvbWUgVGV4dCAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyNjY2NjY2NdIHNwYWNlLXktMSBtYi00XCI+XG4gICAgICAgICAgICA8ZGl2PkVBQyBGaW5hbmNpYWwgRGFzaGJvYXJkIC0gQUkgQXNzaXN0YW50PC9kaXY+XG4gICAgICAgICAgICB7bWNwRXJyb3IgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyNmNDg3NzFdIHRleHQteHNcIj5NQ1AgRXJyb3I6IHttY3BFcnJvcn08L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyM4NTg1ODVdIG10LTJcIj5BSSBBc3Npc3RhbnQgcmVhZHkgZm9yIEVBQyBwcm9qZWN0IHF1ZXN0aW9ucy48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bIzg1ODU4NV0gdGV4dC14c1wiPlNlc3Npb246IHtzZXNzaW9uSWQuc2xpY2UoLTgpfTwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogU2Vzc2lvbiBTdGF0dXMgYW5kIExpbWl0cyAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bIzg1ODU4NV0gdGV4dC14c1wiPlxuICAgICAgICAgICAgICBNZXNzYWdlczoge21lc3NhZ2VDb3VudH0vNTAwXG4gICAgICAgICAgICAgIHtpc05lYXJTZXNzaW9uTGltaXQgJiYgKFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWyNmNDg3NzFdIG1sLTJcIj7imqDvuI8gQXBwcm9hY2hpbmcgbGltaXQ8L3NwYW4+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHtpc0F0U2Vzc2lvbkxpbWl0ICYmIChcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjZjQ4NzcxXSBtbC0yXCI+8J+aqCBTZXNzaW9uIGZ1bGw8L3NwYW4+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuXG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogTWVzc2FnZXMgKi99XG4gICAgICAgICAge21lc3NhZ2VzPy5tYXAoKG1zZywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIC8vIFVzZSB0aGUgc3RvcmVkIHByb2Nlc3NJbmRpY2F0b3IgZm9yIHZpc3VhbCBjb250aW51aXR5XG4gICAgICAgICAgICBjb25zdCBoYXNQcm9jZXNzSW5kaWNhdG9yID0gbXNnLnByb2Nlc3NJbmRpY2F0b3I7XG4gICAgICAgICAgICBjb25zdCBpc1VzZXJQcm9jZXNzTWVzc2FnZSA9IGhhc1Byb2Nlc3NJbmRpY2F0b3IgJiYgbXNnLnJvbGUgPT09ICd1c2VyJyAmJiBoYXNQcm9jZXNzSW5kaWNhdG9yLnR5cGUgPT09ICdjb250aW51aW5nJztcbiAgICAgICAgICAgIGNvbnN0IGlzQWdlbnRQcm9jZXNzTWVzc2FnZSA9IGhhc1Byb2Nlc3NJbmRpY2F0b3IgJiYgbXNnLnJvbGUgPT09ICdhc3Npc3RhbnQnICYmIGhhc1Byb2Nlc3NJbmRpY2F0b3IudHlwZSA9PT0gJ3dhaXRpbmcnO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgIHttc2cucm9sZSA9PT0gJ3VzZXInICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdGV4dC1bIzAwN2FjY10gJHtpc1VzZXJQcm9jZXNzTWVzc2FnZSA/ICdib3JkZXItbC00IGJvcmRlci1bIzAwNzhkNF0gcGwtMycgOiAnJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bIzAwN2FjY11cIj4kIHVzZXI6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0xIHRleHQtWyNjY2NjY2NdXCI+e21zZy5jb250ZW50fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAge2lzVXNlclByb2Nlc3NNZXNzYWdlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtWyMwMDc4ZDRdIG10LTEgb3BhY2l0eS04MFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAg4oazIENvbnRpbnVpbmcge21zZy5wcm9jZXNzSW5kaWNhdG9yPy5wcm9jZXNzVHlwZT8ucmVwbGFjZSgnLScsICcgJyl9Li4uXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHttc2cucm9sZSA9PT0gJ2Fzc2lzdGFudCcgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B0ZXh0LVsjNGVjOWIwXSAke2lzQWdlbnRQcm9jZXNzTWVzc2FnZSA/ICdib3JkZXItbC00IGJvcmRlci1bIzRlYzliMF0gcGwtMycgOiAnJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bIzRlYzliMF1cIj4kIGFzc2lzdGFudDo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWwtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxNYXJrZG93blJlbmRlcmVyIGNvbnRlbnQ9e21zZy5jb250ZW50fSAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHsvKiBJbnRlcmFjdGl2ZSBDb21wb25lbnQgKi99XG4gICAgICAgICAgICAgICAgICAgIHttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQgJiYgKG1zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5zdGF0dXMgPT09ICdwZW5kaW5nJyB8fCBtc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuc3RhdHVzID09PSAnY29tcGxldGVkJykgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMyBtbC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnR5cGUgPT09ICdwcm9qZWN0X3NlbGVjdG9yJyAmJiAhbXNnLmludGVyYWN0aXZlQ29tcG9uZW50LmRhdGE/LnByb2plY3ROYW1lSW5wdXQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8UHJvamVjdFNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZURldGFpbHM9e21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5kYXRhPy5maWxlRGV0YWlsc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRQcm9qZWN0PXttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuc3RhdHVzID09PSAnY29tcGxldGVkJyA/IG1zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5yZXN1bHQ/LnNlbGVjdGVkUHJvamVjdCA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblByb2plY3RTZWxlY3RlZD17YXN5bmMgKHByb2plY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgY29tcG9uZW50IHN0YXR1cyB0byBjb21wbGV0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogbXNnLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogeyBzZWxlY3RlZFByb2plY3Q6IHByb2plY3QgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udGludWUgdGhlIGZpbGUgY3JlYXRpb24gcHJvY2Vzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb252ZXhNdXRhdGlvbnMgPSBjcmVhdGVDb252ZXhNdXRhdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZUNyZWF0b3JBZ2VudCA9IGFnZW50cy5maW5kKGEgPT4gYS5pZCA9PT0gJ2ZpbGUtY3JlYXRvcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZUNyZWF0b3JBZ2VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpbXVsYXRlIHVzZXIgaW5wdXQgZm9yIHByb2plY3Qgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdFNlbGVjdGlvbklucHV0ID0gYEFkZCBpdCB0byAke3Byb2plY3QubmFtZX1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlbmQgdXNlciBtZXNzYWdlIHNob3dpbmcgdGhlIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogYFNlbGVjdGVkIHByb2plY3Q6ICR7cHJvamVjdC5uYW1lfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NvbnRpbnVpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVHlwZTogJ3Byb2plY3Rfc2VsZWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIHRoZSBhZ2VudCB3aXRoIHRoZSBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+agCBFeGVjdXRpbmcgYWdlbnQgd2l0aCBwcm9qZWN0IHNlbGVjdGlvbjonLCBwcm9qZWN0U2VsZWN0aW9uSW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SnIEFnZW50IGRldGFpbHM6Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWdlbnRJZDogZmlsZUNyZWF0b3JBZ2VudC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xJZDogZmlsZUNyZWF0b3JBZ2VudC50b29sc1swXS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBmaWxlQ3JlYXRvckFnZW50LnRvb2xzWzBdLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXhNdXRhdGlvbnNBdmFpbGFibGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRmlsZTogISFjb252ZXhNdXRhdGlvbnMuY3JlYXRlRmlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0UHJvamVjdHM6ICEhY29udmV4TXV0YXRpb25zLmdldFByb2plY3RzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZUNoYXRNZXNzYWdlOiAhIWNvbnZleE11dGF0aW9ucy5zdG9yZUNoYXRNZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVBZ2VudFRvb2woXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlQ3JlYXRvckFnZW50LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZUNyZWF0b3JBZ2VudC50b29sc1swXS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3RTZWxlY3Rpb25JbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZleE11dGF0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6UgQWdlbnQgZXhlY3V0aW9uIHJlc3VsdDonLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OPIFJlc3VsdCBsZW5ndGg6JywgcmVzdWx0Py5sZW5ndGggfHwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4sgUmVzdWx0IGNvbnRlbnQgcHJldmlldzonLCByZXN1bHQ/LnN1YnN0cmluZygwLCAxMDApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBSZXN1bHQgdHlwZTonLCB0eXBlb2YgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+OryBJcyByZXN1bHQgdHJ1dGh5OicsICEhcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+OryBJcyByZXN1bHQgZW1wdHkgc3RyaW5nOicsIHJlc3VsdCA9PT0gXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq8gUmVzdWx0IHRyaW1tZWQgbGVuZ3RoOicsIHJlc3VsdD8udHJpbSgpPy5sZW5ndGggfHwgMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHN0b3JlIG5vbi1lbXB0eSByZXN1bHRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQudHJpbSgpICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFN0b3Jpbmcgc3VjY2VzcyBtZXNzYWdlIHRvIGNoYXQuLi4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OLIEN1cnJlbnQgc2Vzc2lvbiBJRDonLCBzZXNzaW9uSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4sgTWVzc2FnZSBjb250ZW50IGxlbmd0aDonLCByZXN1bHQubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgdGhlIGFnZW50J3MgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlZE1lc3NhZ2UgPSBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnd2FpdGluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1R5cGU6ICdmaWxlX2NyZWF0aW9uX2NvbXBsZXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2dyZWVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFN1Y2Nlc3MgbWVzc2FnZSBzdG9yZWQgdG8gY2hhdCEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OLIFN0b3JlZCBtZXNzYWdlIHJlc3VsdDonLCBzdG9yZWRNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2FpdCBhIG1vbWVudCBhbmQgY2hlY2sgaWYgdGhlIG1lc3NhZ2UgYXBwZWFycyBpbiB0aGUgbWVzc2FnZXMgYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBNZXNzYWdlcyBhZnRlciBzdWNjZXNzIHN0b3JhZ2U6Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsTWVzc2FnZXM6IG1lc3NhZ2VzPy5sZW5ndGggfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0TWVzc2FnZTogbWVzc2FnZXM/LlttZXNzYWdlcy5sZW5ndGggLSAxXT8uY29udGVudD8uc3Vic3RyaW5nKDAsIDUwKSArICcuLi4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNZXNzYWdlUm9sZTogbWVzc2FnZXM/LlttZXNzYWdlcy5sZW5ndGggLSAxXT8ucm9sZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIEFnZW50IHJldHVybmVkIGVtcHR5IHJlc3VsdCBhZnRlciBwcm9qZWN0IHNlbGVjdGlvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaGFuZGxpbmcgcHJvamVjdCBzZWxlY3Rpb246JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAn4p2MIEVycm9yIHByb2Nlc3NpbmcgcHJvamVjdCBzZWxlY3Rpb24uIFBsZWFzZSB0cnkgYWdhaW4uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbD17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogbXNnLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjYW5jZWxsZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJ+KdjCBGaWxlIGNyZWF0aW9uIGNhbmNlbGxlZC4gWW91IGNhbiBzdGFydCBhIG5ldyBmaWxlIGNyZWF0aW9uIHJlcXVlc3QgYW55dGltZS4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNhbmNlbGxpbmcgcHJvamVjdCBzZWxlY3Rpb246JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWItMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB7bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnR5cGUgPT09ICdmaWxlX3NlbGVjdG9yJyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGaWxlU2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRGaWxlPXttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuc3RhdHVzID09PSAnY29tcGxldGVkJyA/IG1zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5yZXN1bHQ/LnNlbGVjdGVkRmlsZSA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkZpbGVTZWxlY3RlZD17YXN5bmMgKGZpbGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SlIFtGaWxlU2VsZWN0b3JdIEZpbGUgc2VsZWN0ZWQgY2FsbGJhY2sgdHJpZ2dlcmVkOicsIGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBmaWxlIG5hbWUgZm9yIGRhdGFiYXNlIHN0b3JhZ2UgYnV0IHBhc3MgY29tcGxldGUgb2JqZWN0IHRvIGFnZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVQYXRoID0gZmlsZS5uYW1lIHx8IGZpbGUucGF0aCB8fCBmaWxlLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKUgW0ZpbGVTZWxlY3Rvcl0gVXBkYXRpbmcgaW50ZXJhY3RpdmUgY29tcG9uZW50IHN0YXR1cycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGNvbXBvbmVudCBzdGF0dXMgdG8gY29tcGxldGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IG1zZy5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IHsgc2VsZWN0ZWRGaWxlOiBmaWxlUGF0aCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpSBbRmlsZVNlbGVjdG9yXSBDb250aW51aW5nIHRoZSBmaWxlIHNlbGVjdGlvbiBwcm9jZXNzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIHRoZSBmaWxlIHNlbGVjdGlvbiBwcm9jZXNzIGJhc2VkIG9uIHRoZSBhY3RpdmUgYWdlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udmV4TXV0YXRpb25zID0gY3JlYXRlQ29udmV4TXV0YXRpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUFnZW50ID0gYWdlbnRzLmZpbmQoYSA9PiBhLmlkID09PSBhY3RpdmVBZ2VudElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVBZ2VudCAmJiBhY3RpdmVBZ2VudElkID09PSAnZGlyZWN0b3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKUgW0ZpbGVTZWxlY3Rvcl0gRm91bmQgZGlyZWN0b3IgYWdlbnQsIHByb2Nlc3NpbmcgY2FtcGFpZ24gaW5zdHJ1Y3Rpb25zJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VuZCB1c2VyIG1lc3NhZ2Ugc2hvd2luZyB0aGUgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBgU2VsZWN0ZWQgZmlsZTogJHtmaWxlLm5hbWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0luZGljYXRvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY29udGludWluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NUeXBlOiAnZmlsZV9zZWxlY3Rpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SlIFtGaWxlU2VsZWN0b3JdIEV4ZWN1dGluZyBkaXJlY3RvciBhZ2VudCB3aXRoIGZpbGUgc2VsZWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVBZ2VudFRvb2woXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUFnZW50SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUFnZW50LnRvb2xzWzBdLmNvbW1hbmQsIC8vIFVzZSB0aGUgY29tbWFuZCBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFNlbGVjdGVkIGZpbGU6ICR7ZmlsZS5uYW1lfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZleE11dGF0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpSBbRmlsZVNlbGVjdG9yXSBEaXJlY3RvciBhZ2VudCBleGVjdXRpb24gcmVzdWx0OicsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBkaXJlY3RvciBhZ2VudCdzIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndG9vbF9leGVjdXRlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRGaWxlOiBmaWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZ2VudFR5cGU6ICdkaXJlY3RvcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW0ZpbGVTZWxlY3Rvcl0gRXJyb3IgZXhlY3V0aW5nIGRpcmVjdG9yIGFnZW50OicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWN0aXZlQWdlbnQgJiYgYWN0aXZlQWdlbnRJZCA9PT0gJ2VkaXRvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpSBbRmlsZVNlbGVjdG9yXSBGb3VuZCBlZGl0b3IgYWdlbnQsIHByb2Nlc3NpbmcgZmlsZSBlZGl0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VuZCB1c2VyIG1lc3NhZ2Ugc2hvd2luZyB0aGUgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBgU2VsZWN0ZWQgZmlsZTogJHtmaWxlLm5hbWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0luZGljYXRvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY29udGludWluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NUeXBlOiAnZmlsZV9zZWxlY3Rpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SlIFtGaWxlU2VsZWN0b3JdIENhbGxpbmcgaGFuZGxlRmlsZVNlbGVjdGVkIG1ldGhvZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhbGwgdGhlIGVkaXRvciBhZ2VudCdzIGhhbmRsZUZpbGVTZWxlY3RlZCBtZXRob2Qgd2l0aCBjb21wbGV0ZSBmaWxlIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGVkaXRvckFnZW50OiBhY3R1YWxFZGl0b3JBZ2VudCB9ID0gYXdhaXQgaW1wb3J0KCdAL3N0b3JlL2FnZW50cy9lZGl0b3JBZ2VudCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKUgW0ZpbGVTZWxlY3Rvcl0gSW1wb3J0ZWQgYWN0dWFsIGVkaXRvciBhZ2VudCBpbnN0YW5jZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKUgW0ZpbGVTZWxlY3Rvcl0gQWdlbnQgaGFzIGhhbmRsZUZpbGVTZWxlY3RlZDonLCAnaGFuZGxlRmlsZVNlbGVjdGVkJyBpbiBhY3R1YWxFZGl0b3JBZ2VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgnaGFuZGxlRmlsZVNlbGVjdGVkJyBpbiBhY3R1YWxFZGl0b3JBZ2VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBhY3R1YWxFZGl0b3JBZ2VudC5oYW5kbGVGaWxlU2VsZWN0ZWQoc2Vzc2lvbklkLCBmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKUgW0ZpbGVTZWxlY3Rvcl0gaGFuZGxlRmlsZVNlbGVjdGVkIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbRmlsZVNlbGVjdG9yXSBoYW5kbGVGaWxlU2VsZWN0ZWQgbWV0aG9kIG5vdCBmb3VuZCBvbiBlZGl0b3IgYWdlbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFtGaWxlU2VsZWN0b3JdIEVycm9yIGNhbGxpbmcgaGFuZGxlRmlsZVNlbGVjdGVkOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpSBbRmlsZVNlbGVjdG9yXSBTdG9yaW5nIG1lc3NhZ2Ugd2l0aCBlZGl0IGluc3RydWN0aW9ucyBpbnB1dCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNob3cgZWRpdCBpbnN0cnVjdGlvbnMgaW5wdXQgY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGDinIUgKipGaWxlIFNlbGVjdGVkOiAke2ZpbGUubmFtZX0qKlxuXG7wn5OEICoqVGhlIGZpbGUgaGFzIGJlZW4gb3BlbmVkIGluIHRoZSBlZGl0b3IgdGFiLioqYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVyYWN0aXZlQ29tcG9uZW50OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlZGl0X2luc3RydWN0aW9uc19pbnB1dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ3BlbmRpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWU6IGZpbGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ0Rlc2NyaWJlIHdoYXQgY2hhbmdlcyB5b3Ugd2FudCB0byBtYWtlIHRvIHRoaXMgZmlsZS4uLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhhbXBsZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBZGQgYSBzZWN0aW9uIGFib3V0IGJlc3QgcHJhY3RpY2VzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdVcGRhdGUgdGhlIHByaWNpbmcgaW5mb3JtYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ01ha2UgdGhlIHRvbmUgbW9yZSBwcm9mZXNzaW9uYWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZpeCBhbnkgZ3JhbW1hciBvciBzcGVsbGluZyBlcnJvcnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0FkZCBleGFtcGxlcyBhbmQgY29kZSBzbmlwcGV0cydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaGFuZGxpbmcgZmlsZSBzZWxlY3Rpb246JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DYW5jZWw9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IG1zZy5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY2FuY2VsbGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICfinYwgRmlsZSBlZGl0aW5nIGNhbmNlbGxlZC4gWW91IGNhbiBzdGFydCBhIG5ldyBlZGl0IHJlcXVlc3QgYW55dGltZS4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjYW5jZWxsaW5nIGZpbGUgc2VsZWN0aW9uOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1iLTJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAge21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC50eXBlID09PSAnZWRpdF9pbnN0cnVjdGlvbnNfaW5wdXQnICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEVkaXRJbnN0cnVjdGlvbnNJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuZGF0YT8ucGxhY2Vob2xkZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWU9e21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5kYXRhPy5maWxlTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGFtcGxlcz17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LmRhdGE/LmV4YW1wbGVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uSW5zdHJ1Y3Rpb25zU3VibWl0dGVkPXthc3luYyAoaW5zdHJ1Y3Rpb25zKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGNvbXBvbmVudCBzdGF0dXMgdG8gY29tcGxldGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IG1zZy5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IHsgaW5zdHJ1Y3Rpb25zIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlbmQgdXNlciBtZXNzYWdlIHNob3dpbmcgdGhlIGVkaXQgaW5zdHJ1Y3Rpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBpbnN0cnVjdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0luZGljYXRvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NvbnRpbnVpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1R5cGU6ICdlZGl0X2luc3RydWN0aW9ucycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIHRoZSBlZGl0aW5nIHByb2Nlc3MgdXNpbmcgYWdlbnQgcmVnaXN0cnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udmV4TXV0YXRpb25zID0gY3JlYXRlQ29udmV4TXV0YXRpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVBZ2VudFRvb2woXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VkaXRvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VkaXQtZmlsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZleE11dGF0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcHJvY2Vzc2luZyBlZGl0IGluc3RydWN0aW9uczonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGDinYwgKipFcnJvciBwcm9jZXNzaW5nIGVkaXQgaW5zdHJ1Y3Rpb25zKipcXG5cXG4ke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3Igb2NjdXJyZWQnfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DYW5jZWw9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IG1zZy5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY2FuY2VsbGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICfinYwgRWRpdCBpbnN0cnVjdGlvbnMgY2FuY2VsbGVkLiBZb3UgY2FuIHN0YXJ0IGEgbmV3IGVkaXQgcmVxdWVzdCBhbnl0aW1lLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNhbmNlbGxpbmcgZWRpdCBpbnN0cnVjdGlvbnM6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWItMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB7bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnR5cGUgPT09ICdwcm9qZWN0X3NlbGVjdG9yJyAmJiBtc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuZGF0YT8ucHJvamVjdE5hbWVJbnB1dCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxQcm9qZWN0TmFtZUlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5kYXRhPy5wbGFjZWhvbGRlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5kYXRhPy5kZWZhdWx0VmFsdWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Qcm9qZWN0TmFtZVN1Ym1pdHRlZD17YXN5bmMgKHByb2plY3ROYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGNvbXBvbmVudCBzdGF0dXMgdG8gY29tcGxldGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IG1zZy5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IHsgcHJvamVjdE5hbWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udGludWUgdGhlIHByb2plY3QgY3JlYXRpb24gcHJvY2Vzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb252ZXhNdXRhdGlvbnMgPSBjcmVhdGVDb252ZXhNdXRhdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdENyZWF0b3JBZ2VudCA9IGFnZW50cy5maW5kKGEgPT4gYS5pZCA9PT0gJ3Byb2plY3QtY3JlYXRvcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvamVjdENyZWF0b3JBZ2VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlbmQgdXNlciBtZXNzYWdlIHNob3dpbmcgdGhlIHByb2plY3QgbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogYFByb2plY3QgbmFtZTogJHtwcm9qZWN0TmFtZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0luZGljYXRvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY29udGludWluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NUeXBlOiAncHJvamVjdF9uYW1lX2lucHV0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIHRoZSBhZ2VudCB3aXRoIHRoZSBwcm9qZWN0IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+agCBFeGVjdXRpbmcgYWdlbnQgd2l0aCBwcm9qZWN0IG5hbWU6JywgcHJvamVjdE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVBZ2VudFRvb2woXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0Q3JlYXRvckFnZW50LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdENyZWF0b3JBZ2VudC50b29sc1swXS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3ROYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udmV4TXV0YXRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TpSBBZ2VudCBleGVjdXRpb24gcmVzdWx0OicsIHJlc3VsdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHN0b3JlIG5vbi1lbXB0eSByZXN1bHRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQudHJpbSgpICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFN0b3JpbmcgcHJvamVjdCBjcmVhdGlvbiBzdWNjZXNzIG1lc3NhZ2UuLi4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgdGhlIGFnZW50J3MgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0luZGljYXRvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd3YWl0aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVHlwZTogJ3Byb2plY3RfY3JlYXRpb25fY29tcGxldGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnZ3JlZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgUHJvamVjdCBjcmVhdGlvbiBzdWNjZXNzIG1lc3NhZ2Ugc3RvcmVkIScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIEFnZW50IHJldHVybmVkIGVtcHR5IHJlc3VsdCBhZnRlciBwcm9qZWN0IG5hbWUgaW5wdXQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGhhbmRsaW5nIHByb2plY3QgbmFtZSBpbnB1dDonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICfinYwgRXJyb3IgcHJvY2Vzc2luZyBwcm9qZWN0IG5hbWUuIFBsZWFzZSB0cnkgYWdhaW4uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbD17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogbXNnLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjYW5jZWxsZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJ+KdjCBQcm9qZWN0IGNyZWF0aW9uIGNhbmNlbGxlZC4gWW91IGNhbiBzdGFydCBhIG5ldyBwcm9qZWN0IGNyZWF0aW9uIHJlcXVlc3QgYW55dGltZS4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNhbmNlbGxpbmcgcHJvamVjdCBuYW1lIGlucHV0OicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1iLTJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHsobXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnR5cGUgYXMgc3RyaW5nKSA9PT0gJ2ZpbGVfdHlwZV9zZWxlY3RvcicgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RmlsZVR5cGVTZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRmlsZVR5cGVTZWxlY3RlZD17YXN5bmMgKGZpbGVUeXBlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBzZXJpYWxpemFibGUgdmVyc2lvbiBvZiB0aGUgZmlsZVR5cGUgd2l0aG91dCBSZWFjdCBjb21wb25lbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6YWJsZUZpbGVUeXBlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGZpbGVUeXBlLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uOiBmaWxlVHlwZS5leHRlbnNpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGZpbGVUeXBlLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXRmb3JtOiBmaWxlVHlwZS5wbGF0Zm9ybSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGU6IGZpbGVUeXBlLmF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgY29tcG9uZW50IHN0YXR1cyB0byBjb21wbGV0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogbXNnLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogeyBmaWxlVHlwZTogc2VyaWFsaXphYmxlRmlsZVR5cGUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udGludWUgdGhlIGZpbGUgY3JlYXRpb24gcHJvY2Vzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb252ZXhNdXRhdGlvbnMgPSBjcmVhdGVDb252ZXhNdXRhdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZUNyZWF0b3JBZ2VudCA9IGFnZW50cy5maW5kKGEgPT4gYS5pZCA9PT0gJ2ZpbGUtY3JlYXRvcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZUNyZWF0b3JBZ2VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlbmQgdXNlciBtZXNzYWdlIHNob3dpbmcgdGhlIGZpbGUgdHlwZSBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGBTZWxlY3RlZCBmaWxlIHR5cGU6ICR7ZmlsZVR5cGUuZGVzY3JpcHRpb259YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0luZGljYXRvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY29udGludWluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NUeXBlOiAnZmlsZV90eXBlX3NlbGVjdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSB0aGUgYWdlbnQgd2l0aCB0aGUgZmlsZSB0eXBlIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5qAIEV4ZWN1dGluZyBmaWxlIGNyZWF0b3IgYWdlbnQgd2l0aCBmaWxlIHR5cGU6JywgZmlsZVR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVBZ2VudFRvb2woXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlQ3JlYXRvckFnZW50LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZUNyZWF0b3JBZ2VudC50b29sc1swXS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBGaWxlIHR5cGU6ICR7ZmlsZVR5cGUudHlwZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udmV4TXV0YXRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TpSBGaWxlIGNyZWF0b3IgYWdlbnQgcmVzdWx0OicsIHJlc3VsdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHN0b3JlIG5vbi1lbXB0eSByZXN1bHRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQudHJpbSgpICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFN0b3JpbmcgZmlsZSB0eXBlIGNvbnRpbnVhdGlvbiBtZXNzYWdlLi4uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBhZ2VudCdzIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnd2FpdGluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1R5cGU6ICdmaWxlX3R5cGVfY29udGludWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnZ3JlZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgRmlsZSB0eXBlIGNvbnRpbnVhdGlvbiBtZXNzYWdlIHN0b3JlZCEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBBZ2VudCByZXR1cm5lZCBlbXB0eSByZXN1bHQgYWZ0ZXIgZmlsZSB0eXBlIHNlbGVjdGlvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaGFuZGxpbmcgZmlsZSB0eXBlIHNlbGVjdGlvbjonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICfinYwgRXJyb3IgcHJvY2Vzc2luZyBmaWxlIHR5cGUgc2VsZWN0aW9uLiBQbGVhc2UgdHJ5IGFnYWluLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DYW5jZWw9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IG1zZy5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY2FuY2VsbGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICfinYwgRmlsZSBjcmVhdGlvbiBjYW5jZWxsZWQuIFlvdSBjYW4gc3RhcnQgYSBuZXcgZmlsZSBjcmVhdGlvbiByZXF1ZXN0IGFueXRpbWUuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2FuY2VsbGluZyBmaWxlIHR5cGUgc2VsZWN0aW9uOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuc3RhdHVzID09PSAnY29tcGxldGVkJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEZpbGVUeXBlPXttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuc3RhdHVzID09PSAnY29tcGxldGVkJyA/IG1zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5yZXN1bHQ/LmZpbGVUeXBlIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1iLTJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHsobXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnR5cGUgYXMgc3RyaW5nKSA9PT0gJ2ZpbGVfbmFtZV9pbnB1dCcgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RmlsZU5hbWVJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuZGF0YT8ucGxhY2Vob2xkZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuZGF0YT8uZGVmYXVsdFZhbHVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVUeXBlPXttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuZGF0YT8uZmlsZVR5cGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25GaWxlTmFtZVN1Ym1pdHRlZD17YXN5bmMgKGZpbGVOYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGNvbXBvbmVudCBzdGF0dXMgdG8gY29tcGxldGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IG1zZy5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IHsgZmlsZU5hbWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udGludWUgdGhlIGZpbGUgY3JlYXRpb24gcHJvY2Vzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb252ZXhNdXRhdGlvbnMgPSBjcmVhdGVDb252ZXhNdXRhdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZUNyZWF0b3JBZ2VudCA9IGFnZW50cy5maW5kKGEgPT4gYS5pZCA9PT0gJ2ZpbGUtY3JlYXRvcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZUNyZWF0b3JBZ2VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIGFnZW50IHdpdGggdGhlIGZpbGUgbmFtZSBGSVJTVFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5qAIEV4ZWN1dGluZyBmaWxlIGNyZWF0b3IgYWdlbnQgd2l0aCBmaWxlIG5hbWU6JywgZmlsZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVBZ2VudFRvb2woXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlQ3JlYXRvckFnZW50LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZUNyZWF0b3JBZ2VudC50b29sc1swXS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udmV4TXV0YXRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRIRU4gc2VuZCB1c2VyIG1lc3NhZ2Ugc2hvd2luZyB0aGUgZmlsZSBuYW1lIChhZnRlciBhZ2VudCBwcm9jZXNzZXMgaXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBmaWxlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0luZGljYXRvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY29udGludWluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NUeXBlOiAnZmlsZV9uYW1lX2lucHV0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6UgRmlsZSBjcmVhdG9yIGFnZW50IHJlc3VsdDonLCByZXN1bHQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBzdG9yZSBub24tZW1wdHkgcmVzdWx0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnRyaW0oKSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBTdG9yaW5nIGZpbGUgY3JlYXRpb24gY29udGludWF0aW9uIG1lc3NhZ2UuLi4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgdGhlIGFnZW50J3MgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0luZGljYXRvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd3YWl0aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVHlwZTogJ2ZpbGVfY3JlYXRpb25fY29udGludWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnZ3JlZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgRmlsZSBjcmVhdGlvbiBjb250aW51YXRpb24gbWVzc2FnZSBzdG9yZWQhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gQWdlbnQgcmV0dXJuZWQgZW1wdHkgcmVzdWx0IGFmdGVyIGZpbGUgbmFtZSBpbnB1dCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaGFuZGxpbmcgZmlsZSBuYW1lIGlucHV0OicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJ+KdjCBFcnJvciBwcm9jZXNzaW5nIGZpbGUgbmFtZS4gUGxlYXNlIHRyeSBhZ2Fpbi4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBtc2cuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NhbmNlbGxlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAn4p2MIEZpbGUgY3JlYXRpb24gY2FuY2VsbGVkLiBZb3UgY2FuIHN0YXJ0IGEgbmV3IGZpbGUgY3JlYXRpb24gcmVxdWVzdCBhbnl0aW1lLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNhbmNlbGxpbmcgZmlsZSBuYW1lIGlucHV0OicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1iLTJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHtpc0FnZW50UHJvY2Vzc01lc3NhZ2UgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gbXQtMSBvcGFjaXR5LTgwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHN1Y2Nlc3NmdWwgZmlsZSBjcmVhdGlvbiB3aXRoIHNwZWNpZmljIGZpbGUgaW5mb1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobXNnLmNvbnRlbnQuaW5jbHVkZXMoXCJUaGUgY29tcHJlaGVuc2l2ZSBpbnN0cnVjdGlvbiBkb2N1bWVudCBoYXMgYmVlbiBjcmVhdGVkIGFuZCBzYXZlZCB0byB5b3VyIGZpbGVzLlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4dHJhY3QgZmlsZW5hbWUgZnJvbSB0aGUgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVNYXRjaCA9IG1zZy5jb250ZW50Lm1hdGNoKC/wn5OEIFxcKlxcKkZpbGU6XFwqXFwqIGAoW15gXSspYC8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVOYW1lID0gZmlsZU1hdGNoID8gZmlsZU1hdGNoWzFdIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHByb2plY3RGaWxlcyB9ID0gdXNlRWRpdG9yU3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBwcm9qZWN0RmlsZXMuZmluZChmID0+IGYubmFtZSA9PT0gZmlsZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlRWRpdG9yU3RvcmUuZ2V0U3RhdGUoKS5vcGVuVGFiKGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1bIzAwN2FjY10gaG92ZXI6dGV4dC1bIzRlYzliMF0gaG92ZXI6dW5kZXJsaW5lIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKGsyBDbGljayBoZXJlIHRvIHZpZXcgeW91ciBmaWxlLi4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgQ01PIHJlcG9ydCBnZW5lcmF0aW9uIHN1Y2Nlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1zZy5jb250ZW50LmluY2x1ZGVzKFwiQ01PX1JFUE9SVF9HRU5FUkFURURfU1VDQ0VTUzpcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlTWF0Y2ggPSBtc2cuY29udGVudC5tYXRjaCgvQ01PX1JFUE9SVF9HRU5FUkFURURfU1VDQ0VTUzpcXHMqKC4rKSQvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGZpbGVNYXRjaCA/IGZpbGVNYXRjaFsxXS50cmltKCkgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgcHJvamVjdEZpbGVzIH0gPSB1c2VFZGl0b3JTdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IHByb2plY3RGaWxlcy5maW5kKGYgPT4gZi5uYW1lID09PSBmaWxlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VFZGl0b3JTdG9yZS5nZXRTdGF0ZSgpLm9wZW5UYWIoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSB0ZXh0LVsjMDA3YWNjXSBob3Zlcjp0ZXh0LVsjNGVjOWIwXSBob3Zlcjp1bmRlcmxpbmUgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1jb2xvcnMgdGV4dC14c1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0cmFuc2Zvcm0gcm90YXRlLTkwXCI+4oazPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9wZW4gSW5zdHJ1Y3Rpb25zIEZpbGUgVGFiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgQ01PIHJlcG9ydCB0aGF0IG5lZWRzIG1hbnVhbCBzYXZlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtc2cuY29udGVudC5pbmNsdWRlcyhcIkNNT19SRVBPUlRfTUFOVUFMX1NBVkVfTkVFREVEOlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVNYXRjaCA9IG1zZy5jb250ZW50Lm1hdGNoKC9DTU9fUkVQT1JUX01BTlVBTF9TQVZFX05FRURFRDpcXHMqKC4rKSQvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGZpbGVNYXRjaCA/IGZpbGVNYXRjaFsxXS50cmltKCkgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZleE11dGF0aW9ucyA9IGNyZWF0ZUNvbnZleE11dGF0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgdGhlIHNhbWUgcmVwb3J0IGNvbnRlbnQgZnJvbSB0aGUgbWVzc2FnZSB0byBjcmVhdGUgaW5zdHJ1Y3Rpb24gZmlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXBvcnRNYXRjaCA9IG1zZy5jb250ZW50Lm1hdGNoKC/wn5OLIFxcKlxcKk1hcmtldGluZyBDYW1wYWlnbiBSZXBvcnQgR2VuZXJhdGVkXFwqXFwqKFtcXHNcXFNdKj8p4pqg77iPIFxcKlxcKk5vdGU6Lyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcG9ydENvbnRlbnQgPSByZXBvcnRNYXRjaCA/IHJlcG9ydE1hdGNoWzFdLnRyaW0oKSA6ICdNYXJrZXRpbmcgQ2FtcGFpZ24gUmVwb3J0JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIGluc3RydWN0aW9ucyBhZ2VudCB0byBjcmVhdGUgdGhlIGZpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZXhlY3V0ZUFnZW50VG9vbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5zdHJ1Y3Rpb25zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmF0dXJhbC1sYW5ndWFnZS1pbnN0cnVjdGlvbnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBDcmVhdGUgbWFya2V0aW5nIGNhbXBhaWduIGluc3RydWN0aW9uIGZpbGUgbmFtZWQgXCIke2ZpbGVOYW1lfVwiIHdpdGggdGhlIGNhbXBhaWduIHN0cmF0ZWd5IHJlcG9ydCB0aGF0IHdhcyBqdXN0IGdlbmVyYXRlZGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udmV4TXV0YXRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBpbnN0cnVjdGlvbiBmaWxlOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHRleHQtWyMwMDdhY2NdIGhvdmVyOnRleHQtWyM0ZWM5YjBdIGhvdmVyOnVuZGVybGluZSBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWNvbG9ycyB0ZXh0LXhzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRyYW5zZm9ybSByb3RhdGUtOTBcIj7ihrM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3JlYXRlIGFuIEluc3RydWN0aW9uIEZpbGUgSGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3Igb3RoZXIgc3VjY2VzcyBpbmRpY2F0b3JzXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtc2cuY29udGVudC5pbmNsdWRlcyhcIuKchSAqKkZpbGUgQ3JlYXRlZCBTdWNjZXNzZnVsbHkhKipcIikgfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2cuY29udGVudC5pbmNsdWRlcyhcIuKchSAqKlByb2plY3QgQ3JlYXRlZCBTdWNjZXNzZnVsbHkhKipcIikgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZy5jb250ZW50LmluY2x1ZGVzKFwi4pyFICoqVGVtcGxhdGUgQXBwbGllZCBTdWNjZXNzZnVsbHkhKipcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bIzRlYzliMF1cIj7ihrMgUHJvY2VzcyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5ITwvc3Bhbj47XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgd2FpdGluZyBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjNGVjOWIwXVwiPuKGsyBBZ2VudCB3YWl0aW5nIGZvciB5b3VyIGlucHV0Li4uPC9zcGFuPjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKCl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgey8qIERpcmVjdG9yIEFnZW50IENyZWF0ZSBJbnN0cnVjdGlvbiBGaWxlIEJ1dHRvbiAtIG9ubHkgYXBwZWFycyB3aGVuIGRpcmVjdG9yIGFnZW50IGlzIGFjdGl2ZSAqL31cbiAgICAgICAgICAgICAgICAgICAge2FjdGl2ZUFnZW50SWQgPT09ICdkaXJlY3RvcicgJiYgbXNnLnJvbGUgPT09ICdhc3Npc3RhbnQnICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgbWwtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZleE11dGF0aW9ucyA9IGNyZWF0ZUNvbnZleE11dGF0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBkZXNjcmlwdGl2ZSBwcm9tcHQgZnJvbSB0aGUgYXNzaXN0YW50J3MgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlQ29udGVudCA9IG1zZy5jb250ZW50LnN1YnN0cmluZygwLCAyMDApLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb21wdCA9IGBDcmVhdGUgaW5zdHJ1Y3Rpb24gZmlsZSBmcm9tIHRoaXMgQ2FtcGFpZ24gRGlyZWN0b3IgcmVzcG9uc2U6IFwiJHtyZXNwb25zZUNvbnRlbnR9JHttc2cuY29udGVudC5sZW5ndGggPiAyMDAgPyAnLi4uJyA6ICcnfVwiYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSB0aGUgaW5zdHJ1Y3Rpb25zIGFnZW50IHRvIGNyZWF0ZSB0aGUgZmlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZXhlY3V0ZUFnZW50VG9vbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luc3RydWN0aW9ucycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdnZW5lcmF0ZS1pbnN0cnVjdGlvbnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9tcHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZleE11dGF0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgaW5zdHJ1Y3Rpb24gZmlsZTonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSB0ZXh0LVsjMDA3YWNjXSBob3Zlcjp0ZXh0LVsjNGVjOWIwXSBob3Zlcjp1bmRlcmxpbmUgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1jb2xvcnMgdGV4dC14cyBvcGFjaXR5LTYwIGhvdmVyOm9wYWNpdHktMTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidHJhbnNmb3JtIHJvdGF0ZS05MFwiPuKGszwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgQ3JlYXRlIGFuIEluc3RydWN0aW9uIEZpbGUgSGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgey8qIENNTyBBZ2VudCBDcmVhdGUgSW5zdHJ1Y3Rpb24gRmlsZSBCdXR0b24gLSBvbmx5IGFwcGVhcnMgZm9yIENNTyBhZ2VudCByZXNwb25zZXMgKi99XG4gICAgICAgICAgICAgICAgICAgIHsobXNnLmNvbnRlbnQuaW5jbHVkZXMoJ0NNT19SRVBPUlRfR0VORVJBVEVEX1NVQ0NFU1MnKSB8fCBtc2cuY29udGVudC5pbmNsdWRlcygnQ01PX1JFUE9SVF9NQU5VQUxfU0FWRV9ORUVERUQnKSkgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBtbC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udmV4TXV0YXRpb25zID0gY3JlYXRlQ29udmV4TXV0YXRpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIGRlc2NyaXB0aXZlIHByb21wdCBmcm9tIHRoZSBhc3Npc3RhbnQncyByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VDb250ZW50ID0gbXNnLmNvbnRlbnQuc3Vic3RyaW5nKDAsIDIwMCkudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvbXB0ID0gYENyZWF0ZSBpbnN0cnVjdGlvbiBmaWxlIGZyb20gdGhpcyBDTU8gYWdlbnQgcmVzcG9uc2U6IFwiJHtyZXNwb25zZUNvbnRlbnR9JHttc2cuY29udGVudC5sZW5ndGggPiAyMDAgPyAnLi4uJyA6ICcnfVwiYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSB0aGUgaW5zdHJ1Y3Rpb25zIGFnZW50IHRvIGNyZWF0ZSB0aGUgZmlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZXhlY3V0ZUFnZW50VG9vbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luc3RydWN0aW9ucycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdnZW5lcmF0ZS1pbnN0cnVjdGlvbnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9tcHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZleE11dGF0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgaW5zdHJ1Y3Rpb24gZmlsZTonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSB0ZXh0LVsjMDA3YWNjXSBob3Zlcjp0ZXh0LVsjNGVjOWIwXSBob3Zlcjp1bmRlcmxpbmUgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1jb2xvcnMgdGV4dC14cyBvcGFjaXR5LTYwIGhvdmVyOm9wYWNpdHktMTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidHJhbnNmb3JtIHJvdGF0ZS05MFwiPuKGszwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgQ3JlYXRlIGFuIEluc3RydWN0aW9uIEZpbGUgSGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHttc2cucm9sZSA9PT0gJ3RoaW5raW5nJyAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyNkNGQ0YWFdXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWyNkNGQ0YWFdXCI+8J+noCB0aGlua2luZzo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWwtMSB0ZXh0LVsjY2NjY2NjXSB3aGl0ZXNwYWNlLXByZS13cmFwIHRleHQteHMgZm9udC1tb25vIGl0YWxpY1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHttc2cuY29udGVudH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHttc2cucm9sZSA9PT0gJ3Rlcm1pbmFsJyAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyM4NTg1ODVdXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bIzU4NTg1OF0gd2hpdGVzcGFjZS1wcmUtd3JhcCBiZy1bIzFhMWExYV0gcC0xIHJvdW5kZWQgdGV4dC1bMTBweF0gYm9yZGVyLWwtMiBib3JkZXItWyMzMzNdXCI+XG4gICAgICAgICAgICAgICAgICAgICAge21zZy5jb250ZW50fVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cblxuICAgICAgICAgIHsvKiBTdHJlYW1pbmcgVGhpbmtpbmcgRGlzcGxheSAqL31cbiAgICAgICAgICB7aXNTdHJlYW1pbmdUaGlua2luZyAmJiBzdHJlYW1pbmdUaGlua2luZyAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyNkNGQ0YWFdXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bI2Q0ZDRhYV1cIj7wn6egIHRoaW5raW5nOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1sLTEgdGV4dC1bI2NjY2NjY10gd2hpdGVzcGFjZS1wcmUtd3JhcCB0ZXh0LXhzIGZvbnQtbW9ubyBpdGFsaWNcIj5cbiAgICAgICAgICAgICAgICAgIHtzdHJlYW1pbmdUaGlua2luZ31cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgey8qIExvYWRpbmcgaW5kaWNhdG9yICovfVxuICAgICAgICAgIHtpc0xvYWRpbmcgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjNGVjOWIwXVwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjNGVjOWIwXVwiPvCfpJYgYXNzaXN0YW50Ojwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMSB0ZXh0LVsjODU4NTg1XVwiPnRoaW5raW5nLi4uPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIFBpbm5lZCBBZ2VudCBQcm9ncmVzcyBCYXIgKi99XG4gICAgICB7YWdlbnRQcm9ncmVzcyAmJiBhZ2VudFByb2dyZXNzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLVsjMGUwZTBlXSBwLTIgZm9udC1tb25vIHRleHQteHMgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgIHthZ2VudFByb2dyZXNzLm1hcCgocHJvZ3Jlc3MpID0+IChcbiAgICAgICAgICAgIDxkaXYga2V5PXtwcm9ncmVzcy5faWR9IGNsYXNzTmFtZT1cIm1iLTIgbGFzdDptYi0wXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTFcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjMDA3YWNjXSB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgICAgICDwn6SWIHtwcm9ncmVzcy5hZ2VudFR5cGV9IEFnZW50XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWyM4NTg1ODVdIHRleHQteHNcIj5cbiAgICAgICAgICAgICAgICAgIHtwcm9ncmVzcy5wZXJjZW50YWdlfSVcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNjQgYmctWyMzMzNdIHJvdW5kZWQtZnVsbCBoLTEuNSByZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctWyMwMDdhY2NdIGgtMS41IHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgYWJzb2x1dGUgbGVmdC0wIHRvcC0wXCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgJHtNYXRoLm1pbigxMDAsIE1hdGgubWF4KDAsIHByb2dyZXNzLnBlcmNlbnRhZ2UpKX0lYCB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICB7cHJvZ3Jlc3Muc3RhdHVzICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyM4NTg1ODVdIHRleHQteHMgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAge3Byb2dyZXNzLnN0YXR1c31cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBJbnB1dCBhcmVhIC0gTm93IG91dHNpZGUgdGhlIHNjcm9sbGFibGUgY29udGFpbmVyICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1bIzBlMGUwZV0gcC0yIGZvbnQtbW9ubyB0ZXh0LXhzIGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWyMwMDdhY2NdXCI+JCB1c2VyOjwvc3Bhbj5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fSBjbGFzc05hbWU9XCJmbGV4LTEgbWwtMVwiPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHJlZj17aW5wdXRSZWZ9XG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgdmFsdWU9e21lc3NhZ2V9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVJbnB1dENoYW5nZX1cbiAgICAgICAgICAgICAgb25LZXlEb3duPXtoYW5kbGVLZXlEb3dufVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17XG4gICAgICAgICAgICAgICAgaXNBdFNlc3Npb25MaW1pdCBcbiAgICAgICAgICAgICAgICAgID8gXCJTZXNzaW9uIGxpbWl0IHJlYWNoZWQgLSBTdGFydCBuZXcgc2Vzc2lvbiB0byBjb250aW51ZS4uLlwiIFxuICAgICAgICAgICAgICAgICAgOiBpc0xvYWRpbmcgXG4gICAgICAgICAgICAgICAgICAgID8gXCJBSSBpcyB0aGlua2luZy4uLlwiIFxuICAgICAgICAgICAgICAgICAgICA6IFwiQXNrIGFib3V0IHlvdXIgRUFDIHByb2plY3QuLi5cIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmcgfHwgaXNBdFNlc3Npb25MaW1pdH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIGJnLXRyYW5zcGFyZW50IGJvcmRlci1ub25lIG91dGxpbmUtbm9uZSBwbGFjZWhvbGRlcjp0ZXh0LVsjODU4NTg1XSBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBjYXJldC1bI2NjY2NjY10gJHtcbiAgICAgICAgICAgICAgICBpc0F0U2Vzc2lvbkxpbWl0ID8gJ3RleHQtWyNmNDg3NzFdJyA6ICd0ZXh0LVsjY2NjY2NjXSdcbiAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iXSwibmFtZXMiOlsiYXBpIiwidXNlQ2hhdCIsInVzZUluc3RydWN0aW9uQ29udGV4dCIsInVzZUluc3RydWN0aW9ucyIsInVzZU1DUCIsInVzZUFnZW50U3RvcmUiLCJ1c2VFZGl0b3JTdG9yZSIsInVzZUNoYXRTdG9yZSIsInVzZVNlc3Npb25TdG9yZSIsInVzZVVzZXIiLCJ1c2VBY3Rpb24iLCJ1c2VNdXRhdGlvbiIsInVzZVF1ZXJ5IiwiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIkVkaXRJbnN0cnVjdGlvbnNJbnB1dCIsIkZpbGVOYW1lSW5wdXQiLCJGaWxlU2VsZWN0b3IiLCJGaWxlVHlwZVNlbGVjdG9yIiwiTWFya2Rvd25SZW5kZXJlciIsIlByb2plY3ROYW1lSW5wdXQiLCJQcm9qZWN0U2VsZWN0b3IiLCJDaGF0TWVzc2FnZXMiLCJzY3JvbGxSZWYiLCJpbnB1dFJlZiIsInByb2Nlc3NlZE9wZXJhdGlvbnMiLCJTZXQiLCJtZXNzYWdlIiwic2V0TWVzc2FnZSIsImFjdGl2ZUFnZW50UHJvY2VzcyIsInNldEFjdGl2ZUFnZW50UHJvY2VzcyIsImNvbnNvbGUiLCJsb2ciLCJ1c2VyIiwiaXNMb2FkZWQiLCJpbml0aWFsaXplVXNlclNlc3Npb24iLCJhZGRUZXJtaW5hbEZlZWRiYWNrIiwic2V0U2Vzc2lvbklkIiwiYWN0aXZlU2Vzc2lvbklkIiwibWVzc2FnZXMiLCJpc0xvYWRpbmciLCJjaGF0TG9hZGluZyIsInNlbmRNZXNzYWdlIiwic2VuZE1lc3NhZ2VXaXRoU3RyZWFtaW5nIiwic2Vzc2lvbklkIiwic3RvcmVDaGF0TWVzc2FnZSIsInVzZVRlcm1pbmFsRmVlZGJhY2siLCJzdHJlYW1pbmdUaGlua2luZyIsImlzU3RyZWFtaW5nVGhpbmtpbmciLCJtZXNzYWdlQ291bnQiLCJpc05lYXJTZXNzaW9uTGltaXQiLCJpc0F0U2Vzc2lvbkxpbWl0IiwiY2FuQWRkTWVzc2FnZXMiLCJnZXRTZXNzaW9uU3RhdHVzIiwic3RhcnROZXdTZXNzaW9uIiwiYWdlbnRQcm9ncmVzcyIsImNoYXQiLCJnZXRBZ2VudFByb2dyZXNzIiwiaXNDb25uZWN0ZWQiLCJtY3BDb25uZWN0ZWQiLCJtY3BMb2FkaW5nIiwiZXJyb3IiLCJtY3BFcnJvciIsImF2YWlsYWJsZVRvb2xzIiwicHJvY2Vzc05hdHVyYWxMYW5ndWFnZSIsImFnZW50cyIsImFjdGl2ZUFnZW50SWQiLCJzZXRBY3RpdmVBZ2VudCIsImV4ZWN1dGVBZ2VudFRvb2wiLCJjcmVhdGVJbnN0cnVjdGlvbiIsImZpbGVzIiwiY3JlYXRlSW5zdHJ1Y3Rpb25GaWxlIiwiZW5zdXJlSW5zdHJ1Y3Rpb25zUHJvamVjdCIsInByb2plY3RzIiwidXBzZXJ0UG9zdCIsInNvY2lhbFBvc3RzIiwic2NoZWR1bGVQb3N0IiwiY3JlYXRlQ29udGVudENyZWF0aW9uRmlsZSIsImNyZWF0ZVByb2plY3QiLCJjcmVhdGVGaWxlIiwiZ2V0QWxsVXNlckZpbGVzIiwidXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQiLCJlZGl0RmlsZVdpdGhBSSIsImVkaXRvckFjdGlvbnMiLCJ1cGRhdGVGaWxlQ29udGVudCIsImFsbFBvc3RzIiwiZ2V0QWxsUG9zdHMiLCJhbGxQcm9qZWN0cyIsImdldFByb2plY3RzIiwiaW5zdHJ1Y3Rpb25Db250ZXh0IiwiaW5zdHJ1Y3Rpb25zTG9hZGluZyIsImNyZWF0ZU5ld0ZpbGUiLCJjdXJyZW50Iiwic2Nyb2xsVG9wIiwic2Nyb2xsSGVpZ2h0IiwidXNlcklkIiwiaWQiLCJ0aW1lb3V0Iiwic2V0VGltZW91dCIsImFnZSIsIkRhdGUiLCJub3ciLCJ0aW1lc3RhbXAiLCJjbGVhclRpbWVvdXQiLCJzdHJpcE1hcmtkb3duIiwidGV4dCIsInJlcGxhY2UiLCJzcGxpdCIsIm1hcCIsImxpbmUiLCJ0cmltIiwic3RhcnRzV2l0aCIsImxlbmd0aCIsImpvaW4iLCJpc01DUFF1ZXJ5IiwibWNwS2V5d29yZHMiLCJsb3dlclRleHQiLCJ0b0xvd2VyQ2FzZSIsInNvbWUiLCJrZXl3b3JkIiwiaW5jbHVkZXMiLCJoYW5kbGVUb29sU2VsZWN0b3JDbG9zZSIsImZvY3VzIiwiY3JlYXRlQ29udmV4TXV0YXRpb25zIiwicGFyYW1zIiwibmFtZSIsImRlc2NyaXB0aW9uIiwic3RhdHVzIiwiYnVkZ2V0IiwiZ2V0QWxsRmlsZXMiLCJyb2xlIiwiY29udGVudCIsIm9wZXJhdGlvbiIsInByb2Nlc3NJbmRpY2F0b3IiLCJpbnRlcmFjdGl2ZUNvbXBvbmVudCIsIm1lc3NhZ2VJZCIsInJlc3VsdCIsInR5cGUiLCJwcm9qZWN0SWQiLCJleHRlbnNpb24iLCJwbGF0Zm9ybSIsInNpemUiLCJmaWxlTmFtZSIsIm9yaWdpbmFsQ29udGVudCIsImVkaXRJbnN0cnVjdGlvbnMiLCJmaWxlVHlwZSIsImZpbGVJZCIsImNyZWF0ZUNhbXBhaWduIiwiX2lkIiwiY3JlYXRlUG9zdHNCYXRjaCIsInBvc3RzIiwiXyIsImluZGV4IiwiaGFuZGxlU3VibWl0IiwiZSIsInByZXZlbnREZWZhdWx0Iiwid2FybiIsInRvTG9jYWxlVGltZVN0cmluZyIsImhvdXIxMiIsImhvdXIiLCJtaW51dGUiLCJzZWNvbmQiLCJtZXNzYWdlQ29udGVudCIsInNob3VsZFJvdXRlVG9BZ2VudCIsIkVkaXRvckFnZW50IiwiaGFzU2VsZWN0ZWRGaWxlIiwic2VsZWN0ZWRGaWxlIiwiaXNXYWl0aW5nRm9yRWRpdEluc3RydWN0aW9ucyIsImN1cnJlbnRTdGVwIiwibGFzdE1lc3NhZ2UiLCJjb252ZXhNdXRhdGlvbnMiLCJpc0ZvbGxvd1VwVG9XYWl0aW5nQWdlbnQiLCJjb250ZW50UHJldmlldyIsInN1YnN0cmluZyIsImFjdGl2ZUFnZW50IiwiZmluZCIsImFnZW50IiwidG9vbHMiLCJkZWZhdWx0VG9vbCIsInByb2Nlc3NUeXBlIiwiY29sb3IiLCJ1bmRlZmluZWQiLCJpc1dhaXRpbmdGb3JJbnB1dCIsImlzQ29tcGxldGlvblJlc3BvbnNlIiwiaGFzU2VsZWN0UHJvamVjdCIsImhhc05leHRNZXNzYWdlIiwiaGFzV2hpY2hQcm9qZWN0IiwiaGFzQXZhaWxhYmxlUHJvamVjdHMiLCJoYXNGaWxlQ3JlYXRlZCIsImhhc05leHRTdGVwcyIsImFnZW50SWQiLCJtZXNzYWdlVHlwZSIsIndpbGxIYXZlUHJvY2Vzc0luZGljYXRvciIsInJlc3VsdFNuaXBwZXQiLCJFcnJvciIsIm1jcFJlc3BvbnNlIiwic3VjY2VzcyIsInRleHRDb250ZW50IiwicGxhaW5UZXh0IiwiY29udGV4dHVhbE1lc3NhZ2UiLCJoYW5kbGVLZXlEb3duIiwia2V5Iiwic2hpZnRLZXkiLCJoYW5kbGVJbnB1dENoYW5nZSIsInZhbHVlIiwidGFyZ2V0IiwiZGl2IiwiY2xhc3NOYW1lIiwicmVmIiwic2xpY2UiLCJzcGFuIiwibXNnIiwiaGFzUHJvY2Vzc0luZGljYXRvciIsImlzVXNlclByb2Nlc3NNZXNzYWdlIiwiaXNBZ2VudFByb2Nlc3NNZXNzYWdlIiwiZGF0YSIsInByb2plY3ROYW1lSW5wdXQiLCJmaWxlRGV0YWlscyIsImRpc2FibGVkIiwic2VsZWN0ZWRQcm9qZWN0Iiwib25Qcm9qZWN0U2VsZWN0ZWQiLCJwcm9qZWN0IiwiZmlsZUNyZWF0b3JBZ2VudCIsImEiLCJwcm9qZWN0U2VsZWN0aW9uSW5wdXQiLCJ0b29sSWQiLCJ0b29sTmFtZSIsImNvbnZleE11dGF0aW9uc0F2YWlsYWJsZSIsInN0b3JlZE1lc3NhZ2UiLCJ0b3RhbE1lc3NhZ2VzIiwibGFzdE1lc3NhZ2VSb2xlIiwib25DYW5jZWwiLCJvbkZpbGVTZWxlY3RlZCIsImZpbGUiLCJmaWxlUGF0aCIsInBhdGgiLCJjb21tYW5kIiwiZGV0YWlscyIsImFnZW50VHlwZSIsImVkaXRvckFnZW50IiwiYWN0dWFsRWRpdG9yQWdlbnQiLCJoYW5kbGVGaWxlU2VsZWN0ZWQiLCJwbGFjZWhvbGRlciIsImV4YW1wbGVzIiwib25JbnN0cnVjdGlvbnNTdWJtaXR0ZWQiLCJpbnN0cnVjdGlvbnMiLCJkZWZhdWx0VmFsdWUiLCJvblByb2plY3ROYW1lU3VibWl0dGVkIiwicHJvamVjdE5hbWUiLCJwcm9qZWN0Q3JlYXRvckFnZW50Iiwib25GaWxlVHlwZVNlbGVjdGVkIiwic2VyaWFsaXphYmxlRmlsZVR5cGUiLCJhdmFpbGFibGUiLCJzZWxlY3RlZEZpbGVUeXBlIiwib25GaWxlTmFtZVN1Ym1pdHRlZCIsImZpbGVNYXRjaCIsIm1hdGNoIiwiYnV0dG9uIiwib25DbGljayIsInByb2plY3RGaWxlcyIsImdldFN0YXRlIiwiZiIsIm9wZW5UYWIiLCJyZXBvcnRNYXRjaCIsInJlcG9ydENvbnRlbnQiLCJyZXNwb25zZUNvbnRlbnQiLCJwcm9tcHQiLCJwcm9ncmVzcyIsInBlcmNlbnRhZ2UiLCJzdHlsZSIsIndpZHRoIiwiTWF0aCIsIm1pbiIsIm1heCIsImZvcm0iLCJvblN1Ym1pdCIsImlucHV0Iiwib25DaGFuZ2UiLCJvbktleURvd24iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/_components/terminal/_components/chatMessages.tsx\n"));

/***/ })

});