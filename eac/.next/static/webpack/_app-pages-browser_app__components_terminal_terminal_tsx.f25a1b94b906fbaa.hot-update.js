"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_app__components_terminal_terminal_tsx",{

/***/ "(app-pages-browser)/./app/_components/terminal/_components/chatMessages.tsx":
/*!***************************************************************!*\
  !*** ./app/_components/terminal/_components/chatMessages.tsx ***!
  \***************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatMessages: () => (/* binding */ ChatMessages)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../node_modules/.pnpm/next@15.3.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _convex_generated_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/convex/_generated/api */ \"(app-pages-browser)/./convex/_generated/api.js\");\n/* harmony import */ var _lib_hooks_useChat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/hooks/useChat */ \"(app-pages-browser)/./lib/hooks/useChat.ts\");\n/* harmony import */ var _lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/hooks/useInstructions */ \"(app-pages-browser)/./lib/hooks/useInstructions.ts\");\n/* harmony import */ var _lib_hooks_useMCP__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/hooks/useMCP */ \"(app-pages-browser)/./lib/hooks/useMCP.ts\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/store */ \"(app-pages-browser)/./store/index.ts\");\n/* harmony import */ var _store_terminal_chat__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/store/terminal/chat */ \"(app-pages-browser)/./store/terminal/chat.ts\");\n/* harmony import */ var _store_terminal_session__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/store/terminal/session */ \"(app-pages-browser)/./store/terminal/session.ts\");\n/* harmony import */ var _clerk_nextjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @clerk/nextjs */ \"(app-pages-browser)/../node_modules/.pnpm/@clerk+clerk-react@5.38.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@clerk/clerk-react/dist/index.mjs\");\n/* harmony import */ var convex_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! convex/react */ \"(app-pages-browser)/../node_modules/.pnpm/convex@1.25.4_@clerk+clerk-react@5.38.0_react-dom@18.3.1_react@18.3.1__react@18.3.1__react@18.3.1/node_modules/convex/dist/esm/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../node_modules/.pnpm/next@15.3.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);\n// Simplified Chat Messages Component - No Slash Commands\n// /Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\n/* __next_internal_client_entry_do_not_use__ ChatMessages auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\nfunction ChatMessages() {\n    var _agents_find, _agents_find1;\n    _s();\n    const scrollRef = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n    const [message, setMessage] = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(\"\");\n    const { user, isLoaded } = (0,_clerk_nextjs__WEBPACK_IMPORTED_MODULE_10__.useUser)();\n    const { initializeUserSession, addTerminalFeedback, setSessionId } = (0,_store_terminal_chat__WEBPACK_IMPORTED_MODULE_6__.useChatStore)();\n    const { activeSessionId } = (0,_store_terminal_session__WEBPACK_IMPORTED_MODULE_7__.useSessionStore)();\n    const { messages, isLoading: chatLoading, sendMessage, sessionId, storeChatMessage, addTerminalFeedback: useTerminalFeedback, messageCount, isNearSessionLimit, isAtSessionLimit, canAddMessages, getSessionStatus, startNewSession } = (0,_lib_hooks_useChat__WEBPACK_IMPORTED_MODULE_2__.useChat)();\n    const { isConnected: mcpConnected, isLoading: mcpLoading, error: mcpError, availableTools, processNaturalLanguage } = (0,_lib_hooks_useMCP__WEBPACK_IMPORTED_MODULE_4__.useMCP)();\n    // Agent execution and mutations\n    const { agents, activeAgentId, setActiveAgent, executeAgentTool } = (0,_store__WEBPACK_IMPORTED_MODULE_5__.useAgentStore)();\n    const createInstruction = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.instructions.createInstructionFile);\n    const ensureInstructionsProject = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.instructions.ensureInstructionsProject);\n    const upsertPost = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.twitter.upsertPost);\n    const instructionContext = (0,_lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructionContext)();\n    const { isLoading: instructionsLoading } = (0,_lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructions)();\n    const isLoading = chatLoading || mcpLoading || instructionsLoading;\n    // Auto-scroll to bottom when new messages arrive\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (scrollRef.current) {\n                scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        messages\n    ]);\n    // Initialize user session when component mounts and user is loaded\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (isLoaded && user && !sessionId) {\n                console.log(\"ðŸ”„ Initializing user session...\", {\n                    userId: user.id\n                });\n                initializeUserSession(user.id);\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        user,\n        isLoaded,\n        sessionId,\n        initializeUserSession\n    ]);\n    // Sync session ID if active session changes\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (activeSessionId && activeSessionId !== sessionId) {\n                console.log(\"ðŸ”„ Syncing to active session:\", activeSessionId);\n                setSessionId(activeSessionId);\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        activeSessionId,\n        sessionId,\n        setSessionId\n    ]);\n    // Helper function to strip markdown formatting\n    const stripMarkdown = (text)=>{\n        return text.replace(/#{1,6}\\s*/g, '') // Remove headers\n        .replace(/\\*\\*(.*?)\\*\\*/g, '$1') // Remove **bold**\n        .replace(/\\*(.*?)\\*/g, '$1') // Remove *italic*\n        .replace(/`([^`]+)`/g, '$1') // Remove `code`\n        .replace(/^\\s*[-*+]\\s+/gm, 'â€¢ ') // Convert markdown lists to bullet points\n        .replace(/^\\s*\\d+\\.\\s+/gm, 'â€¢ ') // Convert numbered lists to bullet points\n        .replace(/\\n\\s*\\n\\s*\\n/g, '\\n\\n') // Reduce multiple blank lines to double\n        .split('\\n') // Split into lines for processing\n        .map((line)=>{\n            // Add spacing after section headers (lines that don't start with bullet points)\n            if (line.trim() && !line.startsWith('â€¢') && !line.startsWith(' ') && line.length > 0) {\n                return line + '\\n'; // Add extra newline after headers\n            }\n            return line;\n        }).join('\\n').replace(/\\n{3,}/g, '\\n\\n') // Clean up excessive newlines\n        .trim();\n    };\n    // Helper function to detect MCP-related queries (excluding direct tool commands)\n    const isMCPQuery = (text)=>{\n        // Don't treat direct tool commands as NLP queries\n        if (text.startsWith('/')) return false;\n        // Look for keywords that suggest MCP analysis would be helpful\n        const mcpKeywords = [\n            'analyze',\n            'examine',\n            'review',\n            'explain',\n            'understand',\n            'architecture',\n            'structure',\n            'code',\n            'component',\n            'function',\n            'implementation',\n            'pattern',\n            'best practice',\n            'issue',\n            'bug',\n            'error',\n            'performance',\n            'optimization',\n            'refactor',\n            'improvement',\n            'documentation',\n            'overview',\n            'summary',\n            'how does',\n            'what is',\n            'why is',\n            'where is',\n            'when is',\n            'which'\n        ];\n        const lowerText = text.toLowerCase();\n        return mcpKeywords.some((keyword)=>lowerText.includes(keyword));\n    };\n    const handleToolSelectorClose = ()=>{\n        var _inputRef_current;\n        setMessage(\"\");\n        (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n    };\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        // Check session limit before processing\n        if (!canAddMessages()) {\n            console.warn(\"Cannot send message: Session limit reached\");\n            // Add a terminal feedback message about the limit\n            await storeChatMessage({\n                role: \"terminal\",\n                content: \"[\".concat(new Date().toLocaleTimeString('en-US', {\n                    hour12: false,\n                    hour: '2-digit',\n                    minute: '2-digit',\n                    second: '2-digit'\n                }), \"] \\uD83D\\uDEA8 Message not sent: Session limit reached (500 messages)\\nPlease start a new session to continue chatting.\"),\n                sessionId\n            });\n            return;\n        }\n        if (message.trim() && !isLoading) {\n            const messageContent = message.trim();\n            setMessage(\"\");\n            // Check if this looks like a natural language MCP query\n            if (mcpConnected && isMCPQuery(messageContent)) {\n                try {\n                    const mcpResponse = await processNaturalLanguage(messageContent);\n                    if (mcpResponse.success && mcpResponse.content && mcpResponse.content.length > 0) {\n                        // Extract the actual text content from the MCP response\n                        const textContent = mcpResponse.content[0].text;\n                        // Strip markdown formatting and convert to plain text\n                        const plainText = stripMarkdown(textContent);\n                        // Send the MCP response with clean text content\n                        await sendMessage(\"\\uD83E\\uDD16 MCP Analysis:\\n\\n\".concat(plainText));\n                    } else {\n                        await sendMessage(messageContent);\n                    }\n                } catch (error) {\n                    console.error('MCP Error:', error);\n                    // Fall back to regular chat\n                    await sendMessage(messageContent);\n                }\n            } else {\n                // Regular chat message - add instruction context if available\n                let contextualMessage = messageContent;\n                if (instructionContext) {\n                    contextualMessage = \"\".concat(instructionContext, \"\\n\\n---\\n\\n\").concat(messageContent);\n                }\n                // Use the useChat hook which will call the sendChatMessage action\n                await sendMessage(contextualMessage, messageContent);\n            }\n        }\n    };\n    const handleKeyDown = (e)=>{\n        if (e.key === 'Enter' && !e.shiftKey) {\n            e.preventDefault();\n            handleSubmit(e);\n        }\n    };\n    const handleInputChange = (e)=>{\n        const value = e.target.value;\n        setMessage(value);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex-1 flex flex-col min-h-0\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: scrollRef,\n                className: \"flex-1 overflow-y-auto bg-[#0e0e0e] p-2 pb-8 min-h-0 scrollbar-hidden\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"font-mono text-xs space-y-2 min-h-full\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-[#cccccc] space-y-1 mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: \"EAC Financial Dashboard - AI Assistant\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 207,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#4ec9b0]\",\n                                    children: \"â–² Next.js 15.0.0 + Convex Backend\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 208,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: \"- Anthropic Claude 3.5 Sonnet Integration\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 209,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-xs \".concat(mcpConnected ? 'text-[#4ec9b0]' : 'text-[#f48771]'),\n                                    children: [\n                                        \"\\uD83D\\uDD0C MCP Server: \",\n                                        mcpConnected ? 'Connected' : 'Disconnected',\n                                        mcpConnected && \" (\".concat(availableTools.length, \" tools)\")\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 210,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-xs \".concat(activeAgentId ? 'text-[#4ec9b0]' : 'text-[#858585]'),\n                                    children: [\n                                        \"\\uD83E\\uDD16 Agents: \",\n                                        activeAgentId ? \"Active (\".concat((_agents_find = agents.find((a)=>a.id === activeAgentId)) === null || _agents_find === void 0 ? void 0 : _agents_find.name, \")\") : 'None selected',\n                                        activeAgentId && \" (\".concat(((_agents_find1 = agents.find((a)=>a.id === activeAgentId)) === null || _agents_find1 === void 0 ? void 0 : _agents_find1.tools.length) || 0, \" tools)\")\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 214,\n                                    columnNumber: 13\n                                }, this),\n                                mcpError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#f48771] text-xs\",\n                                    children: [\n                                        \"MCP Error: \",\n                                        mcpError\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 219,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#858585] mt-2\",\n                                    children: \"AI Assistant ready for EAC project questions.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 221,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#858585] text-xs\",\n                                    children: [\n                                        \"Session: \",\n                                        sessionId.slice(-8)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 222,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#858585] text-xs\",\n                                    children: [\n                                        \"Messages: \",\n                                        messageCount,\n                                        \"/500\",\n                                        isNearSessionLimit && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-[#f48771] ml-2\",\n                                            children: \"âš ï¸ Approaching limit\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                            lineNumber: 228,\n                                            columnNumber: 17\n                                        }, this),\n                                        isAtSessionLimit && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-[#f48771] ml-2\",\n                                            children: \"\\uD83D\\uDEA8 Session full\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                            lineNumber: 231,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 225,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 206,\n                            columnNumber: 11\n                        }, this),\n                        messages.map((msg, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1\",\n                                children: [\n                                    msg.role === 'user' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#007acc]\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[#007acc]\",\n                                                children: \"$ user:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 241,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"ml-1 text-[#cccccc]\",\n                                                children: msg.content\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 242,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 240,\n                                        columnNumber: 17\n                                    }, this),\n                                    msg.role === 'assistant' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#4ec9b0]\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[#4ec9b0]\",\n                                                children: \"\\uD83E\\uDD16 assistant:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 247,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"ml-1 text-[#cccccc] whitespace-pre-wrap\",\n                                                children: msg.content\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 248,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 246,\n                                        columnNumber: 17\n                                    }, this),\n                                    msg.role === 'terminal' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#858585]\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-[#585858] whitespace-pre-wrap bg-[#1a1a1a] p-1 rounded text-[10px] border-l-2 border-[#333]\",\n                                            children: msg.content\n                                        }, void 0, false, {\n                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                            lineNumber: 253,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 252,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, index, true, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 238,\n                                columnNumber: 13\n                            }, this)),\n                        isLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-[#4ec9b0]\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-[#4ec9b0]\",\n                                    children: \"\\uD83E\\uDD16 assistant:\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 264,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"ml-1 text-[#858585]\",\n                                    children: \"thinking...\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 265,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 263,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                    lineNumber: 204,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                lineNumber: 200,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-[#0e0e0e] p-2 font-mono text-xs flex-shrink-0\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-[#007acc]\",\n                            children: \"$ user:\"\n                        }, void 0, false, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 274,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                            onSubmit: handleSubmit,\n                            className: \"flex-1 ml-1\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                ref: inputRef,\n                                type: \"text\",\n                                value: message,\n                                onChange: handleInputChange,\n                                onKeyDown: handleKeyDown,\n                                placeholder: isAtSessionLimit ? \"Session limit reached - Start new session to continue...\" : isLoading ? \"AI is thinking...\" : \"Ask about your EAC project...\",\n                                disabled: isLoading || isAtSessionLimit,\n                                className: \"w-full bg-transparent border-none outline-none placeholder:text-[#858585] disabled:opacity-50 disabled:cursor-not-allowed caret-[#cccccc] \".concat(isAtSessionLimit ? 'text-[#f48771]' : 'text-[#cccccc]')\n                            }, void 0, false, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 276,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 275,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                    lineNumber: 273,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                lineNumber: 272,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n        lineNumber: 199,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatMessages, \"v5w5QkHCV8s7lhAimWBqbFJUQsI=\", false, function() {\n    return [\n        _clerk_nextjs__WEBPACK_IMPORTED_MODULE_10__.useUser,\n        _store_terminal_chat__WEBPACK_IMPORTED_MODULE_6__.useChatStore,\n        _store_terminal_session__WEBPACK_IMPORTED_MODULE_7__.useSessionStore,\n        _lib_hooks_useChat__WEBPACK_IMPORTED_MODULE_2__.useChat,\n        _lib_hooks_useMCP__WEBPACK_IMPORTED_MODULE_4__.useMCP,\n        _store__WEBPACK_IMPORTED_MODULE_5__.useAgentStore,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        _lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructionContext,\n        _lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructions\n    ];\n});\n_c = ChatMessages;\nvar _c;\n$RefreshReg$(_c, \"ChatMessages\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9fY29tcG9uZW50cy90ZXJtaW5hbC9fY29tcG9uZW50cy9jaGF0TWVzc2FnZXMudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSx5REFBeUQ7QUFDekQsNkZBQTZGOzs7QUFJL0M7QUFDQTtBQUN1QztBQUN6QztBQUNKO0FBQ2E7QUFDTTtBQUNuQjtBQUNHO0FBQ2dCO0FBRXBELFNBQVNjO1FBc01xQ0MsY0FDaEJBOztJQXRNbkMsTUFBTUMsWUFBWUosNkNBQU1BLENBQWlCO0lBQ3pDLE1BQU1LLFdBQVdMLDZDQUFNQSxDQUFtQjtJQUMxQyxNQUFNLENBQUNNLFNBQVNDLFdBQVcsR0FBR04sK0NBQVFBLENBQUM7SUFFdkMsTUFBTSxFQUFFTyxJQUFJLEVBQUVDLFFBQVEsRUFBRSxHQUFHYix1REFBT0E7SUFDbEMsTUFBTSxFQUFFYyxxQkFBcUIsRUFBRUMsbUJBQW1CLEVBQUVDLFlBQVksRUFBRSxHQUFHbEIsa0VBQVlBO0lBQ2pGLE1BQU0sRUFBRW1CLGVBQWUsRUFBRSxHQUFHbEIsd0VBQWVBO0lBQzNDLE1BQU0sRUFDSm1CLFFBQVEsRUFDUkMsV0FBV0MsV0FBVyxFQUN0QkMsV0FBVyxFQUNYQyxTQUFTLEVBQ1RDLGdCQUFnQixFQUNoQlIscUJBQXFCUyxtQkFBbUIsRUFDeENDLFlBQVksRUFDWkMsa0JBQWtCLEVBQ2xCQyxnQkFBZ0IsRUFDaEJDLGNBQWMsRUFDZEMsZ0JBQWdCLEVBQ2hCQyxlQUFlLEVBQ2hCLEdBQUdyQywyREFBT0E7SUFDWCxNQUFNLEVBQ0pzQyxhQUFhQyxZQUFZLEVBQ3pCYixXQUFXYyxVQUFVLEVBQ3JCQyxPQUFPQyxRQUFRLEVBQ2ZDLGNBQWMsRUFDZEMsc0JBQXNCLEVBQ3ZCLEdBQUd6Qyx5REFBTUE7SUFFVixnQ0FBZ0M7SUFDaEMsTUFBTSxFQUFFVyxNQUFNLEVBQUUrQixhQUFhLEVBQUVDLGNBQWMsRUFBRUMsZ0JBQWdCLEVBQUUsR0FBRzNDLHFEQUFhQTtJQUNq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QUFDRDs0Q0FBSUMsV0FBVTtzREFDWlEsSUFBSTVCLE9BQU87Ozs7Ozs7Ozs7OzsrQkFoQlY2Qjs7Ozs7d0JBd0JYMUYsMkJBQ0MsOERBQUNnRjs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNPO29DQUFLUCxXQUFVOzhDQUFpQjs7Ozs7OzhDQUNqQyw4REFBQ087b0NBQUtQLFdBQVU7OENBQXNCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFPOUMsOERBQUNEO2dCQUFJQyxXQUFVOzBCQUNiLDRFQUFDRDtvQkFBSUMsV0FBVTs7c0NBQ2IsOERBQUNPOzRCQUFLUCxXQUFVO3NDQUFpQjs7Ozs7O3NDQUNqQyw4REFBQ1U7NEJBQUtDLFVBQVVwQzs0QkFBY3lCLFdBQVU7c0NBQ3RDLDRFQUFDWTtnQ0FDQ1gsS0FBSzVGO2dDQUNMd0csTUFBSztnQ0FDTGhCLE9BQU92RjtnQ0FDUHdHLFVBQVVsQjtnQ0FDVm1CLFdBQVd0QjtnQ0FDWHVCLGFBQ0V6RixtQkFDSSw2REFDQVIsWUFDRSxzQkFDQTtnQ0FFUmtHLFVBQVVsRyxhQUFhUTtnQ0FDdkJ5RSxXQUFXLDZJQUVWLE9BREN6RSxtQkFBbUIsbUJBQW1COzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUXREO0dBMVJnQnJCOztRQUthTixtREFBT0E7UUFDbUNGLDhEQUFZQTtRQUNyREMsb0VBQWVBO1FBY3ZDTix1REFBT0E7UUFPUEcscURBQU1BO1FBRzBEQyxpREFBYUE7UUFDdkRJLHFEQUFXQTtRQUNIQSxxREFBV0E7UUFDMUJBLHFEQUFXQTtRQUNIUCw2RUFBcUJBO1FBQ0xDLHVFQUFlQTs7O0tBcEM1Q1ciLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXR0aGV3c2ltb24vUHJvamVjdHMvZWFjL2VhYy9hcHAvX2NvbXBvbmVudHMvdGVybWluYWwvX2NvbXBvbmVudHMvY2hhdE1lc3NhZ2VzLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTaW1wbGlmaWVkIENoYXQgTWVzc2FnZXMgQ29tcG9uZW50IC0gTm8gU2xhc2ggQ29tbWFuZHNcbi8vIC9Vc2Vycy9tYXR0aGV3c2ltb24vUHJvamVjdHMvZWFjL2VhYy9hcHAvX2NvbXBvbmVudHMvdGVybWluYWwvX2NvbXBvbmVudHMvY2hhdE1lc3NhZ2VzLnRzeFxuXG5cInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgYXBpIH0gZnJvbSBcIkAvY29udmV4L19nZW5lcmF0ZWQvYXBpXCI7XG5pbXBvcnQgeyB1c2VDaGF0IH0gZnJvbSBcIkAvbGliL2hvb2tzL3VzZUNoYXRcIjtcbmltcG9ydCB7IHVzZUluc3RydWN0aW9uQ29udGV4dCwgdXNlSW5zdHJ1Y3Rpb25zIH0gZnJvbSBcIkAvbGliL2hvb2tzL3VzZUluc3RydWN0aW9uc1wiO1xuaW1wb3J0IHsgdXNlTUNQIH0gZnJvbSBcIkAvbGliL2hvb2tzL3VzZU1DUFwiO1xuaW1wb3J0IHsgdXNlQWdlbnRTdG9yZSB9IGZyb20gXCJAL3N0b3JlXCI7XG5pbXBvcnQgeyB1c2VDaGF0U3RvcmUgfSBmcm9tIFwiQC9zdG9yZS90ZXJtaW5hbC9jaGF0XCI7XG5pbXBvcnQgeyB1c2VTZXNzaW9uU3RvcmUgfSBmcm9tIFwiQC9zdG9yZS90ZXJtaW5hbC9zZXNzaW9uXCI7XG5pbXBvcnQgeyB1c2VVc2VyIH0gZnJvbSBcIkBjbGVyay9uZXh0anNcIjtcbmltcG9ydCB7IHVzZU11dGF0aW9uIH0gZnJvbSBcImNvbnZleC9yZWFjdFwiO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gQ2hhdE1lc3NhZ2VzKCkge1xuICBjb25zdCBzY3JvbGxSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBpbnB1dFJlZiA9IHVzZVJlZjxIVE1MSW5wdXRFbGVtZW50PihudWxsKTtcbiAgY29uc3QgW21lc3NhZ2UsIHNldE1lc3NhZ2VdID0gdXNlU3RhdGUoXCJcIik7XG4gIFxuICBjb25zdCB7IHVzZXIsIGlzTG9hZGVkIH0gPSB1c2VVc2VyKCk7XG4gIGNvbnN0IHsgaW5pdGlhbGl6ZVVzZXJTZXNzaW9uLCBhZGRUZXJtaW5hbEZlZWRiYWNrLCBzZXRTZXNzaW9uSWQgfSA9IHVzZUNoYXRTdG9yZSgpO1xuICBjb25zdCB7IGFjdGl2ZVNlc3Npb25JZCB9ID0gdXNlU2Vzc2lvblN0b3JlKCk7XG4gIGNvbnN0IHsgXG4gICAgbWVzc2FnZXMsIFxuICAgIGlzTG9hZGluZzogY2hhdExvYWRpbmcsIFxuICAgIHNlbmRNZXNzYWdlLCBcbiAgICBzZXNzaW9uSWQsIFxuICAgIHN0b3JlQ2hhdE1lc3NhZ2UsIFxuICAgIGFkZFRlcm1pbmFsRmVlZGJhY2s6IHVzZVRlcm1pbmFsRmVlZGJhY2ssXG4gICAgbWVzc2FnZUNvdW50LFxuICAgIGlzTmVhclNlc3Npb25MaW1pdCxcbiAgICBpc0F0U2Vzc2lvbkxpbWl0LFxuICAgIGNhbkFkZE1lc3NhZ2VzLFxuICAgIGdldFNlc3Npb25TdGF0dXMsXG4gICAgc3RhcnROZXdTZXNzaW9uXG4gIH0gPSB1c2VDaGF0KCk7XG4gIGNvbnN0IHtcbiAgICBpc0Nvbm5lY3RlZDogbWNwQ29ubmVjdGVkLFxuICAgIGlzTG9hZGluZzogbWNwTG9hZGluZyxcbiAgICBlcnJvcjogbWNwRXJyb3IsXG4gICAgYXZhaWxhYmxlVG9vbHMsXG4gICAgcHJvY2Vzc05hdHVyYWxMYW5ndWFnZSxcbiAgfSA9IHVzZU1DUCgpO1xuICBcbiAgLy8gQWdlbnQgZXhlY3V0aW9uIGFuZCBtdXRhdGlvbnNcbiAgY29uc3QgeyBhZ2VudHMsIGFjdGl2ZUFnZW50SWQsIHNldEFjdGl2ZUFnZW50LCBleGVjdXRlQWdlbnRUb29sIH0gPSB1c2VBZ2VudFN0b3JlKCk7XG4gIGNvbnN0IGNyZWF0ZUluc3RydWN0aW9uID0gdXNlTXV0YXRpb24oYXBpLmluc3RydWN0aW9ucy5jcmVhdGVJbnN0cnVjdGlvbkZpbGUpO1xuICBjb25zdCBlbnN1cmVJbnN0cnVjdGlvbnNQcm9qZWN0ID0gdXNlTXV0YXRpb24oYXBpLmluc3RydWN0aW9ucy5lbnN1cmVJbnN0cnVjdGlvbnNQcm9qZWN0KTtcbiAgY29uc3QgdXBzZXJ0UG9zdCA9IHVzZU11dGF0aW9uKGFwaS50d2l0dGVyLnVwc2VydFBvc3QpO1xuICBjb25zdCBpbnN0cnVjdGlvbkNvbnRleHQgPSB1c2VJbnN0cnVjdGlvbkNvbnRleHQoKTtcbiAgY29uc3QgeyBpc0xvYWRpbmc6IGluc3RydWN0aW9uc0xvYWRpbmcgfSA9IHVzZUluc3RydWN0aW9ucygpO1xuXG4gIGNvbnN0IGlzTG9hZGluZyA9IGNoYXRMb2FkaW5nIHx8IG1jcExvYWRpbmcgfHwgaW5zdHJ1Y3Rpb25zTG9hZGluZztcblxuICAvLyBBdXRvLXNjcm9sbCB0byBib3R0b20gd2hlbiBuZXcgbWVzc2FnZXMgYXJyaXZlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNjcm9sbFJlZi5jdXJyZW50KSB7XG4gICAgICBzY3JvbGxSZWYuY3VycmVudC5zY3JvbGxUb3AgPSBzY3JvbGxSZWYuY3VycmVudC5zY3JvbGxIZWlnaHQ7XG4gICAgfVxuICB9LCBbbWVzc2FnZXNdKTtcblxuICAvLyBJbml0aWFsaXplIHVzZXIgc2Vzc2lvbiB3aGVuIGNvbXBvbmVudCBtb3VudHMgYW5kIHVzZXIgaXMgbG9hZGVkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzTG9hZGVkICYmIHVzZXIgJiYgIXNlc3Npb25JZCkge1xuICAgICAgY29uc29sZS5sb2coXCLwn5SEIEluaXRpYWxpemluZyB1c2VyIHNlc3Npb24uLi5cIiwgeyB1c2VySWQ6IHVzZXIuaWQgfSk7XG4gICAgICBpbml0aWFsaXplVXNlclNlc3Npb24odXNlci5pZCk7XG4gICAgfVxuICB9LCBbdXNlciwgaXNMb2FkZWQsIHNlc3Npb25JZCwgaW5pdGlhbGl6ZVVzZXJTZXNzaW9uXSk7XG5cbiAgLy8gU3luYyBzZXNzaW9uIElEIGlmIGFjdGl2ZSBzZXNzaW9uIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWN0aXZlU2Vzc2lvbklkICYmIGFjdGl2ZVNlc3Npb25JZCAhPT0gc2Vzc2lvbklkKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIvCflIQgU3luY2luZyB0byBhY3RpdmUgc2Vzc2lvbjpcIiwgYWN0aXZlU2Vzc2lvbklkKTtcbiAgICAgIHNldFNlc3Npb25JZChhY3RpdmVTZXNzaW9uSWQpO1xuICAgIH1cbiAgfSwgW2FjdGl2ZVNlc3Npb25JZCwgc2Vzc2lvbklkLCBzZXRTZXNzaW9uSWRdKTtcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gc3RyaXAgbWFya2Rvd24gZm9ybWF0dGluZ1xuICBjb25zdCBzdHJpcE1hcmtkb3duID0gKHRleHQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIHRleHRcbiAgICAgIC5yZXBsYWNlKC8jezEsNn1cXHMqL2csICcnKSAvLyBSZW1vdmUgaGVhZGVyc1xuICAgICAgLnJlcGxhY2UoL1xcKlxcKiguKj8pXFwqXFwqL2csICckMScpIC8vIFJlbW92ZSAqKmJvbGQqKlxuICAgICAgLnJlcGxhY2UoL1xcKiguKj8pXFwqL2csICckMScpIC8vIFJlbW92ZSAqaXRhbGljKlxuICAgICAgLnJlcGxhY2UoL2AoW15gXSspYC9nLCAnJDEnKSAvLyBSZW1vdmUgYGNvZGVgXG4gICAgICAucmVwbGFjZSgvXlxccypbLSorXVxccysvZ20sICfigKIgJykgLy8gQ29udmVydCBtYXJrZG93biBsaXN0cyB0byBidWxsZXQgcG9pbnRzXG4gICAgICAucmVwbGFjZSgvXlxccypcXGQrXFwuXFxzKy9nbSwgJ+KAoiAnKSAvLyBDb252ZXJ0IG51bWJlcmVkIGxpc3RzIHRvIGJ1bGxldCBwb2ludHNcbiAgICAgIC5yZXBsYWNlKC9cXG5cXHMqXFxuXFxzKlxcbi9nLCAnXFxuXFxuJykgLy8gUmVkdWNlIG11bHRpcGxlIGJsYW5rIGxpbmVzIHRvIGRvdWJsZVxuICAgICAgLnNwbGl0KCdcXG4nKSAvLyBTcGxpdCBpbnRvIGxpbmVzIGZvciBwcm9jZXNzaW5nXG4gICAgICAubWFwKGxpbmUgPT4ge1xuICAgICAgICAvLyBBZGQgc3BhY2luZyBhZnRlciBzZWN0aW9uIGhlYWRlcnMgKGxpbmVzIHRoYXQgZG9uJ3Qgc3RhcnQgd2l0aCBidWxsZXQgcG9pbnRzKVxuICAgICAgICBpZiAobGluZS50cmltKCkgJiYgIWxpbmUuc3RhcnRzV2l0aCgn4oCiJykgJiYgIWxpbmUuc3RhcnRzV2l0aCgnICcpICYmIGxpbmUubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiBsaW5lICsgJ1xcbic7IC8vIEFkZCBleHRyYSBuZXdsaW5lIGFmdGVyIGhlYWRlcnNcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGluZTtcbiAgICAgIH0pXG4gICAgICAuam9pbignXFxuJylcbiAgICAgIC5yZXBsYWNlKC9cXG57Myx9L2csICdcXG5cXG4nKSAvLyBDbGVhbiB1cCBleGNlc3NpdmUgbmV3bGluZXNcbiAgICAgIC50cmltKCk7XG4gIH07XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGRldGVjdCBNQ1AtcmVsYXRlZCBxdWVyaWVzIChleGNsdWRpbmcgZGlyZWN0IHRvb2wgY29tbWFuZHMpXG4gIGNvbnN0IGlzTUNQUXVlcnkgPSAodGV4dDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgLy8gRG9uJ3QgdHJlYXQgZGlyZWN0IHRvb2wgY29tbWFuZHMgYXMgTkxQIHF1ZXJpZXNcbiAgICBpZiAodGV4dC5zdGFydHNXaXRoKCcvJykpIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICAvLyBMb29rIGZvciBrZXl3b3JkcyB0aGF0IHN1Z2dlc3QgTUNQIGFuYWx5c2lzIHdvdWxkIGJlIGhlbHBmdWxcbiAgICBjb25zdCBtY3BLZXl3b3JkcyA9IFtcbiAgICAgICdhbmFseXplJywgJ2V4YW1pbmUnLCAncmV2aWV3JywgJ2V4cGxhaW4nLCAndW5kZXJzdGFuZCcsICdhcmNoaXRlY3R1cmUnLFxuICAgICAgJ3N0cnVjdHVyZScsICdjb2RlJywgJ2NvbXBvbmVudCcsICdmdW5jdGlvbicsICdpbXBsZW1lbnRhdGlvbicsICdwYXR0ZXJuJyxcbiAgICAgICdiZXN0IHByYWN0aWNlJywgJ2lzc3VlJywgJ2J1ZycsICdlcnJvcicsICdwZXJmb3JtYW5jZScsICdvcHRpbWl6YXRpb24nLFxuICAgICAgJ3JlZmFjdG9yJywgJ2ltcHJvdmVtZW50JywgJ2RvY3VtZW50YXRpb24nLCAnb3ZlcnZpZXcnLCAnc3VtbWFyeScsXG4gICAgICAnaG93IGRvZXMnLCAnd2hhdCBpcycsICd3aHkgaXMnLCAnd2hlcmUgaXMnLCAnd2hlbiBpcycsICd3aGljaCdcbiAgICBdO1xuICAgIFxuICAgIGNvbnN0IGxvd2VyVGV4dCA9IHRleHQudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gbWNwS2V5d29yZHMuc29tZShrZXl3b3JkID0+IGxvd2VyVGV4dC5pbmNsdWRlcyhrZXl3b3JkKSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVG9vbFNlbGVjdG9yQ2xvc2UgPSAoKSA9PiB7XG4gICAgc2V0TWVzc2FnZShcIlwiKTtcbiAgICBpbnB1dFJlZi5jdXJyZW50Py5mb2N1cygpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgXG4gICAgLy8gQ2hlY2sgc2Vzc2lvbiBsaW1pdCBiZWZvcmUgcHJvY2Vzc2luZ1xuICAgIGlmICghY2FuQWRkTWVzc2FnZXMoKSkge1xuICAgICAgY29uc29sZS53YXJuKFwiQ2Fubm90IHNlbmQgbWVzc2FnZTogU2Vzc2lvbiBsaW1pdCByZWFjaGVkXCIpO1xuICAgICAgLy8gQWRkIGEgdGVybWluYWwgZmVlZGJhY2sgbWVzc2FnZSBhYm91dCB0aGUgbGltaXRcbiAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICByb2xlOiBcInRlcm1pbmFsXCIsXG4gICAgICAgIGNvbnRlbnQ6IGBbJHtuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygnZW4tVVMnLCB7IFxuICAgICAgICAgIGhvdXIxMjogZmFsc2UsIFxuICAgICAgICAgIGhvdXI6ICcyLWRpZ2l0JywgXG4gICAgICAgICAgbWludXRlOiAnMi1kaWdpdCcsIFxuICAgICAgICAgIHNlY29uZDogJzItZGlnaXQnIFxuICAgICAgICB9KX1dIPCfmqggTWVzc2FnZSBub3Qgc2VudDogU2Vzc2lvbiBsaW1pdCByZWFjaGVkICg1MDAgbWVzc2FnZXMpXG5QbGVhc2Ugc3RhcnQgYSBuZXcgc2Vzc2lvbiB0byBjb250aW51ZSBjaGF0dGluZy5gLFxuICAgICAgICBzZXNzaW9uSWQsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgaWYgKG1lc3NhZ2UudHJpbSgpICYmICFpc0xvYWRpbmcpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VDb250ZW50ID0gbWVzc2FnZS50cmltKCk7XG4gICAgICBzZXRNZXNzYWdlKFwiXCIpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGxvb2tzIGxpa2UgYSBuYXR1cmFsIGxhbmd1YWdlIE1DUCBxdWVyeVxuICAgICAgaWYgKG1jcENvbm5lY3RlZCAmJiBpc01DUFF1ZXJ5KG1lc3NhZ2VDb250ZW50KSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IG1jcFJlc3BvbnNlID0gYXdhaXQgcHJvY2Vzc05hdHVyYWxMYW5ndWFnZShtZXNzYWdlQ29udGVudCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKG1jcFJlc3BvbnNlLnN1Y2Nlc3MgJiYgbWNwUmVzcG9uc2UuY29udGVudCAmJiBtY3BSZXNwb25zZS5jb250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgdGhlIGFjdHVhbCB0ZXh0IGNvbnRlbnQgZnJvbSB0aGUgTUNQIHJlc3BvbnNlXG4gICAgICAgICAgICBjb25zdCB0ZXh0Q29udGVudCA9IG1jcFJlc3BvbnNlLmNvbnRlbnRbMF0udGV4dDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU3RyaXAgbWFya2Rvd24gZm9ybWF0dGluZyBhbmQgY29udmVydCB0byBwbGFpbiB0ZXh0XG4gICAgICAgICAgICBjb25zdCBwbGFpblRleHQgPSBzdHJpcE1hcmtkb3duKHRleHRDb250ZW50KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2VuZCB0aGUgTUNQIHJlc3BvbnNlIHdpdGggY2xlYW4gdGV4dCBjb250ZW50XG4gICAgICAgICAgICBhd2FpdCBzZW5kTWVzc2FnZShg8J+kliBNQ1AgQW5hbHlzaXM6XFxuXFxuJHtwbGFpblRleHR9YCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHNlbmRNZXNzYWdlKG1lc3NhZ2VDb250ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignTUNQIEVycm9yOicsIGVycm9yKTtcbiAgICAgICAgICAvLyBGYWxsIGJhY2sgdG8gcmVndWxhciBjaGF0XG4gICAgICAgICAgYXdhaXQgc2VuZE1lc3NhZ2UobWVzc2FnZUNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZWd1bGFyIGNoYXQgbWVzc2FnZSAtIGFkZCBpbnN0cnVjdGlvbiBjb250ZXh0IGlmIGF2YWlsYWJsZVxuICAgICAgICBsZXQgY29udGV4dHVhbE1lc3NhZ2UgPSBtZXNzYWdlQ29udGVudDtcbiAgICAgICAgaWYgKGluc3RydWN0aW9uQ29udGV4dCkge1xuICAgICAgICAgIGNvbnRleHR1YWxNZXNzYWdlID0gYCR7aW5zdHJ1Y3Rpb25Db250ZXh0fVxcblxcbi0tLVxcblxcbiR7bWVzc2FnZUNvbnRlbnR9YDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gVXNlIHRoZSB1c2VDaGF0IGhvb2sgd2hpY2ggd2lsbCBjYWxsIHRoZSBzZW5kQ2hhdE1lc3NhZ2UgYWN0aW9uXG4gICAgICAgIGF3YWl0IHNlbmRNZXNzYWdlKGNvbnRleHR1YWxNZXNzYWdlLCBtZXNzYWdlQ29udGVudCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaGFuZGxlU3VibWl0KGUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVJbnB1dENoYW5nZSA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgc2V0TWVzc2FnZSh2YWx1ZSk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IGZsZXgtY29sIG1pbi1oLTBcIj5cbiAgICAgIDxkaXYgXG4gICAgICAgIHJlZj17c2Nyb2xsUmVmfSBcbiAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBiZy1bIzBlMGUwZV0gcC0yIHBiLTggbWluLWgtMCBzY3JvbGxiYXItaGlkZGVuXCJcbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LW1vbm8gdGV4dC14cyBzcGFjZS15LTIgbWluLWgtZnVsbFwiPlxuICAgICAgICAgIHsvKiBUZXJtaW5hbCBXZWxjb21lIFRleHQgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjY2NjY2NjXSBzcGFjZS15LTEgbWItNFwiPlxuICAgICAgICAgICAgPGRpdj5FQUMgRmluYW5jaWFsIERhc2hib2FyZCAtIEFJIEFzc2lzdGFudDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjNGVjOWIwXVwiPuKWsiBOZXh0LmpzIDE1LjAuMCArIENvbnZleCBCYWNrZW5kPC9kaXY+XG4gICAgICAgICAgICA8ZGl2Pi0gQW50aHJvcGljIENsYXVkZSAzLjUgU29ubmV0IEludGVncmF0aW9uPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHRleHQteHMgJHttY3BDb25uZWN0ZWQgPyAndGV4dC1bIzRlYzliMF0nIDogJ3RleHQtWyNmNDg3NzFdJ31gfT5cbiAgICAgICAgICAgICAg8J+UjCBNQ1AgU2VydmVyOiB7bWNwQ29ubmVjdGVkID8gJ0Nvbm5lY3RlZCcgOiAnRGlzY29ubmVjdGVkJ31cbiAgICAgICAgICAgICAge21jcENvbm5lY3RlZCAmJiBgICgke2F2YWlsYWJsZVRvb2xzLmxlbmd0aH0gdG9vbHMpYH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B0ZXh0LXhzICR7YWN0aXZlQWdlbnRJZCA/ICd0ZXh0LVsjNGVjOWIwXScgOiAndGV4dC1bIzg1ODU4NV0nfWB9PlxuICAgICAgICAgICAgICDwn6SWIEFnZW50czoge2FjdGl2ZUFnZW50SWQgPyBgQWN0aXZlICgke2FnZW50cy5maW5kKGEgPT4gYS5pZCA9PT0gYWN0aXZlQWdlbnRJZCk/Lm5hbWV9KWAgOiAnTm9uZSBzZWxlY3RlZCd9XG4gICAgICAgICAgICAgIHthY3RpdmVBZ2VudElkICYmIGAgKCR7YWdlbnRzLmZpbmQoYSA9PiBhLmlkID09PSBhY3RpdmVBZ2VudElkKT8udG9vbHMubGVuZ3RoIHx8IDB9IHRvb2xzKWB9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHttY3BFcnJvciAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bI2Y0ODc3MV0gdGV4dC14c1wiPk1DUCBFcnJvcjoge21jcEVycm9yfTwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bIzg1ODU4NV0gbXQtMlwiPkFJIEFzc2lzdGFudCByZWFkeSBmb3IgRUFDIHByb2plY3QgcXVlc3Rpb25zLjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjODU4NTg1XSB0ZXh0LXhzXCI+U2Vzc2lvbjoge3Nlc3Npb25JZC5zbGljZSgtOCl9PC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBTZXNzaW9uIFN0YXR1cyBhbmQgTGltaXRzICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjODU4NTg1XSB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgIE1lc3NhZ2VzOiB7bWVzc2FnZUNvdW50fS81MDBcbiAgICAgICAgICAgICAge2lzTmVhclNlc3Npb25MaW1pdCAmJiAoXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bI2Y0ODc3MV0gbWwtMlwiPuKaoO+4jyBBcHByb2FjaGluZyBsaW1pdDwvc3Bhbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge2lzQXRTZXNzaW9uTGltaXQgJiYgKFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWyNmNDg3NzFdIG1sLTJcIj7wn5qoIFNlc3Npb24gZnVsbDwvc3Bhbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIE1lc3NhZ2VzICovfVxuICAgICAgICAgIHttZXNzYWdlcy5tYXAoKG1zZywgaW5kZXgpID0+IChcbiAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgIHttc2cucm9sZSA9PT0gJ3VzZXInICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyMwMDdhY2NdXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjMDA3YWNjXVwiPiQgdXNlcjo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0xIHRleHQtWyNjY2NjY2NdXCI+e21zZy5jb250ZW50fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge21zZy5yb2xlID09PSAnYXNzaXN0YW50JyAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjNGVjOWIwXVwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bIzRlYzliMF1cIj7wn6SWIGFzc2lzdGFudDo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1sLTEgdGV4dC1bI2NjY2NjY10gd2hpdGVzcGFjZS1wcmUtd3JhcFwiPnttc2cuY29udGVudH08L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge21zZy5yb2xlID09PSAndGVybWluYWwnICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyM4NTg1ODVdXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyM1ODU4NThdIHdoaXRlc3BhY2UtcHJlLXdyYXAgYmctWyMxYTFhMWFdIHAtMSByb3VuZGVkIHRleHQtWzEwcHhdIGJvcmRlci1sLTIgYm9yZGVyLVsjMzMzXVwiPlxuICAgICAgICAgICAgICAgICAgICB7bXNnLmNvbnRlbnR9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkpfVxuXG4gICAgICAgICAgey8qIExvYWRpbmcgaW5kaWNhdG9yICovfVxuICAgICAgICAgIHtpc0xvYWRpbmcgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjNGVjOWIwXVwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjNGVjOWIwXVwiPvCfpJYgYXNzaXN0YW50Ojwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMSB0ZXh0LVsjODU4NTg1XVwiPnRoaW5raW5nLi4uPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIElucHV0IGFyZWEgLSBOb3cgb3V0c2lkZSB0aGUgc2Nyb2xsYWJsZSBjb250YWluZXIgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLVsjMGUwZTBlXSBwLTIgZm9udC1tb25vIHRleHQteHMgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bIzAwN2FjY11cIj4kIHVzZXI6PC9zcGFuPlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT1cImZsZXgtMSBtbC0xXCI+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgcmVmPXtpbnB1dFJlZn1cbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICB2YWx1ZT17bWVzc2FnZX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUlucHV0Q2hhbmdlfVxuICAgICAgICAgICAgICBvbktleURvd249e2hhbmRsZUtleURvd259XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtcbiAgICAgICAgICAgICAgICBpc0F0U2Vzc2lvbkxpbWl0IFxuICAgICAgICAgICAgICAgICAgPyBcIlNlc3Npb24gbGltaXQgcmVhY2hlZCAtIFN0YXJ0IG5ldyBzZXNzaW9uIHRvIGNvbnRpbnVlLi4uXCIgXG4gICAgICAgICAgICAgICAgICA6IGlzTG9hZGluZyBcbiAgICAgICAgICAgICAgICAgICAgPyBcIkFJIGlzIHRoaW5raW5nLi4uXCIgXG4gICAgICAgICAgICAgICAgICAgIDogXCJBc2sgYWJvdXQgeW91ciBFQUMgcHJvamVjdC4uLlwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZyB8fCBpc0F0U2Vzc2lvbkxpbWl0fVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgYmctdHJhbnNwYXJlbnQgYm9yZGVyLW5vbmUgb3V0bGluZS1ub25lIHBsYWNlaG9sZGVyOnRleHQtWyM4NTg1ODVdIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIGNhcmV0LVsjY2NjY2NjXSAke1xuICAgICAgICAgICAgICAgIGlzQXRTZXNzaW9uTGltaXQgPyAndGV4dC1bI2Y0ODc3MV0nIDogJ3RleHQtWyNjY2NjY2NdJ1xuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSJdLCJuYW1lcyI6WyJhcGkiLCJ1c2VDaGF0IiwidXNlSW5zdHJ1Y3Rpb25Db250ZXh0IiwidXNlSW5zdHJ1Y3Rpb25zIiwidXNlTUNQIiwidXNlQWdlbnRTdG9yZSIsInVzZUNoYXRTdG9yZSIsInVzZVNlc3Npb25TdG9yZSIsInVzZVVzZXIiLCJ1c2VNdXRhdGlvbiIsIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJDaGF0TWVzc2FnZXMiLCJhZ2VudHMiLCJzY3JvbGxSZWYiLCJpbnB1dFJlZiIsIm1lc3NhZ2UiLCJzZXRNZXNzYWdlIiwidXNlciIsImlzTG9hZGVkIiwiaW5pdGlhbGl6ZVVzZXJTZXNzaW9uIiwiYWRkVGVybWluYWxGZWVkYmFjayIsInNldFNlc3Npb25JZCIsImFjdGl2ZVNlc3Npb25JZCIsIm1lc3NhZ2VzIiwiaXNMb2FkaW5nIiwiY2hhdExvYWRpbmciLCJzZW5kTWVzc2FnZSIsInNlc3Npb25JZCIsInN0b3JlQ2hhdE1lc3NhZ2UiLCJ1c2VUZXJtaW5hbEZlZWRiYWNrIiwibWVzc2FnZUNvdW50IiwiaXNOZWFyU2Vzc2lvbkxpbWl0IiwiaXNBdFNlc3Npb25MaW1pdCIsImNhbkFkZE1lc3NhZ2VzIiwiZ2V0U2Vzc2lvblN0YXR1cyIsInN0YXJ0TmV3U2Vzc2lvbiIsImlzQ29ubmVjdGVkIiwibWNwQ29ubmVjdGVkIiwibWNwTG9hZGluZyIsImVycm9yIiwibWNwRXJyb3IiLCJhdmFpbGFibGVUb29scyIsInByb2Nlc3NOYXR1cmFsTGFuZ3VhZ2UiLCJhY3RpdmVBZ2VudElkIiwic2V0QWN0aXZlQWdlbnQiLCJleGVjdXRlQWdlbnRUb29sIiwiY3JlYXRlSW5zdHJ1Y3Rpb24iLCJpbnN0cnVjdGlvbnMiLCJjcmVhdGVJbnN0cnVjdGlvbkZpbGUiLCJlbnN1cmVJbnN0cnVjdGlvbnNQcm9qZWN0IiwidXBzZXJ0UG9zdCIsInR3aXR0ZXIiLCJpbnN0cnVjdGlvbkNvbnRleHQiLCJpbnN0cnVjdGlvbnNMb2FkaW5nIiwiY3VycmVudCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsImNvbnNvbGUiLCJsb2ciLCJ1c2VySWQiLCJpZCIsInN0cmlwTWFya2Rvd24iLCJ0ZXh0IiwicmVwbGFjZSIsInNwbGl0IiwibWFwIiwibGluZSIsInRyaW0iLCJzdGFydHNXaXRoIiwibGVuZ3RoIiwiam9pbiIsImlzTUNQUXVlcnkiLCJtY3BLZXl3b3JkcyIsImxvd2VyVGV4dCIsInRvTG93ZXJDYXNlIiwic29tZSIsImtleXdvcmQiLCJpbmNsdWRlcyIsImhhbmRsZVRvb2xTZWxlY3RvckNsb3NlIiwiZm9jdXMiLCJoYW5kbGVTdWJtaXQiLCJlIiwicHJldmVudERlZmF1bHQiLCJ3YXJuIiwicm9sZSIsImNvbnRlbnQiLCJEYXRlIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiaG91cjEyIiwiaG91ciIsIm1pbnV0ZSIsInNlY29uZCIsIm1lc3NhZ2VDb250ZW50IiwibWNwUmVzcG9uc2UiLCJzdWNjZXNzIiwidGV4dENvbnRlbnQiLCJwbGFpblRleHQiLCJjb250ZXh0dWFsTWVzc2FnZSIsImhhbmRsZUtleURvd24iLCJrZXkiLCJzaGlmdEtleSIsImhhbmRsZUlucHV0Q2hhbmdlIiwidmFsdWUiLCJ0YXJnZXQiLCJkaXYiLCJjbGFzc05hbWUiLCJyZWYiLCJmaW5kIiwiYSIsIm5hbWUiLCJ0b29scyIsInNsaWNlIiwic3BhbiIsIm1zZyIsImluZGV4IiwiZm9ybSIsIm9uU3VibWl0IiwiaW5wdXQiLCJ0eXBlIiwib25DaGFuZ2UiLCJvbktleURvd24iLCJwbGFjZWhvbGRlciIsImRpc2FibGVkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/_components/terminal/_components/chatMessages.tsx\n"));

/***/ })

});