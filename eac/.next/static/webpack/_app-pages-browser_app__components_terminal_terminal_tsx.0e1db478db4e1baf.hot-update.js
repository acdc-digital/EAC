"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_app__components_terminal_terminal_tsx",{

/***/ "(app-pages-browser)/./app/_components/terminal/_components/chatMessages.tsx":
/*!***************************************************************!*\
  !*** ./app/_components/terminal/_components/chatMessages.tsx ***!
  \***************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatMessages: () => (/* binding */ ChatMessages)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../node_modules/.pnpm/next@15.3.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _convex_generated_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/convex/_generated/api */ \"(app-pages-browser)/./convex/_generated/api.js\");\n/* harmony import */ var _lib_hooks_useChat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/hooks/useChat */ \"(app-pages-browser)/./lib/hooks/useChat.ts\");\n/* harmony import */ var _lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/hooks/useInstructions */ \"(app-pages-browser)/./lib/hooks/useInstructions.ts\");\n/* harmony import */ var _lib_hooks_useMCP__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/hooks/useMCP */ \"(app-pages-browser)/./lib/hooks/useMCP.ts\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/store */ \"(app-pages-browser)/./store/index.ts\");\n/* harmony import */ var _store_terminal_chat__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/store/terminal/chat */ \"(app-pages-browser)/./store/terminal/chat.ts\");\n/* harmony import */ var _store_terminal_session__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/store/terminal/session */ \"(app-pages-browser)/./store/terminal/session.ts\");\n/* harmony import */ var _clerk_nextjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @clerk/nextjs */ \"(app-pages-browser)/../node_modules/.pnpm/@clerk+clerk-react@5.38.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@clerk/clerk-react/dist/index.mjs\");\n/* harmony import */ var convex_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! convex/react */ \"(app-pages-browser)/../node_modules/.pnpm/convex@1.25.4_@clerk+clerk-react@5.38.0_react-dom@18.3.1_react@18.3.1__react@18.3.1__react@18.3.1/node_modules/convex/dist/esm/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../node_modules/.pnpm/next@15.3.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _editInstructionsInput__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./editInstructionsInput */ \"(app-pages-browser)/./app/_components/terminal/_components/editInstructionsInput.tsx\");\n/* harmony import */ var _fileNameInput__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./fileNameInput */ \"(app-pages-browser)/./app/_components/terminal/_components/fileNameInput.tsx\");\n/* harmony import */ var _fileSelector__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./fileSelector */ \"(app-pages-browser)/./app/_components/terminal/_components/fileSelector.tsx\");\n/* harmony import */ var _fileTypeSelector__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./fileTypeSelector */ \"(app-pages-browser)/./app/_components/terminal/_components/fileTypeSelector.tsx\");\n/* harmony import */ var _markdownRenderer__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./markdownRenderer */ \"(app-pages-browser)/./app/_components/terminal/_components/markdownRenderer.tsx\");\n/* harmony import */ var _projectNameInput__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./projectNameInput */ \"(app-pages-browser)/./app/_components/terminal/_components/projectNameInput.tsx\");\n/* harmony import */ var _projectSelector__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./projectSelector */ \"(app-pages-browser)/./app/_components/terminal/_components/projectSelector.tsx\");\n// Simplified Chat Messages Component - No Slash Commands\n// /Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\n/* __next_internal_client_entry_do_not_use__ ChatMessages auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ChatMessages() {\n    _s();\n    const scrollRef = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n    const processedOperations = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(new Set());\n    const [message, setMessage] = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(\"\");\n    const [activeAgentProcess, setActiveAgentProcess] = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(null);\n    // Debug logging for activeAgentProcess changes\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            console.log('activeAgentProcess changed:', activeAgentProcess);\n        }\n    }[\"ChatMessages.useEffect\"], [\n        activeAgentProcess\n    ]);\n    const { user, isLoaded } = (0,_clerk_nextjs__WEBPACK_IMPORTED_MODULE_17__.useUser)();\n    const { initializeUserSession, addTerminalFeedback, setSessionId } = (0,_store_terminal_chat__WEBPACK_IMPORTED_MODULE_6__.useChatStore)();\n    const { activeSessionId } = (0,_store_terminal_session__WEBPACK_IMPORTED_MODULE_7__.useSessionStore)();\n    const { messages, isLoading: chatLoading, sendMessage, sendMessageWithStreaming, sessionId, storeChatMessage, addTerminalFeedback: useTerminalFeedback, streamingThinking, isStreamingThinking, messageCount, isNearSessionLimit, isAtSessionLimit, canAddMessages, getSessionStatus, startNewSession } = (0,_lib_hooks_useChat__WEBPACK_IMPORTED_MODULE_2__.useChat)();\n    // Query for agent progress\n    const agentProgress = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.chat.getAgentProgress, {\n        sessionId\n    });\n    const { isConnected: mcpConnected, isLoading: mcpLoading, error: mcpError, availableTools, processNaturalLanguage } = (0,_lib_hooks_useMCP__WEBPACK_IMPORTED_MODULE_4__.useMCP)();\n    // Agent execution and mutations\n    const { agents, activeAgentId, setActiveAgent, executeAgentTool } = (0,_store__WEBPACK_IMPORTED_MODULE_5__.useAgentStore)();\n    const createInstruction = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.createInstructionFile);\n    const ensureInstructionsProject = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.projects.ensureInstructionsProject);\n    const upsertPost = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.socialPosts.upsertPost);\n    const schedulePost = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.socialPosts.schedulePost);\n    const createContentCreationFile = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.createContentCreationFile);\n    const createProject = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.projects.createProject);\n    const createFile = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.createFile);\n    const getAllUserFiles = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.getAllUserFiles, {});\n    const updateInteractiveComponent = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.chat.updateInteractiveComponent);\n    const editFileWithAI = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useAction)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.editorActions.editFileWithAI);\n    const updateFileContent = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.files.updateFileContent);\n    const allPosts = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.socialPosts.getAllPosts, {});\n    const allProjects = (0,convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery)(_convex_generated_api__WEBPACK_IMPORTED_MODULE_1__.api.projects.getProjects, {});\n    const instructionContext = (0,_lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructionContext)();\n    const { isLoading: instructionsLoading } = (0,_lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructions)();\n    const { createNewFile } = (0,_store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore)();\n    const isLoading = chatLoading || mcpLoading || instructionsLoading;\n    // Auto-scroll to bottom when new messages arrive\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (scrollRef.current) {\n                scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        messages\n    ]);\n    // Initialize user session when component mounts and user is loaded\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (isLoaded && user && !sessionId) {\n                console.log(\"🔄 Initializing user session...\", {\n                    userId: user.id\n                });\n                initializeUserSession(user.id);\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        user,\n        isLoaded,\n        sessionId,\n        initializeUserSession\n    ]);\n    // Sync session ID if active session changes\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (activeSessionId && activeSessionId !== sessionId) {\n                console.log(\"🔄 Syncing to active session:\", activeSessionId);\n                setSessionId(activeSessionId);\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        activeSessionId,\n        sessionId,\n        setSessionId\n    ]);\n    // Clear active agent process after timeout\n    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)({\n        \"ChatMessages.useEffect\": ()=>{\n            if (activeAgentProcess) {\n                const timeout = setTimeout({\n                    \"ChatMessages.useEffect.timeout\": ()=>{\n                        const age = Date.now() - activeAgentProcess.timestamp;\n                        if (age > 5 * 60 * 1000) {\n                            setActiveAgentProcess(null);\n                        }\n                    }\n                }[\"ChatMessages.useEffect.timeout\"], 5 * 60 * 1000);\n                return ({\n                    \"ChatMessages.useEffect\": ()=>clearTimeout(timeout)\n                })[\"ChatMessages.useEffect\"];\n            }\n        }\n    }[\"ChatMessages.useEffect\"], [\n        activeAgentProcess\n    ]);\n    // DISABLED: Process messages with operations to create UI files\n    // This is now handled by useFileLoad hook which syncs from Convex to local store\n    /*\n  useEffect(() => {\n    if (!messages) return;\n    \n    console.log('🔍 Processing messages for operations:', {\n      totalMessages: messages.length,\n      recentMessagesCount: messages.slice(-10).length,\n      processedCount: processedOperations.current.size\n    });\n    \n    // Look for messages with operations that need UI processing\n    const recentMessages = messages.slice(-10); // Check last 10 messages\n    \n    recentMessages.forEach((message: any, index) => {\n      console.log(`🔍 Message ${index}:`, {\n        id: message._id,\n        role: message.role,\n        hasOperation: !!message.operation,\n        operationType: message.operation?.type,\n        operationDetails: message.operation?.details,\n        contentPreview: message.content?.substring(0, 100),\n        alreadyProcessed: processedOperations.current.has(message._id)\n      });\n      \n      if (message.operation?.type === 'file_created' && message._id) {\n        // Skip if already processed\n        if (processedOperations.current.has(message._id)) {\n          console.log(`⏭️ Skipping already processed message: ${message._id}`);\n          return;\n        }\n        \n        const { fileName, fileType, content, platformData, agentType } = message.operation.details;\n        \n        console.log('🔍 File creation operation found:', {\n          fileName,\n          fileType,\n          agentType,\n          hasContent: !!content,\n          contentLength: content?.length || 0,\n          willProcess: agentType === 'twitter' && content\n        });\n        \n        // Only process Twitter agent files for UI creation that have content\n        if (agentType === 'twitter' && content) {\n          console.log('🔄 Processing social file operation:', {\n            fileName,\n            fileType,\n            content: content,\n            contentLength: content?.length || 0,\n            contentType: typeof content,\n            messageId: message._id,\n            platformData: platformData,\n            allDetails: message.operation.details\n          });\n          \n          // Mark as processed FIRST to prevent race conditions\n          processedOperations.current.add(message._id);\n          \n          // Parse the platform data with error handling\n          let platformDataObj;\n          try {\n            platformDataObj = platformData ? JSON.parse(platformData) : {};\n          } catch (error) {\n            console.warn('⚠️ Failed to parse platform data, using defaults:', error);\n            platformDataObj = {\n              replySettings: 'following',\n              scheduledDate: '',\n              scheduledTime: '',\n              isThread: false\n            };\n          }\n          \n          // Create the content for the Twitter post file in the expected format\n          const postContent = `# ${fileName.replace(/\\.[^/.]+$/, \"\")} - X (Twitter) Post\nPlatform: X (Twitter)\nCreated: ${new Date().toLocaleDateString()}\n\n## Post Content\n${content}\n\n## Settings\n- Reply Settings: ${platformDataObj.replySettings || 'following'}\n- Schedule: ${platformDataObj.scheduledDate && platformDataObj.scheduledTime ? `${platformDataObj.scheduledDate} ${platformDataObj.scheduledTime}` : 'Now'}\n- Thread: ${platformDataObj.isThread ? 'Multi-tweet Thread' : 'Single Tweet'}\n\n## Media\n- Images: []\n- Videos: []\n\n## Analytics\n- Impressions: 0\n- Engagements: 0\n- Likes: 0\n- Shares: 0`;\n\n          // Get the createNewFile function from the store at execution time\n          const { createNewFile, projectFolders } = useEditorStore.getState();\n          \n          // Find the Content Creation folder ID\n          const contentCreationFolder = projectFolders.find(folder => \n            folder.name === 'Content Creation'\n          );\n          \n          if (contentCreationFolder) {\n            // Create the file in the Content Creation folder\n            createNewFile(\n              fileName,\n              'x', // Use 'x' type for Twitter files\n              'project',\n              contentCreationFolder.id,\n              postContent\n            );\n            \n            console.log('✅ Created social file in UI:', fileName);\n          } else {\n            console.warn('⚠️ Content Creation folder not found');\n            \n            // Create without folder ID if folder not found\n            createNewFile(\n              fileName,\n              'x',\n              'project',\n              undefined,\n              postContent\n            );\n          }\n        }\n      }\n    });\n  }, [messages]); // Removed createNewFile from dependencies to prevent re-runs on panel switches\n  */ // Helper function to strip markdown formatting\n    const stripMarkdown = (text)=>{\n        return text.replace(/#{1,6}\\s*/g, '') // Remove headers\n        .replace(/\\*\\*(.*?)\\*\\*/g, '$1') // Remove **bold**\n        .replace(/\\*(.*?)\\*/g, '$1') // Remove *italic*\n        .replace(/`([^`]+)`/g, '$1') // Remove `code`\n        .replace(/^\\s*[-*+]\\s+/gm, '• ') // Convert markdown lists to bullet points\n        .replace(/^\\s*\\d+\\.\\s+/gm, '• ') // Convert numbered lists to bullet points\n        .replace(/\\n\\s*\\n\\s*\\n/g, '\\n\\n') // Reduce multiple blank lines to double\n        .split('\\n') // Split into lines for processing\n        .map((line)=>{\n            // Add spacing after section headers (lines that don't start with bullet points)\n            if (line.trim() && !line.startsWith('•') && !line.startsWith(' ') && line.length > 0) {\n                return line + '\\n'; // Add extra newline after headers\n            }\n            return line;\n        }).join('\\n').replace(/\\n{3,}/g, '\\n\\n') // Clean up excessive newlines\n        .trim();\n    };\n    // Helper function to detect MCP-related queries (excluding direct tool commands)\n    const isMCPQuery = (text)=>{\n        // Don't treat direct tool commands as NLP queries\n        if (text.startsWith('/')) return false;\n        // Look for keywords that suggest MCP analysis would be helpful\n        const mcpKeywords = [\n            'analyze',\n            'examine',\n            'review',\n            'explain',\n            'understand',\n            'architecture',\n            'structure',\n            'code',\n            'component',\n            'function',\n            'implementation',\n            'pattern',\n            'best practice',\n            'issue',\n            'bug',\n            'error',\n            'performance',\n            'optimization',\n            'refactor',\n            'improvement',\n            'documentation',\n            'overview',\n            'summary',\n            'how does',\n            'what is',\n            'why is',\n            'where is',\n            'when is',\n            'which'\n        ];\n        const lowerText = text.toLowerCase();\n        return mcpKeywords.some((keyword)=>lowerText.includes(keyword));\n    };\n    const handleToolSelectorClose = ()=>{\n        var _inputRef_current;\n        setMessage(\"\");\n        (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n    };\n    // Helper function to create convexMutations object for agents\n    const createConvexMutations = ()=>{\n        return {\n            ensureInstructionsProject,\n            createInstructionFile: createInstruction,\n            upsertPost,\n            schedulePost,\n            createContentCreationFile,\n            createProject: async (params)=>{\n                return await createProject({\n                    name: params.name,\n                    description: params.description,\n                    status: params.status || 'active',\n                    budget: params.budget\n                });\n            },\n            getProjects: async ()=>{\n                return allProjects || [];\n            },\n            getAllFiles: async ()=>{\n                return getAllUserFiles || [];\n            },\n            storeChatMessage: async (params)=>{\n                return await storeChatMessage({\n                    role: params.role,\n                    content: params.content,\n                    sessionId: params.sessionId || sessionId,\n                    operation: params.operation,\n                    processIndicator: params.processIndicator,\n                    interactiveComponent: params.interactiveComponent\n                });\n            },\n            updateInteractiveComponent: async (params)=>{\n                return await updateInteractiveComponent({\n                    messageId: params.messageId,\n                    status: params.status,\n                    result: params.result\n                });\n            },\n            createFile: async (params)=>{\n                return await createFile({\n                    name: params.name,\n                    type: params.type,\n                    projectId: params.projectId,\n                    content: params.content,\n                    extension: params.extension,\n                    platform: params.platform,\n                    size: params.size\n                });\n            },\n            getAllPosts: async ()=>{\n                return allPosts || [];\n            },\n            editFileWithAI: async (params)=>{\n                return await editFileWithAI({\n                    fileName: params.fileName,\n                    originalContent: params.originalContent,\n                    editInstructions: params.editInstructions,\n                    fileType: params.fileType\n                });\n            },\n            updateFileContent: async (params)=>{\n                return await updateFileContent({\n                    fileId: params.fileId,\n                    content: params.content\n                });\n            },\n            // Campaign-related functions (simplified for now)\n            createCampaign: async (params)=>{\n                // For now, just return a simple campaign ID since the API isn't ready\n                console.log('Campaign creation requested:', params);\n                return {\n                    _id: \"campaign_\".concat(Date.now())\n                };\n            },\n            createPostsBatch: async (params)=>{\n                // For now, just log the batch creation\n                console.log('Batch posts creation requested:', params);\n                return params.posts.map((_, index)=>\"post_\".concat(Date.now(), \"_\").concat(index));\n            }\n        };\n    };\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        // Check session limit before processing\n        if (!canAddMessages()) {\n            console.warn(\"Cannot send message: Session limit reached\");\n            // Add a terminal feedback message about the limit\n            await storeChatMessage({\n                role: \"terminal\",\n                content: \"[\".concat(new Date().toLocaleTimeString('en-US', {\n                    hour12: false,\n                    hour: '2-digit',\n                    minute: '2-digit',\n                    second: '2-digit'\n                }), \"] \\uD83D\\uDEA8 Message not sent: Session limit reached (500 messages)\\nPlease start a new session to continue chatting.\"),\n                sessionId\n            });\n            return;\n        }\n        if (message.trim() && !isLoading) {\n            const messageContent = message.trim();\n            console.log('💬 User submitting message:', messageContent);\n            setMessage(\"\");\n            // Check if this is an agent command when an agent is active\n            // BUT only route to editor agent if it has a selected file and is waiting for edit instructions\n            if (activeAgentId && !messageContent.startsWith('/')) {\n                console.log('🤖 Checking if should route to active agent:', activeAgentId);\n                let shouldRouteToAgent = true;\n                // Special handling for editor agent - only route if file is selected and waiting for edit instructions\n                if (activeAgentId === 'editor') {\n                    const { EditorAgent } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/store/agents/editorAgent */ \"(app-pages-browser)/./store/agents/editorAgent.ts\"));\n                    const hasSelectedFile = EditorAgent.selectedFile !== null;\n                    const isWaitingForEditInstructions = EditorAgent.currentStep === 'edit-request';\n                    console.log('🔍 Editor agent state check:', {\n                        hasSelectedFile,\n                        isWaitingForEditInstructions,\n                        selectedFile: EditorAgent.selectedFile,\n                        currentStep: EditorAgent.currentStep\n                    });\n                    // If no file selected, agent should show file selector\n                    // If file selected and waiting for instructions, agent should process the edit\n                    // Always route to editor agent when it's active\n                    shouldRouteToAgent = true;\n                }\n                if (shouldRouteToAgent) {\n                    console.log('🤖 Routing to active agent:', activeAgentId);\n                    try {\n                        var _lastMessage_processIndicator;\n                        console.log(\"\\uD83E\\uDD16 Executing agent \".concat(activeAgentId, \" with message: \").concat(messageContent));\n                        // Create convex mutations for the agent\n                        const convexMutations = createConvexMutations();\n                        // Check if the last message was an agent waiting for input\n                        const lastMessage = messages && messages.length > 0 ? messages[messages.length - 1] : null;\n                        const isFollowUpToWaitingAgent = lastMessage && lastMessage.role === 'assistant' && ((_lastMessage_processIndicator = lastMessage.processIndicator) === null || _lastMessage_processIndicator === void 0 ? void 0 : _lastMessage_processIndicator.type) === 'waiting';\n                        console.log('Pre-execution state:', {\n                            lastMessage: lastMessage ? {\n                                role: lastMessage.role,\n                                processIndicator: lastMessage.processIndicator,\n                                contentPreview: lastMessage.content.substring(0, 50)\n                            } : null,\n                            isFollowUpToWaitingAgent\n                        });\n                        // Find the active agent and its default tool\n                        const activeAgent = agents.find((agent)=>agent.id === activeAgentId);\n                        if (activeAgent && activeAgent.tools.length > 0) {\n                            const defaultTool = activeAgent.tools[0]; // Use the first tool as default\n                            // ✅ FIX #1: Always store the user message first, regardless of agent result\n                            await storeChatMessage({\n                                role: \"user\",\n                                content: messageContent,\n                                sessionId,\n                                processIndicator: isFollowUpToWaitingAgent ? {\n                                    type: 'continuing',\n                                    processType: 'file-creation',\n                                    color: 'blue'\n                                } : undefined\n                            });\n                            // Execute the agent tool\n                            const result = await executeAgentTool(activeAgentId, defaultTool.id, messageContent, convexMutations, sessionId);\n                            // Handle empty results from interactive components\n                            if (!result || result.trim() === \"\") {\n                                console.log('Agent returned empty result - this is expected for interactive components');\n                                // User message was already stored above - interactive component handles the UI\n                                return;\n                            }\n                            // Check if result indicates waiting for user input (project selection)\n                            const isWaitingForInput = result.includes(\"🎯 Select a project:\") || result.includes(\"💡 **Next message:** Just type your selection!\") || result.includes(\"Which Project?\") || result.includes(\"Available Projects:\");\n                            // Check if result indicates successful completion\n                            const isCompletionResponse = result.includes(\"✅ **File Created Successfully!**\") || result.includes(\"File Created Successfully!\") || result.includes(\"**Next Steps:**\") || result.includes(\"Next Steps:\");\n                            console.log('Agent Execution Debug:', {\n                                activeAgentId,\n                                result: result.substring(0, 200) + '...',\n                                isWaitingForInput,\n                                isCompletionResponse,\n                                isFollowUpToWaitingAgent,\n                                hasSelectProject: result.includes(\"🎯 Select a project:\"),\n                                hasNextMessage: result.includes(\"💡 **Next message:** Just type your selection!\"),\n                                hasWhichProject: result.includes(\"Which Project?\"),\n                                hasAvailableProjects: result.includes(\"Available Projects:\"),\n                                hasFileCreated: result.includes(\"✅ **File Created Successfully!**\"),\n                                hasNextSteps: result.includes(\"**Next Steps:**\")\n                            });\n                            if (isWaitingForInput) {\n                                console.log('Setting active agent process for file creation');\n                                setActiveAgentProcess({\n                                    agentId: activeAgentId,\n                                    processType: 'file-creation',\n                                    timestamp: Date.now()\n                                });\n                            } else {\n                                console.log('Clearing active agent process - agent completed');\n                                // Clear active process when agent completes\n                                setActiveAgentProcess(null);\n                                // For editor agent, keep it active during the file selection workflow\n                                // Only clear it when the editing is actually complete\n                                if (activeAgentId === 'editor') {\n                                    // Check if editor agent is waiting for edit instructions after file selection\n                                    const { EditorAgent } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/store/agents/editorAgent */ \"(app-pages-browser)/./store/agents/editorAgent.ts\"));\n                                    if (EditorAgent.currentStep === 'edit-request' && EditorAgent.selectedFile) {\n                                        console.log('Keeping editor agent active - waiting for edit instructions');\n                                    // Keep the agent active to receive editing instructions\n                                    } else if (EditorAgent.currentStep === 'file-selection') {\n                                        console.log('Keeping editor agent active - waiting for file selection');\n                                    // Keep the agent active during file selection\n                                    } else {\n                                        console.log('Clearing editor agent - editing complete');\n                                        setActiveAgent(null);\n                                    }\n                                } else {\n                                    // Clear active agent ID if the result indicates interactive components are shown\n                                    // This prevents subsequent text input from being routed back to the agent\n                                    if (result.includes(\"Select a file to edit\") || result.includes(\"file_selector\") || result.includes(\"Choose a file from the selector\")) {\n                                        console.log('Clearing active agent ID - interactive component shown');\n                                        setActiveAgent(null);\n                                    }\n                                }\n                            }\n                            // Store agent result with process indicators (user message already stored above)\n                            await storeChatMessage({\n                                role: \"assistant\",\n                                content: \"\\uD83E\\uDD16 **\".concat(activeAgent.name, \" Agent Result:**\\n\\n\").concat(result),\n                                sessionId,\n                                processIndicator: isWaitingForInput || isCompletionResponse || isFollowUpToWaitingAgent ? {\n                                    type: 'waiting',\n                                    processType: 'file-creation',\n                                    color: 'green'\n                                } : undefined\n                            });\n                            // Debug log for what processIndicator was set\n                            console.log('StoreChatMessage Debug:', {\n                                messageType: 'assistant',\n                                willHaveProcessIndicator: !!(isWaitingForInput || isCompletionResponse || isFollowUpToWaitingAgent),\n                                isWaitingForInput,\n                                isCompletionResponse,\n                                isFollowUpToWaitingAgent,\n                                resultSnippet: result.substring(0, 100)\n                            });\n                            return;\n                        }\n                    } catch (error) {\n                        console.error('Agent execution error:', error);\n                        // Store the user message and error\n                        await storeChatMessage({\n                            role: \"user\",\n                            content: messageContent,\n                            sessionId\n                        });\n                        await storeChatMessage({\n                            role: \"assistant\",\n                            content: \"❌ Agent execution failed: \".concat(error instanceof Error ? error.message : 'Unknown error'),\n                            sessionId\n                        });\n                        return;\n                    }\n                } // Close the if (shouldRouteToAgent) block\n            }\n            // Check if this looks like a natural language MCP query\n            if (mcpConnected && isMCPQuery(messageContent)) {\n                try {\n                    const mcpResponse = await processNaturalLanguage(messageContent);\n                    if (mcpResponse.success && mcpResponse.content && mcpResponse.content.length > 0) {\n                        // Extract the actual text content from the MCP response\n                        const textContent = mcpResponse.content[0].text;\n                        // Strip markdown formatting and convert to plain text\n                        const plainText = stripMarkdown(textContent);\n                        // Send the MCP response with clean text content\n                        await sendMessage(\"\\uD83E\\uDD16 MCP Analysis:\\n\\n\".concat(plainText));\n                    } else {\n                        await sendMessage(messageContent);\n                    }\n                } catch (error) {\n                    console.error('MCP Error:', error);\n                    // Fall back to regular chat\n                    await sendMessage(messageContent);\n                }\n            } else {\n                // Regular chat message - add instruction context if available\n                let contextualMessage = messageContent;\n                if (instructionContext) {\n                    contextualMessage = \"\".concat(instructionContext, \"\\n\\n---\\n\\n\").concat(messageContent);\n                }\n                // Always use streaming thinking for all messages (thinking enabled by default)\n                await sendMessageWithStreaming(contextualMessage, messageContent);\n            }\n        }\n    };\n    const handleKeyDown = (e)=>{\n        if (e.key === 'Enter' && !e.shiftKey) {\n            e.preventDefault();\n            handleSubmit(e);\n        }\n    };\n    const handleInputChange = (e)=>{\n        const value = e.target.value;\n        setMessage(value);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex-1 flex flex-col min-h-0\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: scrollRef,\n                className: \"flex-1 overflow-y-auto bg-[#0e0e0e] p-2 pb-8 min-h-0 scrollbar-hidden\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"font-mono text-xs space-y-2 min-h-full\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-[#cccccc] space-y-1 mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: \"EAC Financial Dashboard - AI Assistant\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 665,\n                                    columnNumber: 13\n                                }, this),\n                                mcpError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#f48771] text-xs\",\n                                    children: [\n                                        \"MCP Error: \",\n                                        mcpError\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 667,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#858585] mt-2\",\n                                    children: \"AI Assistant ready for EAC project questions.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 669,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#858585] text-xs\",\n                                    children: [\n                                        \"Session: \",\n                                        sessionId.slice(-8)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 670,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-[#858585] text-xs\",\n                                    children: [\n                                        \"Messages: \",\n                                        messageCount,\n                                        \"/500\",\n                                        isNearSessionLimit && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-[#f48771] ml-2\",\n                                            children: \"⚠️ Approaching limit\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                            lineNumber: 676,\n                                            columnNumber: 17\n                                        }, this),\n                                        isAtSessionLimit && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-[#f48771] ml-2\",\n                                            children: \"\\uD83D\\uDEA8 Session full\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                            lineNumber: 679,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 673,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 664,\n                            columnNumber: 11\n                        }, this),\n                        messages === null || messages === void 0 ? void 0 : messages.map((msg, index)=>{\n                            var _msg_processIndicator_processType, _msg_processIndicator, _msg_interactiveComponent_data, _msg_interactiveComponent_data1, _msg_interactiveComponent_result, _msg_interactiveComponent_result1, _msg_interactiveComponent_data2, _msg_interactiveComponent_data3, _msg_interactiveComponent_data4, _msg_interactiveComponent_data5, _msg_interactiveComponent_data6, _msg_interactiveComponent_data7, _msg_interactiveComponent_result2, _msg_interactiveComponent_data8, _msg_interactiveComponent_data9, _msg_interactiveComponent_data10;\n                            // Use the stored processIndicator for visual continuity\n                            const hasProcessIndicator = msg.processIndicator;\n                            const isUserProcessMessage = hasProcessIndicator && msg.role === 'user' && hasProcessIndicator.type === 'continuing';\n                            const isAgentProcessMessage = hasProcessIndicator && msg.role === 'assistant' && hasProcessIndicator.type === 'waiting';\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1\",\n                                children: [\n                                    msg.role === 'user' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#007acc] \".concat(isUserProcessMessage ? 'border-l-4 border-[#0078d4] pl-3' : ''),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[#007acc]\",\n                                                children: \"$ user:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 697,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"ml-1 text-[#cccccc]\",\n                                                children: msg.content\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 698,\n                                                columnNumber: 21\n                                            }, this),\n                                            isUserProcessMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-[10px] text-[#0078d4] mt-1 opacity-80\",\n                                                children: [\n                                                    \"↳ Continuing \",\n                                                    (_msg_processIndicator = msg.processIndicator) === null || _msg_processIndicator === void 0 ? void 0 : (_msg_processIndicator_processType = _msg_processIndicator.processType) === null || _msg_processIndicator_processType === void 0 ? void 0 : _msg_processIndicator_processType.replace('-', ' '),\n                                                    \"...\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 700,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 696,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.role === 'assistant' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#4ec9b0] \".concat(isAgentProcessMessage ? 'border-l-4 border-[#4ec9b0] pl-3' : ''),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[#4ec9b0]\",\n                                                children: \"$ assistant:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 708,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"ml-1\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_markdownRenderer__WEBPACK_IMPORTED_MODULE_14__.MarkdownRenderer, {\n                                                    content: msg.content\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                    lineNumber: 710,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 709,\n                                                columnNumber: 21\n                                            }, this),\n                                            msg.interactiveComponent && (msg.interactiveComponent.status === 'pending' || msg.interactiveComponent.status === 'completed') && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-3 ml-1\",\n                                                children: [\n                                                    msg.interactiveComponent.type === 'project_selector' && !((_msg_interactiveComponent_data = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data === void 0 ? void 0 : _msg_interactiveComponent_data.projectNameInput) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_projectSelector__WEBPACK_IMPORTED_MODULE_16__.ProjectSelector, {\n                                                        fileDetails: (_msg_interactiveComponent_data1 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data1 === void 0 ? void 0 : _msg_interactiveComponent_data1.fileDetails,\n                                                        disabled: msg.interactiveComponent.status === 'completed',\n                                                        selectedProject: msg.interactiveComponent.status === 'completed' ? (_msg_interactiveComponent_result = msg.interactiveComponent.result) === null || _msg_interactiveComponent_result === void 0 ? void 0 : _msg_interactiveComponent_result.selectedProject : undefined,\n                                                        onProjectSelected: async (project)=>{\n                                                            try {\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        selectedProject: project\n                                                                    }\n                                                                });\n                                                                // Continue the file creation process\n                                                                const convexMutations = createConvexMutations();\n                                                                const fileCreatorAgent = agents.find((a)=>a.id === 'file-creator');\n                                                                if (fileCreatorAgent) {\n                                                                    var _result_trim;\n                                                                    // Simulate user input for project selection\n                                                                    const projectSelectionInput = \"Add it to \".concat(project.name);\n                                                                    // Send user message showing the selection\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: \"Selected project: \".concat(project.name),\n                                                                        sessionId: sessionId,\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'project_selection',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    // Execute the agent with the selection\n                                                                    console.log('🚀 Executing agent with project selection:', projectSelectionInput);\n                                                                    console.log('🔧 Agent details:', {\n                                                                        agentId: fileCreatorAgent.id,\n                                                                        toolId: fileCreatorAgent.tools[0].id,\n                                                                        toolName: fileCreatorAgent.tools[0].name,\n                                                                        convexMutationsAvailable: {\n                                                                            createFile: !!convexMutations.createFile,\n                                                                            getProjects: !!convexMutations.getProjects,\n                                                                            storeChatMessage: !!convexMutations.storeChatMessage\n                                                                        }\n                                                                    });\n                                                                    const result = await executeAgentTool(fileCreatorAgent.id, fileCreatorAgent.tools[0].id, projectSelectionInput, convexMutations, sessionId);\n                                                                    console.log('📥 Agent execution result:', result);\n                                                                    console.log('📏 Result length:', (result === null || result === void 0 ? void 0 : result.length) || 0);\n                                                                    console.log('📋 Result content preview:', result === null || result === void 0 ? void 0 : result.substring(0, 100));\n                                                                    console.log('🔍 Result type:', typeof result);\n                                                                    console.log('🎯 Is result truthy:', !!result);\n                                                                    console.log('🎯 Is result empty string:', result === \"\");\n                                                                    console.log('🎯 Result trimmed length:', (result === null || result === void 0 ? void 0 : (_result_trim = result.trim()) === null || _result_trim === void 0 ? void 0 : _result_trim.length) || 0);\n                                                                    // Only store non-empty results\n                                                                    if (result && result.trim() !== \"\") {\n                                                                        console.log('✅ Storing success message to chat...');\n                                                                        console.log('📋 Current session ID:', sessionId);\n                                                                        console.log('📋 Message content length:', result.length);\n                                                                        // Store the agent's response\n                                                                        const storedMessage = await storeChatMessage({\n                                                                            role: 'assistant',\n                                                                            content: result,\n                                                                            sessionId: sessionId,\n                                                                            processIndicator: {\n                                                                                type: 'waiting',\n                                                                                processType: 'file_creation_complete',\n                                                                                color: 'green'\n                                                                            }\n                                                                        });\n                                                                        console.log('✅ Success message stored to chat!');\n                                                                        console.log('📋 Stored message result:', storedMessage);\n                                                                        // Wait a moment and check if the message appears in the messages array\n                                                                        setTimeout(()=>{\n                                                                            var _messages__content, _messages_, _messages_1;\n                                                                            console.log('🔍 Messages after success storage:', {\n                                                                                totalMessages: (messages === null || messages === void 0 ? void 0 : messages.length) || 0,\n                                                                                lastMessage: (messages === null || messages === void 0 ? void 0 : (_messages_ = messages[messages.length - 1]) === null || _messages_ === void 0 ? void 0 : (_messages__content = _messages_.content) === null || _messages__content === void 0 ? void 0 : _messages__content.substring(0, 50)) + '...',\n                                                                                lastMessageRole: messages === null || messages === void 0 ? void 0 : (_messages_1 = messages[messages.length - 1]) === null || _messages_1 === void 0 ? void 0 : _messages_1.role,\n                                                                                sessionId: sessionId\n                                                                            });\n                                                                        }, 1000);\n                                                                    } else {\n                                                                        console.log('⚠️ Agent returned empty result after project selection');\n                                                                    }\n                                                                }\n                                                            } catch (error) {\n                                                                console.error('Error handling project selection:', error);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ Error processing project selection. Please try again.'\n                                                                });\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ File creation cancelled. You can start a new file creation request anytime.'\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling project selection:', error);\n                                                            }\n                                                        },\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 717,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    msg.interactiveComponent.type === 'file_selector' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_fileSelector__WEBPACK_IMPORTED_MODULE_12__.FileSelector, {\n                                                        disabled: msg.interactiveComponent.status === 'completed',\n                                                        selectedFile: msg.interactiveComponent.status === 'completed' ? (_msg_interactiveComponent_result1 = msg.interactiveComponent.result) === null || _msg_interactiveComponent_result1 === void 0 ? void 0 : _msg_interactiveComponent_result1.selectedFile : undefined,\n                                                        onFileSelected: async (file)=>{\n                                                            try {\n                                                                console.log('🔥 [FileSelector] File selected callback triggered:', file);\n                                                                // Use the file name for database storage but pass complete object to agent\n                                                                const filePath = file.name || file.path || file.id;\n                                                                console.log('🔥 [FileSelector] Updating interactive component status');\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        selectedFile: filePath\n                                                                    }\n                                                                });\n                                                                console.log('🔥 [FileSelector] Continuing the file selection process');\n                                                                // Continue the file selection process based on the active agent\n                                                                const convexMutations = createConvexMutations();\n                                                                const activeAgent = agents.find((a)=>a.id === activeAgentId);\n                                                                if (activeAgent && activeAgentId === 'director') {\n                                                                    console.log('🔥 [FileSelector] Found director agent, processing campaign instructions');\n                                                                    // Send user message showing the selection\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: \"Selected file: \".concat(file.name),\n                                                                        sessionId: sessionId,\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'file_selection',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    console.log('🔥 [FileSelector] Executing director agent with file selection');\n                                                                    try {\n                                                                        const result = await executeAgentTool(activeAgentId, activeAgent.tools[0].id, \"Selected file: \".concat(file.name), convexMutations, sessionId);\n                                                                        console.log('🔥 [FileSelector] Director agent execution result:', result);\n                                                                        // Store the director agent's response\n                                                                        await storeChatMessage({\n                                                                            role: 'assistant',\n                                                                            content: result,\n                                                                            sessionId,\n                                                                            operation: {\n                                                                                type: 'tool_executed',\n                                                                                details: {\n                                                                                    selectedFile: file.name,\n                                                                                    agentType: 'director'\n                                                                                }\n                                                                            }\n                                                                        });\n                                                                    } catch (error) {\n                                                                        console.error('❌ [FileSelector] Error executing director agent:', error);\n                                                                    }\n                                                                } else if (activeAgent && activeAgentId === 'editor') {\n                                                                    console.log('🔥 [FileSelector] Found editor agent, processing file edit');\n                                                                    // Send user message showing the selection\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: \"Selected file: \".concat(file.name),\n                                                                        sessionId: sessionId,\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'file_selection',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    console.log('🔥 [FileSelector] Calling handleFileSelected method');\n                                                                    // Call the editor agent's handleFileSelected method with complete file object\n                                                                    try {\n                                                                        const { editorAgent: actualEditorAgent } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/store/agents/editorAgent */ \"(app-pages-browser)/./store/agents/editorAgent.ts\"));\n                                                                        console.log('🔥 [FileSelector] Imported actual editor agent instance');\n                                                                        console.log('🔥 [FileSelector] Agent has handleFileSelected:', 'handleFileSelected' in actualEditorAgent);\n                                                                        if ('handleFileSelected' in actualEditorAgent) {\n                                                                            await actualEditorAgent.handleFileSelected(sessionId, file);\n                                                                            console.log('🔥 [FileSelector] handleFileSelected completed successfully');\n                                                                        } else {\n                                                                            console.error('❌ [FileSelector] handleFileSelected method not found on editor agent');\n                                                                        }\n                                                                    } catch (error) {\n                                                                        console.error('❌ [FileSelector] Error calling handleFileSelected:', error);\n                                                                    }\n                                                                    console.log('🔥 [FileSelector] Storing message with edit instructions input');\n                                                                    // Show edit instructions input component\n                                                                    await storeChatMessage({\n                                                                        role: 'assistant',\n                                                                        content: \"✅ **File Selected: \".concat(file.name, \"**\\n\\n\\uD83D\\uDCC4 **The file has been opened in the editor tab.**\"),\n                                                                        sessionId,\n                                                                        interactiveComponent: {\n                                                                            type: 'edit_instructions_input',\n                                                                            status: 'pending',\n                                                                            data: {\n                                                                                fileName: file.name,\n                                                                                placeholder: 'Describe what changes you want to make to this file...',\n                                                                                examples: [\n                                                                                    'Add a section about best practices',\n                                                                                    'Update the pricing information',\n                                                                                    'Make the tone more professional',\n                                                                                    'Fix any grammar or spelling errors',\n                                                                                    'Add examples and code snippets'\n                                                                                ]\n                                                                            }\n                                                                        }\n                                                                    });\n                                                                }\n                                                            } catch (error) {\n                                                                console.error('Error handling file selection:', error);\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ File editing cancelled. You can start a new edit request anytime.',\n                                                                    sessionId\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling file selection:', error);\n                                                            }\n                                                        },\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 839,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    msg.interactiveComponent.type === 'edit_instructions_input' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_editInstructionsInput__WEBPACK_IMPORTED_MODULE_10__.EditInstructionsInput, {\n                                                        placeholder: (_msg_interactiveComponent_data2 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data2 === void 0 ? void 0 : _msg_interactiveComponent_data2.placeholder,\n                                                        fileName: (_msg_interactiveComponent_data3 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data3 === void 0 ? void 0 : _msg_interactiveComponent_data3.fileName,\n                                                        examples: (_msg_interactiveComponent_data4 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data4 === void 0 ? void 0 : _msg_interactiveComponent_data4.examples,\n                                                        onInstructionsSubmitted: async (instructions)=>{\n                                                            try {\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        instructions\n                                                                    }\n                                                                });\n                                                                // Send user message showing the edit instructions\n                                                                await storeChatMessage({\n                                                                    role: 'user',\n                                                                    content: instructions,\n                                                                    sessionId: sessionId,\n                                                                    processIndicator: {\n                                                                        type: 'continuing',\n                                                                        processType: 'edit_instructions',\n                                                                        color: 'blue'\n                                                                    }\n                                                                });\n                                                                // Continue the editing process using agent registry\n                                                                const convexMutations = createConvexMutations();\n                                                                const result = await executeAgentTool('editor', 'edit-file', instructions, convexMutations, sessionId);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: result,\n                                                                    sessionId: sessionId\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error processing edit instructions:', error);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: \"❌ **Error processing edit instructions**\\n\\n\".concat(error instanceof Error ? error.message : 'Unknown error occurred'),\n                                                                    sessionId: sessionId\n                                                                });\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ Edit instructions cancelled. You can start a new edit request anytime.',\n                                                                    sessionId\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling edit instructions:', error);\n                                                            }\n                                                        },\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 984,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    msg.interactiveComponent.type === 'project_selector' && ((_msg_interactiveComponent_data5 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data5 === void 0 ? void 0 : _msg_interactiveComponent_data5.projectNameInput) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_projectNameInput__WEBPACK_IMPORTED_MODULE_15__.ProjectNameInput, {\n                                                        placeholder: (_msg_interactiveComponent_data6 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data6 === void 0 ? void 0 : _msg_interactiveComponent_data6.placeholder,\n                                                        defaultValue: (_msg_interactiveComponent_data7 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data7 === void 0 ? void 0 : _msg_interactiveComponent_data7.defaultValue,\n                                                        onProjectNameSubmitted: async (projectName)=>{\n                                                            try {\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        projectName\n                                                                    }\n                                                                });\n                                                                // Continue the project creation process\n                                                                const convexMutations = createConvexMutations();\n                                                                const projectCreatorAgent = agents.find((a)=>a.id === 'project-creator');\n                                                                if (projectCreatorAgent) {\n                                                                    // Send user message showing the project name\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: \"Project name: \".concat(projectName),\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'project_name_input',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    // Execute the agent with the project name\n                                                                    console.log('🚀 Executing agent with project name:', projectName);\n                                                                    const result = await executeAgentTool(projectCreatorAgent.id, projectCreatorAgent.tools[0].id, projectName, convexMutations);\n                                                                    console.log('📥 Agent execution result:', result);\n                                                                    // Only store non-empty results\n                                                                    if (result && result.trim() !== \"\") {\n                                                                        console.log('✅ Storing project creation success message...');\n                                                                        // Store the agent's response\n                                                                        await storeChatMessage({\n                                                                            role: 'assistant',\n                                                                            content: result,\n                                                                            sessionId: sessionId,\n                                                                            processIndicator: {\n                                                                                type: 'waiting',\n                                                                                processType: 'project_creation_complete',\n                                                                                color: 'green'\n                                                                            }\n                                                                        });\n                                                                        console.log('✅ Project creation success message stored!');\n                                                                    } else {\n                                                                        console.log('⚠️ Agent returned empty result after project name input');\n                                                                    }\n                                                                }\n                                                            } catch (error) {\n                                                                console.error('Error handling project name input:', error);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ Error processing project name. Please try again.'\n                                                                });\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ Project creation cancelled. You can start a new project creation request anytime.'\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling project name input:', error);\n                                                            }\n                                                        },\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 1053,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    msg.interactiveComponent.type === 'file_type_selector' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_fileTypeSelector__WEBPACK_IMPORTED_MODULE_13__.FileTypeSelector, {\n                                                        onFileTypeSelected: async (fileType)=>{\n                                                            try {\n                                                                // Create a serializable version of the fileType without React components\n                                                                const serializableFileType = {\n                                                                    type: fileType.type,\n                                                                    extension: fileType.extension,\n                                                                    description: fileType.description,\n                                                                    platform: fileType.platform,\n                                                                    available: fileType.available\n                                                                };\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        fileType: serializableFileType\n                                                                    }\n                                                                });\n                                                                // Continue the file creation process\n                                                                const convexMutations = createConvexMutations();\n                                                                const fileCreatorAgent = agents.find((a)=>a.id === 'file-creator');\n                                                                if (fileCreatorAgent) {\n                                                                    // Send user message showing the file type selection\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: \"Selected file type: \".concat(fileType.description),\n                                                                        sessionId: sessionId,\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'file_type_selection',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    // Execute the agent with the file type selection\n                                                                    console.log('🚀 Executing file creator agent with file type:', fileType);\n                                                                    const result = await executeAgentTool(fileCreatorAgent.id, fileCreatorAgent.tools[0].id, \"File type: \".concat(fileType.type), convexMutations);\n                                                                    console.log('📥 File creator agent result:', result);\n                                                                    // Only store non-empty results\n                                                                    if (result && result.trim() !== \"\") {\n                                                                        console.log('✅ Storing file type continuation message...');\n                                                                        // Store the agent's response\n                                                                        await storeChatMessage({\n                                                                            role: 'assistant',\n                                                                            content: result,\n                                                                            sessionId: sessionId,\n                                                                            processIndicator: {\n                                                                                type: 'waiting',\n                                                                                processType: 'file_type_continue',\n                                                                                color: 'green'\n                                                                            }\n                                                                        });\n                                                                        console.log('✅ File type continuation message stored!');\n                                                                    } else {\n                                                                        console.log('⚠️ Agent returned empty result after file type selection');\n                                                                    }\n                                                                }\n                                                            } catch (error) {\n                                                                console.error('Error handling file type selection:', error);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ Error processing file type selection. Please try again.',\n                                                                    sessionId: sessionId\n                                                                });\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ File creation cancelled. You can start a new file creation request anytime.',\n                                                                    sessionId\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling file type selection:', error);\n                                                            }\n                                                        },\n                                                        disabled: msg.interactiveComponent.status === 'completed',\n                                                        selectedFileType: msg.interactiveComponent.status === 'completed' ? (_msg_interactiveComponent_result2 = msg.interactiveComponent.result) === null || _msg_interactiveComponent_result2 === void 0 ? void 0 : _msg_interactiveComponent_result2.fileType : undefined,\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 1139,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    msg.interactiveComponent.type === 'file_name_input' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_fileNameInput__WEBPACK_IMPORTED_MODULE_11__.FileNameInput, {\n                                                        placeholder: (_msg_interactiveComponent_data8 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data8 === void 0 ? void 0 : _msg_interactiveComponent_data8.placeholder,\n                                                        defaultValue: (_msg_interactiveComponent_data9 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data9 === void 0 ? void 0 : _msg_interactiveComponent_data9.defaultValue,\n                                                        fileType: (_msg_interactiveComponent_data10 = msg.interactiveComponent.data) === null || _msg_interactiveComponent_data10 === void 0 ? void 0 : _msg_interactiveComponent_data10.fileType,\n                                                        onFileNameSubmitted: async (fileName)=>{\n                                                            try {\n                                                                // Update the component status to completed\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'completed',\n                                                                    result: {\n                                                                        fileName\n                                                                    }\n                                                                });\n                                                                // Continue the file creation process\n                                                                const convexMutations = createConvexMutations();\n                                                                const fileCreatorAgent = agents.find((a)=>a.id === 'file-creator');\n                                                                if (fileCreatorAgent) {\n                                                                    // Execute the agent with the file name FIRST\n                                                                    console.log('🚀 Executing file creator agent with file name:', fileName);\n                                                                    const result = await executeAgentTool(fileCreatorAgent.id, fileCreatorAgent.tools[0].id, fileName, convexMutations);\n                                                                    // THEN send user message showing the file name (after agent processes it)\n                                                                    await storeChatMessage({\n                                                                        role: 'user',\n                                                                        content: fileName,\n                                                                        sessionId: sessionId,\n                                                                        processIndicator: {\n                                                                            type: 'continuing',\n                                                                            processType: 'file_name_input',\n                                                                            color: 'blue'\n                                                                        }\n                                                                    });\n                                                                    console.log('📥 File creator agent result:', result);\n                                                                    // Only store non-empty results\n                                                                    if (result && result.trim() !== \"\") {\n                                                                        console.log('✅ Storing file creation continuation message...');\n                                                                        // Store the agent's response\n                                                                        await storeChatMessage({\n                                                                            role: 'assistant',\n                                                                            content: result,\n                                                                            sessionId: sessionId,\n                                                                            processIndicator: {\n                                                                                type: 'waiting',\n                                                                                processType: 'file_creation_continue',\n                                                                                color: 'green'\n                                                                            }\n                                                                        });\n                                                                        console.log('✅ File creation continuation message stored!');\n                                                                    } else {\n                                                                        console.log('⚠️ Agent returned empty result after file name input');\n                                                                    }\n                                                                }\n                                                            } catch (error) {\n                                                                console.error('Error handling file name input:', error);\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ Error processing file name. Please try again.',\n                                                                    sessionId: sessionId\n                                                                });\n                                                            }\n                                                        },\n                                                        onCancel: async ()=>{\n                                                            try {\n                                                                await updateInteractiveComponent({\n                                                                    messageId: msg._id,\n                                                                    status: 'cancelled'\n                                                                });\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: '❌ File creation cancelled. You can start a new file creation request anytime.',\n                                                                    sessionId\n                                                                });\n                                                            } catch (error) {\n                                                                console.error('Error cancelling file name input:', error);\n                                                            }\n                                                        },\n                                                        className: \"mb-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 1237,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 715,\n                                                columnNumber: 23\n                                            }, this),\n                                            isAgentProcessMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-[10px] mt-1 opacity-80\",\n                                                children: (()=>{\n                                                    // Check for successful file creation with specific file info\n                                                    if (msg.content.includes(\"The comprehensive instruction document has been created and saved to your files.\")) {\n                                                        // Extract filename from the message\n                                                        const fileMatch = msg.content.match(/📄 \\*\\*File:\\*\\* `([^`]+)`/);\n                                                        const fileName = fileMatch ? fileMatch[1] : null;\n                                                        if (fileName) {\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: ()=>{\n                                                                    const { projectFiles } = _store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore.getState();\n                                                                    const file = projectFiles.find((f)=>f.name === fileName);\n                                                                    if (file) {\n                                                                        _store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore.getState().openTab(file);\n                                                                    }\n                                                                },\n                                                                className: \"text-[#007acc] hover:text-[#4ec9b0] hover:underline cursor-pointer transition-colors\",\n                                                                children: \"↳ Click here to view your file...\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                                lineNumber: 1340,\n                                                                columnNumber: 33\n                                                            }, this);\n                                                        }\n                                                    }\n                                                    // Check for CMO report generation success\n                                                    if (msg.content.includes(\"CMO_REPORT_GENERATED_SUCCESS:\")) {\n                                                        const fileMatch = msg.content.match(/CMO_REPORT_GENERATED_SUCCESS:\\s*(.+)$/);\n                                                        const fileName = fileMatch ? fileMatch[1].trim() : null;\n                                                        if (fileName) {\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: ()=>{\n                                                                    const { projectFiles } = _store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore.getState();\n                                                                    const file = projectFiles.find((f)=>f.name === fileName);\n                                                                    if (file) {\n                                                                        _store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore.getState().openTab(file);\n                                                                    }\n                                                                },\n                                                                className: \"flex items-center gap-1 text-[#007acc] hover:text-[#4ec9b0] hover:underline cursor-pointer transition-colors text-xs\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"transform rotate-90\",\n                                                                        children: \"↳\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                                        lineNumber: 1373,\n                                                                        columnNumber: 35\n                                                                    }, this),\n                                                                    \"Open Instructions File Tab\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                                lineNumber: 1363,\n                                                                columnNumber: 33\n                                                            }, this);\n                                                        }\n                                                    }\n                                                    // Check for CMO report that needs manual save\n                                                    if (msg.content.includes(\"CMO_REPORT_MANUAL_SAVE_NEEDED:\")) {\n                                                        const fileMatch = msg.content.match(/CMO_REPORT_MANUAL_SAVE_NEEDED:\\s*(.+)$/);\n                                                        const fileName = fileMatch ? fileMatch[1].trim() : null;\n                                                        if (fileName) {\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: async ()=>{\n                                                                    try {\n                                                                        const convexMutations = createConvexMutations();\n                                                                        // Use the same report content from the message to create instruction file\n                                                                        const reportMatch = msg.content.match(/📋 \\*\\*Marketing Campaign Report Generated\\*\\*([\\s\\S]*?)⚠️ \\*\\*Note:/);\n                                                                        const reportContent = reportMatch ? reportMatch[1].trim() : 'Marketing Campaign Report';\n                                                                        // Execute the instructions agent to create the file\n                                                                        await executeAgentTool('instructions', 'natural-language-instructions', 'Create marketing campaign instruction file named \"'.concat(fileName, '\" with the campaign strategy report that was just generated'), convexMutations);\n                                                                    } catch (error) {\n                                                                        console.error('Error creating instruction file:', error);\n                                                                    }\n                                                                },\n                                                                className: \"flex items-center gap-1 text-[#007acc] hover:text-[#4ec9b0] hover:underline cursor-pointer transition-colors text-xs\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"transform rotate-90\",\n                                                                        children: \"↳\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                                        lineNumber: 1408,\n                                                                        columnNumber: 35\n                                                                    }, this),\n                                                                    \"Create an Instruction File Here\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                                lineNumber: 1387,\n                                                                columnNumber: 33\n                                                            }, this);\n                                                        }\n                                                    }\n                                                    // Check for other success indicators\n                                                    if (msg.content.includes(\"✅ **File Created Successfully!**\") || msg.content.includes(\"✅ **Project Created Successfully!**\") || msg.content.includes(\"✅ **Template Applied Successfully!**\")) {\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-[#4ec9b0]\",\n                                                            children: \"↳ Process completed successfully!\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                            lineNumber: 1419,\n                                                            columnNumber: 36\n                                                        }, this);\n                                                    }\n                                                    // Default waiting message\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-[#4ec9b0]\",\n                                                        children: \"↳ Agent waiting for your input...\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                        lineNumber: 1423,\n                                                        columnNumber: 34\n                                                    }, this);\n                                                })()\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 1330,\n                                                columnNumber: 23\n                                            }, this),\n                                            (()=>{\n                                                const shouldShow = activeAgentId === 'cmo' && msg.role === 'assistant';\n                                                console.log('🔍 Button condition check:', {\n                                                    activeAgentId,\n                                                    msgRole: msg.role,\n                                                    shouldShow,\n                                                    msgContent: msg.content.substring(0, 50)\n                                                });\n                                                return shouldShow;\n                                            })() && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-2 ml-1\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: async ()=>{\n                                                        try {\n                                                            // Extract key information from the Campaign Director's response\n                                                            const content = msg.content;\n                                                            // Generate a descriptive filename based on content\n                                                            let fileName = \"campaign-strategy\";\n                                                            // Try to extract campaign name or type from content\n                                                            const titleMatch = content.match(/(?:^|\\n)#\\s*(.+)$/m);\n                                                            if (titleMatch) {\n                                                                const title = titleMatch[1].trim().toLowerCase().replace(/[^a-z0-9\\s]/g, '').replace(/\\s+/g, '-').substring(0, 50);\n                                                                fileName = title || fileName;\n                                                            }\n                                                            // Add timestamp to ensure uniqueness\n                                                            const timestamp = new Date().toISOString().split('T')[0];\n                                                            const finalFileName = \"\".concat(fileName, \"-\").concat(timestamp);\n                                                            // Format the content as a nice instruction document\n                                                            const instructionContent = \"# Campaign Strategy Instructions\\n\\nThis instruction document was generated from a Campaign Strategy response.\\n\\n---\\n\\n\".concat(content, \"\\n\\n---\\n\\n**Generated:** \").concat(new Date().toLocaleString(), \"\\n**Source:** Campaign Strategy Agent\");\n                                                            // Create the instruction file directly\n                                                            await createInstruction({\n                                                                name: finalFileName,\n                                                                content: instructionContent,\n                                                                topic: \"Campaign Strategy\",\n                                                                audience: \"Marketing Team\"\n                                                            });\n                                                            console.log('✅ Instruction file created successfully:', finalFileName);\n                                                            // Show success feedback\n                                                            const successMessage = \"✅ **Instruction File Created!**\\n\\n\\uD83D\\uDCC4 **File:** `\".concat(finalFileName, \".md`\\n\\uD83C\\uDFAF **Topic:** Campaign Strategy\\n\\uD83D\\uDCC1 **Location:** Instructions Project\\n\\nThe campaign strategy has been saved as an instruction file for future reference.\");\n                                                            // Add success message to chat\n                                                            if (storeChatMessage && sessionId) {\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: successMessage,\n                                                                    sessionId: sessionId\n                                                                });\n                                                            }\n                                                        } catch (error) {\n                                                            console.error('Error creating instruction file:', error);\n                                                            // Show error feedback\n                                                            const errorMessage = \"❌ **Failed to Create Instruction File**\\n\\nThere was an error saving the campaign strategy as an instruction file. Please try again or contact support if the issue persists.\";\n                                                            if (storeChatMessage && sessionId) {\n                                                                await storeChatMessage({\n                                                                    role: 'assistant',\n                                                                    content: errorMessage,\n                                                                    sessionId: sessionId\n                                                                });\n                                                            }\n                                                        }\n                                                    },\n                                                    className: \"flex items-center gap-1 text-[#007acc] hover:text-[#4ec9b0] hover:underline cursor-pointer transition-colors text-xs opacity-60 hover:opacity-100\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"transform rotate-90\",\n                                                            children: \"↳\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                            lineNumber: 1516,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        \"Create an Instruction File Here\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                    lineNumber: 1440,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 1439,\n                                                columnNumber: 23\n                                            }, this),\n                                            (msg.content.includes('CMO_REPORT_GENERATED_SUCCESS') || msg.content.includes('CMO_REPORT_MANUAL_SAVE_NEEDED')) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-2 ml-1\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: async ()=>{\n                                                        try {\n                                                            const convexMutations = createConvexMutations();\n                                                            // Create a descriptive prompt from the assistant's response\n                                                            const responseContent = msg.content.substring(0, 200).trim();\n                                                            const prompt = 'Create instruction file from this CMO agent response: \"'.concat(responseContent).concat(msg.content.length > 200 ? '...' : '', '\"');\n                                                            // Execute the instructions agent to create the file\n                                                            await executeAgentTool('instructions', 'generate-instructions', prompt, convexMutations);\n                                                        } catch (error) {\n                                                            console.error('Error creating instruction file:', error);\n                                                        }\n                                                    },\n                                                    className: \"flex items-center gap-1 text-[#007acc] hover:text-[#4ec9b0] hover:underline cursor-pointer transition-colors text-xs opacity-60 hover:opacity-100\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"transform rotate-90\",\n                                                            children: \"↳\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                            lineNumber: 1547,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        \"Create an Instruction File Here\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                    lineNumber: 1525,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 1524,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 707,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.role === 'thinking' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#d4d4aa]\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-[#d4d4aa]\",\n                                                children: \"\\uD83E\\uDDE0 thinking:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 1556,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"ml-1 text-[#cccccc] whitespace-pre-wrap text-xs font-mono italic\",\n                                                children: msg.content\n                                            }, void 0, false, {\n                                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                                lineNumber: 1557,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1555,\n                                        columnNumber: 19\n                                    }, this),\n                                    msg.role === 'terminal' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[#858585]\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-[#585858] whitespace-pre-wrap bg-[#1a1a1a] p-1 rounded text-[10px] border-l-2 border-[#333]\",\n                                            children: msg.content\n                                        }, void 0, false, {\n                                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                            lineNumber: 1564,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1563,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, index, true, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 694,\n                                columnNumber: 15\n                            }, this);\n                        }),\n                        isStreamingThinking && streamingThinking && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-1\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-[#d4d4aa]\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[#d4d4aa]\",\n                                        children: \"\\uD83E\\uDDE0 thinking:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1577,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"ml-1 text-[#cccccc] whitespace-pre-wrap text-xs font-mono italic\",\n                                        children: streamingThinking\n                                    }, void 0, false, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1578,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 1576,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 1575,\n                            columnNumber: 13\n                        }, this),\n                        isLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-[#4ec9b0]\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-[#4ec9b0]\",\n                                    children: \"\\uD83E\\uDD16 assistant:\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 1588,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"ml-1 text-[#858585]\",\n                                    children: \"thinking...\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 1589,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 1587,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                    lineNumber: 662,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                lineNumber: 658,\n                columnNumber: 7\n            }, this),\n            agentProgress && agentProgress.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-[#0e0e0e] p-2 font-mono text-xs flex-shrink-0\",\n                children: agentProgress.map((progress)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-2 last:mb-0\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between mb-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[#007acc] text-xs\",\n                                        children: [\n                                            \"\\uD83E\\uDD16 \",\n                                            progress.agentType,\n                                            \" Agent\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1601,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-[#858585] text-xs\",\n                                        children: [\n                                            progress.percentage,\n                                            \"%\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                        lineNumber: 1604,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 1600,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-64 bg-[#333] rounded-full h-1.5 relative overflow-hidden\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-[#007acc] h-1.5 rounded-full transition-all duration-300 absolute left-0 top-0\",\n                                    style: {\n                                        width: \"\".concat(Math.min(100, Math.max(0, progress.percentage)), \"%\")\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                    lineNumber: 1609,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 1608,\n                                columnNumber: 15\n                            }, this),\n                            progress.status && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-[#858585] text-xs mt-1\",\n                                children: progress.status\n                            }, void 0, false, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 1615,\n                                columnNumber: 17\n                            }, this)\n                        ]\n                    }, progress._id, true, {\n                        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                        lineNumber: 1599,\n                        columnNumber: 13\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                lineNumber: 1597,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-[#0e0e0e] p-2 font-mono text-xs flex-shrink-0\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-[#007acc]\",\n                            children: \"$ user:\"\n                        }, void 0, false, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 1627,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                            onSubmit: handleSubmit,\n                            className: \"flex-1 ml-1\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                ref: inputRef,\n                                type: \"text\",\n                                value: message,\n                                onChange: handleInputChange,\n                                onKeyDown: handleKeyDown,\n                                placeholder: isAtSessionLimit ? \"Session limit reached - Start new session to continue...\" : isLoading ? \"AI is thinking...\" : \"Ask about your EAC project...\",\n                                disabled: isLoading || isAtSessionLimit,\n                                className: \"w-full bg-transparent border-none outline-none placeholder:text-[#858585] disabled:opacity-50 disabled:cursor-not-allowed caret-[#cccccc] \".concat(isAtSessionLimit ? 'text-[#f48771]' : 'text-[#cccccc]')\n                            }, void 0, false, {\n                                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                                lineNumber: 1629,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                            lineNumber: 1628,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                    lineNumber: 1626,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n                lineNumber: 1625,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/matthewsimon/Projects/eac/eac/app/_components/terminal/_components/chatMessages.tsx\",\n        lineNumber: 657,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatMessages, \"Vs45R8fQWCEFeqD5uu3KELg5XnQ=\", false, function() {\n    return [\n        _clerk_nextjs__WEBPACK_IMPORTED_MODULE_17__.useUser,\n        _store_terminal_chat__WEBPACK_IMPORTED_MODULE_6__.useChatStore,\n        _store_terminal_session__WEBPACK_IMPORTED_MODULE_7__.useSessionStore,\n        _lib_hooks_useChat__WEBPACK_IMPORTED_MODULE_2__.useChat,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery,\n        _lib_hooks_useMCP__WEBPACK_IMPORTED_MODULE_4__.useMCP,\n        _store__WEBPACK_IMPORTED_MODULE_5__.useAgentStore,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useAction,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useMutation,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery,\n        convex_react__WEBPACK_IMPORTED_MODULE_8__.useQuery,\n        _lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructionContext,\n        _lib_hooks_useInstructions__WEBPACK_IMPORTED_MODULE_3__.useInstructions,\n        _store__WEBPACK_IMPORTED_MODULE_5__.useEditorStore\n    ];\n});\n_c = ChatMessages;\nvar _c;\n$RefreshReg$(_c, \"ChatMessages\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9fY29tcG9uZW50cy90ZXJtaW5hbC9fY29tcG9uZW50cy9jaGF0TWVzc2FnZXMudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEseURBQXlEO0FBQ3pELDZGQUE2Rjs7O0FBSS9DO0FBQ0E7QUFDdUM7QUFDekM7QUFDWTtBQUNIO0FBQ007QUFDbkI7QUFDd0I7QUFDTDtBQUNLO0FBQ2hCO0FBQ0Y7QUFDUTtBQUNBO0FBQ0E7QUFDRjtBQUU3QyxTQUFTd0I7O0lBQ2QsTUFBTUMsWUFBWVYsNkNBQU1BLENBQWlCO0lBQ3pDLE1BQU1XLFdBQVdYLDZDQUFNQSxDQUFtQjtJQUMxQyxNQUFNWSxzQkFBc0JaLDZDQUFNQSxDQUFjLElBQUlhO0lBQ3BELE1BQU0sQ0FBQ0MsU0FBU0MsV0FBVyxHQUFHZCwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNlLG9CQUFvQkMsc0JBQXNCLEdBQUdoQiwrQ0FBUUEsQ0FJbEQ7SUFFViwrQ0FBK0M7SUFDL0NGLGdEQUFTQTtrQ0FBQztZQUNSbUIsUUFBUUMsR0FBRyxDQUFDLCtCQUErQkg7UUFDN0M7aUNBQUc7UUFBQ0E7S0FBbUI7SUFHdkIsTUFBTSxFQUFFSSxJQUFJLEVBQUVDLFFBQVEsRUFBRSxHQUFHM0IsdURBQU9BO0lBQ2xDLE1BQU0sRUFBRTRCLHFCQUFxQixFQUFFQyxtQkFBbUIsRUFBRUMsWUFBWSxFQUFFLEdBQUdoQyxrRUFBWUE7SUFDakYsTUFBTSxFQUFFaUMsZUFBZSxFQUFFLEdBQUdoQyx3RUFBZUE7SUFDM0MsTUFBTSxFQUNKaUMsUUFBUSxFQUNSQyxXQUFXQyxXQUFXLEVBQ3RCQyxXQUFXLEVBQ1hDLHdCQUF3QixFQUN4QkMsU0FBUyxFQUNUQyxnQkFBZ0IsRUFDaEJULHFCQUFxQlUsbUJBQW1CLEVBQ3hDQyxpQkFBaUIsRUFDakJDLG1CQUFtQixFQUNuQkMsWUFBWSxFQUNaQyxrQkFBa0IsRUFDbEJDLGdCQUFnQixFQUNoQkMsY0FB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bUIsbUJBQW1COzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUXREO0dBNWxEZ0I3Qjs7UUFpQmFmLG1EQUFPQTtRQUNtQ0YsOERBQVlBO1FBQ3JEQyxvRUFBZUE7UUFpQnZDUCx1REFBT0E7UUFHV1csa0RBQVFBO1FBTzFCUixxREFBTUE7UUFHMERDLGlEQUFhQTtRQUN2RE0scURBQVdBO1FBQ0hBLHFEQUFXQTtRQUMxQkEscURBQVdBO1FBQ1RBLHFEQUFXQTtRQUNFQSxxREFBV0E7UUFDdkJBLHFEQUFXQTtRQUNkQSxxREFBV0E7UUFDTkMsa0RBQVFBO1FBQ0dELHFEQUFXQTtRQUN2QkQsbURBQVNBO1FBQ05DLHFEQUFXQTtRQUNwQkMsa0RBQVFBO1FBQ0xBLGtEQUFRQTtRQUNEViw2RUFBcUJBO1FBQ0xDLHVFQUFlQTtRQUNoQ0csa0RBQWNBOzs7S0FqRTFCa0IiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXR0aGV3c2ltb24vUHJvamVjdHMvZWFjL2VhYy9hcHAvX2NvbXBvbmVudHMvdGVybWluYWwvX2NvbXBvbmVudHMvY2hhdE1lc3NhZ2VzLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTaW1wbGlmaWVkIENoYXQgTWVzc2FnZXMgQ29tcG9uZW50IC0gTm8gU2xhc2ggQ29tbWFuZHNcbi8vIC9Vc2Vycy9tYXR0aGV3c2ltb24vUHJvamVjdHMvZWFjL2VhYy9hcHAvX2NvbXBvbmVudHMvdGVybWluYWwvX2NvbXBvbmVudHMvY2hhdE1lc3NhZ2VzLnRzeFxuXG5cInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgYXBpIH0gZnJvbSBcIkAvY29udmV4L19nZW5lcmF0ZWQvYXBpXCI7XG5pbXBvcnQgeyB1c2VDaGF0IH0gZnJvbSBcIkAvbGliL2hvb2tzL3VzZUNoYXRcIjtcbmltcG9ydCB7IHVzZUluc3RydWN0aW9uQ29udGV4dCwgdXNlSW5zdHJ1Y3Rpb25zIH0gZnJvbSBcIkAvbGliL2hvb2tzL3VzZUluc3RydWN0aW9uc1wiO1xuaW1wb3J0IHsgdXNlTUNQIH0gZnJvbSBcIkAvbGliL2hvb2tzL3VzZU1DUFwiO1xuaW1wb3J0IHsgdXNlQWdlbnRTdG9yZSwgdXNlRWRpdG9yU3RvcmUgfSBmcm9tIFwiQC9zdG9yZVwiO1xuaW1wb3J0IHsgdXNlQ2hhdFN0b3JlIH0gZnJvbSBcIkAvc3RvcmUvdGVybWluYWwvY2hhdFwiO1xuaW1wb3J0IHsgdXNlU2Vzc2lvblN0b3JlIH0gZnJvbSBcIkAvc3RvcmUvdGVybWluYWwvc2Vzc2lvblwiO1xuaW1wb3J0IHsgdXNlVXNlciB9IGZyb20gXCJAY2xlcmsvbmV4dGpzXCI7XG5pbXBvcnQgeyB1c2VBY3Rpb24sIHVzZU11dGF0aW9uLCB1c2VRdWVyeSB9IGZyb20gXCJjb252ZXgvcmVhY3RcIjtcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEVkaXRJbnN0cnVjdGlvbnNJbnB1dCB9IGZyb20gXCIuL2VkaXRJbnN0cnVjdGlvbnNJbnB1dFwiO1xuaW1wb3J0IHsgRmlsZU5hbWVJbnB1dCB9IGZyb20gXCIuL2ZpbGVOYW1lSW5wdXRcIjtcbmltcG9ydCB7IEZpbGVTZWxlY3RvciB9IGZyb20gXCIuL2ZpbGVTZWxlY3RvclwiO1xuaW1wb3J0IHsgRmlsZVR5cGVTZWxlY3RvciB9IGZyb20gXCIuL2ZpbGVUeXBlU2VsZWN0b3JcIjtcbmltcG9ydCB7IE1hcmtkb3duUmVuZGVyZXIgfSBmcm9tIFwiLi9tYXJrZG93blJlbmRlcmVyXCI7XG5pbXBvcnQgeyBQcm9qZWN0TmFtZUlucHV0IH0gZnJvbSBcIi4vcHJvamVjdE5hbWVJbnB1dFwiO1xuaW1wb3J0IHsgUHJvamVjdFNlbGVjdG9yIH0gZnJvbSBcIi4vcHJvamVjdFNlbGVjdG9yXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBDaGF0TWVzc2FnZXMoKSB7XG4gIGNvbnN0IHNjcm9sbFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IGlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBwcm9jZXNzZWRPcGVyYXRpb25zID0gdXNlUmVmPFNldDxzdHJpbmc+PihuZXcgU2V0KCkpO1xuICBjb25zdCBbbWVzc2FnZSwgc2V0TWVzc2FnZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2FjdGl2ZUFnZW50UHJvY2Vzcywgc2V0QWN0aXZlQWdlbnRQcm9jZXNzXSA9IHVzZVN0YXRlPHtcbiAgICBhZ2VudElkOiBzdHJpbmc7XG4gICAgcHJvY2Vzc1R5cGU6IHN0cmluZztcbiAgICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgfSB8IG51bGw+KG51bGwpO1xuXG4gIC8vIERlYnVnIGxvZ2dpbmcgZm9yIGFjdGl2ZUFnZW50UHJvY2VzcyBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ2FjdGl2ZUFnZW50UHJvY2VzcyBjaGFuZ2VkOicsIGFjdGl2ZUFnZW50UHJvY2Vzcyk7XG4gIH0sIFthY3RpdmVBZ2VudFByb2Nlc3NdKTtcblxuICBcbiAgY29uc3QgeyB1c2VyLCBpc0xvYWRlZCB9ID0gdXNlVXNlcigpO1xuICBjb25zdCB7IGluaXRpYWxpemVVc2VyU2Vzc2lvbiwgYWRkVGVybWluYWxGZWVkYmFjaywgc2V0U2Vzc2lvbklkIH0gPSB1c2VDaGF0U3RvcmUoKTtcbiAgY29uc3QgeyBhY3RpdmVTZXNzaW9uSWQgfSA9IHVzZVNlc3Npb25TdG9yZSgpO1xuICBjb25zdCB7IFxuICAgIG1lc3NhZ2VzLCBcbiAgICBpc0xvYWRpbmc6IGNoYXRMb2FkaW5nLCBcbiAgICBzZW5kTWVzc2FnZSwgXG4gICAgc2VuZE1lc3NhZ2VXaXRoU3RyZWFtaW5nLFxuICAgIHNlc3Npb25JZCwgXG4gICAgc3RvcmVDaGF0TWVzc2FnZSwgXG4gICAgYWRkVGVybWluYWxGZWVkYmFjazogdXNlVGVybWluYWxGZWVkYmFjayxcbiAgICBzdHJlYW1pbmdUaGlua2luZyxcbiAgICBpc1N0cmVhbWluZ1RoaW5raW5nLFxuICAgIG1lc3NhZ2VDb3VudCxcbiAgICBpc05lYXJTZXNzaW9uTGltaXQsXG4gICAgaXNBdFNlc3Npb25MaW1pdCxcbiAgICBjYW5BZGRNZXNzYWdlcyxcbiAgICBnZXRTZXNzaW9uU3RhdHVzLFxuICAgIHN0YXJ0TmV3U2Vzc2lvblxuICB9ID0gdXNlQ2hhdCgpO1xuICBcbiAgLy8gUXVlcnkgZm9yIGFnZW50IHByb2dyZXNzXG4gIGNvbnN0IGFnZW50UHJvZ3Jlc3MgPSB1c2VRdWVyeShhcGkuY2hhdC5nZXRBZ2VudFByb2dyZXNzLCB7IHNlc3Npb25JZCB9KTtcbiAgY29uc3Qge1xuICAgIGlzQ29ubmVjdGVkOiBtY3BDb25uZWN0ZWQsXG4gICAgaXNMb2FkaW5nOiBtY3BMb2FkaW5nLFxuICAgIGVycm9yOiBtY3BFcnJvcixcbiAgICBhdmFpbGFibGVUb29scyxcbiAgICBwcm9jZXNzTmF0dXJhbExhbmd1YWdlLFxuICB9ID0gdXNlTUNQKCk7XG4gIFxuICAvLyBBZ2VudCBleGVjdXRpb24gYW5kIG11dGF0aW9uc1xuICBjb25zdCB7IGFnZW50cywgYWN0aXZlQWdlbnRJZCwgc2V0QWN0aXZlQWdlbnQsIGV4ZWN1dGVBZ2VudFRvb2wgfSA9IHVzZUFnZW50U3RvcmUoKTtcbiAgY29uc3QgY3JlYXRlSW5zdHJ1Y3Rpb24gPSB1c2VNdXRhdGlvbihhcGkuZmlsZXMuY3JlYXRlSW5zdHJ1Y3Rpb25GaWxlKTtcbiAgY29uc3QgZW5zdXJlSW5zdHJ1Y3Rpb25zUHJvamVjdCA9IHVzZU11dGF0aW9uKGFwaS5wcm9qZWN0cy5lbnN1cmVJbnN0cnVjdGlvbnNQcm9qZWN0KTtcbiAgY29uc3QgdXBzZXJ0UG9zdCA9IHVzZU11dGF0aW9uKGFwaS5zb2NpYWxQb3N0cy51cHNlcnRQb3N0KTtcbiAgY29uc3Qgc2NoZWR1bGVQb3N0ID0gdXNlTXV0YXRpb24oYXBpLnNvY2lhbFBvc3RzLnNjaGVkdWxlUG9zdCk7XG4gIGNvbnN0IGNyZWF0ZUNvbnRlbnRDcmVhdGlvbkZpbGUgPSB1c2VNdXRhdGlvbihhcGkuZmlsZXMuY3JlYXRlQ29udGVudENyZWF0aW9uRmlsZSk7XG4gIGNvbnN0IGNyZWF0ZVByb2plY3QgPSB1c2VNdXRhdGlvbihhcGkucHJvamVjdHMuY3JlYXRlUHJvamVjdCk7XG4gIGNvbnN0IGNyZWF0ZUZpbGUgPSB1c2VNdXRhdGlvbihhcGkuZmlsZXMuY3JlYXRlRmlsZSk7XG4gIGNvbnN0IGdldEFsbFVzZXJGaWxlcyA9IHVzZVF1ZXJ5KGFwaS5maWxlcy5nZXRBbGxVc2VyRmlsZXMsIHt9KTtcbiAgY29uc3QgdXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQgPSB1c2VNdXRhdGlvbihhcGkuY2hhdC51cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCk7XG4gIGNvbnN0IGVkaXRGaWxlV2l0aEFJID0gdXNlQWN0aW9uKGFwaS5lZGl0b3JBY3Rpb25zLmVkaXRGaWxlV2l0aEFJKTtcbiAgY29uc3QgdXBkYXRlRmlsZUNvbnRlbnQgPSB1c2VNdXRhdGlvbihhcGkuZmlsZXMudXBkYXRlRmlsZUNvbnRlbnQpO1xuICBjb25zdCBhbGxQb3N0cyA9IHVzZVF1ZXJ5KGFwaS5zb2NpYWxQb3N0cy5nZXRBbGxQb3N0cywge30pO1xuICBjb25zdCBhbGxQcm9qZWN0cyA9IHVzZVF1ZXJ5KGFwaS5wcm9qZWN0cy5nZXRQcm9qZWN0cywge30pO1xuICBjb25zdCBpbnN0cnVjdGlvbkNvbnRleHQgPSB1c2VJbnN0cnVjdGlvbkNvbnRleHQoKTtcbiAgY29uc3QgeyBpc0xvYWRpbmc6IGluc3RydWN0aW9uc0xvYWRpbmcgfSA9IHVzZUluc3RydWN0aW9ucygpO1xuICBjb25zdCB7IGNyZWF0ZU5ld0ZpbGUgfSA9IHVzZUVkaXRvclN0b3JlKCk7XG5cbiAgY29uc3QgaXNMb2FkaW5nID0gY2hhdExvYWRpbmcgfHwgbWNwTG9hZGluZyB8fCBpbnN0cnVjdGlvbnNMb2FkaW5nO1xuXG4gIC8vIEF1dG8tc2Nyb2xsIHRvIGJvdHRvbSB3aGVuIG5ldyBtZXNzYWdlcyBhcnJpdmVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc2Nyb2xsUmVmLmN1cnJlbnQpIHtcbiAgICAgIHNjcm9sbFJlZi5jdXJyZW50LnNjcm9sbFRvcCA9IHNjcm9sbFJlZi5jdXJyZW50LnNjcm9sbEhlaWdodDtcbiAgICB9XG4gIH0sIFttZXNzYWdlc10pO1xuXG4gIC8vIEluaXRpYWxpemUgdXNlciBzZXNzaW9uIHdoZW4gY29tcG9uZW50IG1vdW50cyBhbmQgdXNlciBpcyBsb2FkZWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNMb2FkZWQgJiYgdXNlciAmJiAhc2Vzc2lvbklkKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIvCflIQgSW5pdGlhbGl6aW5nIHVzZXIgc2Vzc2lvbi4uLlwiLCB7IHVzZXJJZDogdXNlci5pZCB9KTtcbiAgICAgIGluaXRpYWxpemVVc2VyU2Vzc2lvbih1c2VyLmlkKTtcbiAgICB9XG4gIH0sIFt1c2VyLCBpc0xvYWRlZCwgc2Vzc2lvbklkLCBpbml0aWFsaXplVXNlclNlc3Npb25dKTtcblxuICAvLyBTeW5jIHNlc3Npb24gSUQgaWYgYWN0aXZlIHNlc3Npb24gY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhY3RpdmVTZXNzaW9uSWQgJiYgYWN0aXZlU2Vzc2lvbklkICE9PSBzZXNzaW9uSWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwi8J+UhCBTeW5jaW5nIHRvIGFjdGl2ZSBzZXNzaW9uOlwiLCBhY3RpdmVTZXNzaW9uSWQpO1xuICAgICAgc2V0U2Vzc2lvbklkKGFjdGl2ZVNlc3Npb25JZCk7XG4gICAgfVxuICB9LCBbYWN0aXZlU2Vzc2lvbklkLCBzZXNzaW9uSWQsIHNldFNlc3Npb25JZF0pO1xuXG4gIC8vIENsZWFyIGFjdGl2ZSBhZ2VudCBwcm9jZXNzIGFmdGVyIHRpbWVvdXRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWN0aXZlQWdlbnRQcm9jZXNzKSB7XG4gICAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGFnZSA9IERhdGUubm93KCkgLSBhY3RpdmVBZ2VudFByb2Nlc3MudGltZXN0YW1wO1xuICAgICAgICBpZiAoYWdlID4gNSAqIDYwICogMTAwMCkgeyAvLyA1IG1pbnV0ZXMgdGltZW91dFxuICAgICAgICAgIHNldEFjdGl2ZUFnZW50UHJvY2VzcyhudWxsKTtcbiAgICAgICAgfVxuICAgICAgfSwgNSAqIDYwICogMTAwMCk7XG5cbiAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgfVxuICB9LCBbYWN0aXZlQWdlbnRQcm9jZXNzXSk7XG5cbiAgLy8gRElTQUJMRUQ6IFByb2Nlc3MgbWVzc2FnZXMgd2l0aCBvcGVyYXRpb25zIHRvIGNyZWF0ZSBVSSBmaWxlc1xuICAvLyBUaGlzIGlzIG5vdyBoYW5kbGVkIGJ5IHVzZUZpbGVMb2FkIGhvb2sgd2hpY2ggc3luY3MgZnJvbSBDb252ZXggdG8gbG9jYWwgc3RvcmVcbiAgLypcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIW1lc3NhZ2VzKSByZXR1cm47XG4gICAgXG4gICAgY29uc29sZS5sb2coJ/CflI0gUHJvY2Vzc2luZyBtZXNzYWdlcyBmb3Igb3BlcmF0aW9uczonLCB7XG4gICAgICB0b3RhbE1lc3NhZ2VzOiBtZXNzYWdlcy5sZW5ndGgsXG4gICAgICByZWNlbnRNZXNzYWdlc0NvdW50OiBtZXNzYWdlcy5zbGljZSgtMTApLmxlbmd0aCxcbiAgICAgIHByb2Nlc3NlZENvdW50OiBwcm9jZXNzZWRPcGVyYXRpb25zLmN1cnJlbnQuc2l6ZVxuICAgIH0pO1xuICAgIFxuICAgIC8vIExvb2sgZm9yIG1lc3NhZ2VzIHdpdGggb3BlcmF0aW9ucyB0aGF0IG5lZWQgVUkgcHJvY2Vzc2luZ1xuICAgIGNvbnN0IHJlY2VudE1lc3NhZ2VzID0gbWVzc2FnZXMuc2xpY2UoLTEwKTsgLy8gQ2hlY2sgbGFzdCAxMCBtZXNzYWdlc1xuICAgIFxuICAgIHJlY2VudE1lc3NhZ2VzLmZvckVhY2goKG1lc3NhZ2U6IGFueSwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SNIE1lc3NhZ2UgJHtpbmRleH06YCwge1xuICAgICAgICBpZDogbWVzc2FnZS5faWQsXG4gICAgICAgIHJvbGU6IG1lc3NhZ2Uucm9sZSxcbiAgICAgICAgaGFzT3BlcmF0aW9uOiAhIW1lc3NhZ2Uub3BlcmF0aW9uLFxuICAgICAgICBvcGVyYXRpb25UeXBlOiBtZXNzYWdlLm9wZXJhdGlvbj8udHlwZSxcbiAgICAgICAgb3BlcmF0aW9uRGV0YWlsczogbWVzc2FnZS5vcGVyYXRpb24/LmRldGFpbHMsXG4gICAgICAgIGNvbnRlbnRQcmV2aWV3OiBtZXNzYWdlLmNvbnRlbnQ/LnN1YnN0cmluZygwLCAxMDApLFxuICAgICAgICBhbHJlYWR5UHJvY2Vzc2VkOiBwcm9jZXNzZWRPcGVyYXRpb25zLmN1cnJlbnQuaGFzKG1lc3NhZ2UuX2lkKVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmIChtZXNzYWdlLm9wZXJhdGlvbj8udHlwZSA9PT0gJ2ZpbGVfY3JlYXRlZCcgJiYgbWVzc2FnZS5faWQpIHtcbiAgICAgICAgLy8gU2tpcCBpZiBhbHJlYWR5IHByb2Nlc3NlZFxuICAgICAgICBpZiAocHJvY2Vzc2VkT3BlcmF0aW9ucy5jdXJyZW50LmhhcyhtZXNzYWdlLl9pZCkpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg4o+t77iPIFNraXBwaW5nIGFscmVhZHkgcHJvY2Vzc2VkIG1lc3NhZ2U6ICR7bWVzc2FnZS5faWR9YCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCB7IGZpbGVOYW1lLCBmaWxlVHlwZSwgY29udGVudCwgcGxhdGZvcm1EYXRhLCBhZ2VudFR5cGUgfSA9IG1lc3NhZ2Uub3BlcmF0aW9uLmRldGFpbHM7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBGaWxlIGNyZWF0aW9uIG9wZXJhdGlvbiBmb3VuZDonLCB7XG4gICAgICAgICAgZmlsZU5hbWUsXG4gICAgICAgICAgZmlsZVR5cGUsXG4gICAgICAgICAgYWdlbnRUeXBlLFxuICAgICAgICAgIGhhc0NvbnRlbnQ6ICEhY29udGVudCxcbiAgICAgICAgICBjb250ZW50TGVuZ3RoOiBjb250ZW50Py5sZW5ndGggfHwgMCxcbiAgICAgICAgICB3aWxsUHJvY2VzczogYWdlbnRUeXBlID09PSAndHdpdHRlcicgJiYgY29udGVudFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIE9ubHkgcHJvY2VzcyBUd2l0dGVyIGFnZW50IGZpbGVzIGZvciBVSSBjcmVhdGlvbiB0aGF0IGhhdmUgY29udGVudFxuICAgICAgICBpZiAoYWdlbnRUeXBlID09PSAndHdpdHRlcicgJiYgY29udGVudCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFByb2Nlc3Npbmcgc29jaWFsIGZpbGUgb3BlcmF0aW9uOicsIHtcbiAgICAgICAgICAgIGZpbGVOYW1lLFxuICAgICAgICAgICAgZmlsZVR5cGUsXG4gICAgICAgICAgICBjb250ZW50OiBjb250ZW50LFxuICAgICAgICAgICAgY29udGVudExlbmd0aDogY29udGVudD8ubGVuZ3RoIHx8IDAsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogdHlwZW9mIGNvbnRlbnQsXG4gICAgICAgICAgICBtZXNzYWdlSWQ6IG1lc3NhZ2UuX2lkLFxuICAgICAgICAgICAgcGxhdGZvcm1EYXRhOiBwbGF0Zm9ybURhdGEsXG4gICAgICAgICAgICBhbGxEZXRhaWxzOiBtZXNzYWdlLm9wZXJhdGlvbi5kZXRhaWxzXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gTWFyayBhcyBwcm9jZXNzZWQgRklSU1QgdG8gcHJldmVudCByYWNlIGNvbmRpdGlvbnNcbiAgICAgICAgICBwcm9jZXNzZWRPcGVyYXRpb25zLmN1cnJlbnQuYWRkKG1lc3NhZ2UuX2lkKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBQYXJzZSB0aGUgcGxhdGZvcm0gZGF0YSB3aXRoIGVycm9yIGhhbmRsaW5nXG4gICAgICAgICAgbGV0IHBsYXRmb3JtRGF0YU9iajtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcGxhdGZvcm1EYXRhT2JqID0gcGxhdGZvcm1EYXRhID8gSlNPTi5wYXJzZShwbGF0Zm9ybURhdGEpIDoge307XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIEZhaWxlZCB0byBwYXJzZSBwbGF0Zm9ybSBkYXRhLCB1c2luZyBkZWZhdWx0czonLCBlcnJvcik7XG4gICAgICAgICAgICBwbGF0Zm9ybURhdGFPYmogPSB7XG4gICAgICAgICAgICAgIHJlcGx5U2V0dGluZ3M6ICdmb2xsb3dpbmcnLFxuICAgICAgICAgICAgICBzY2hlZHVsZWREYXRlOiAnJyxcbiAgICAgICAgICAgICAgc2NoZWR1bGVkVGltZTogJycsXG4gICAgICAgICAgICAgIGlzVGhyZWFkOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ3JlYXRlIHRoZSBjb250ZW50IGZvciB0aGUgVHdpdHRlciBwb3N0IGZpbGUgaW4gdGhlIGV4cGVjdGVkIGZvcm1hdFxuICAgICAgICAgIGNvbnN0IHBvc3RDb250ZW50ID0gYCMgJHtmaWxlTmFtZS5yZXBsYWNlKC9cXC5bXi8uXSskLywgXCJcIil9IC0gWCAoVHdpdHRlcikgUG9zdFxuUGxhdGZvcm06IFggKFR3aXR0ZXIpXG5DcmVhdGVkOiAke25ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9XG5cbiMjIFBvc3QgQ29udGVudFxuJHtjb250ZW50fVxuXG4jIyBTZXR0aW5nc1xuLSBSZXBseSBTZXR0aW5nczogJHtwbGF0Zm9ybURhdGFPYmoucmVwbHlTZXR0aW5ncyB8fCAnZm9sbG93aW5nJ31cbi0gU2NoZWR1bGU6ICR7cGxhdGZvcm1EYXRhT2JqLnNjaGVkdWxlZERhdGUgJiYgcGxhdGZvcm1EYXRhT2JqLnNjaGVkdWxlZFRpbWUgPyBgJHtwbGF0Zm9ybURhdGFPYmouc2NoZWR1bGVkRGF0ZX0gJHtwbGF0Zm9ybURhdGFPYmouc2NoZWR1bGVkVGltZX1gIDogJ05vdyd9XG4tIFRocmVhZDogJHtwbGF0Zm9ybURhdGFPYmouaXNUaHJlYWQgPyAnTXVsdGktdHdlZXQgVGhyZWFkJyA6ICdTaW5nbGUgVHdlZXQnfVxuXG4jIyBNZWRpYVxuLSBJbWFnZXM6IFtdXG4tIFZpZGVvczogW11cblxuIyMgQW5hbHl0aWNzXG4tIEltcHJlc3Npb25zOiAwXG4tIEVuZ2FnZW1lbnRzOiAwXG4tIExpa2VzOiAwXG4tIFNoYXJlczogMGA7XG5cbiAgICAgICAgICAvLyBHZXQgdGhlIGNyZWF0ZU5ld0ZpbGUgZnVuY3Rpb24gZnJvbSB0aGUgc3RvcmUgYXQgZXhlY3V0aW9uIHRpbWVcbiAgICAgICAgICBjb25zdCB7IGNyZWF0ZU5ld0ZpbGUsIHByb2plY3RGb2xkZXJzIH0gPSB1c2VFZGl0b3JTdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEZpbmQgdGhlIENvbnRlbnQgQ3JlYXRpb24gZm9sZGVyIElEXG4gICAgICAgICAgY29uc3QgY29udGVudENyZWF0aW9uRm9sZGVyID0gcHJvamVjdEZvbGRlcnMuZmluZChmb2xkZXIgPT4gXG4gICAgICAgICAgICBmb2xkZXIubmFtZSA9PT0gJ0NvbnRlbnQgQ3JlYXRpb24nXG4gICAgICAgICAgKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoY29udGVudENyZWF0aW9uRm9sZGVyKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGZpbGUgaW4gdGhlIENvbnRlbnQgQ3JlYXRpb24gZm9sZGVyXG4gICAgICAgICAgICBjcmVhdGVOZXdGaWxlKFxuICAgICAgICAgICAgICBmaWxlTmFtZSxcbiAgICAgICAgICAgICAgJ3gnLCAvLyBVc2UgJ3gnIHR5cGUgZm9yIFR3aXR0ZXIgZmlsZXNcbiAgICAgICAgICAgICAgJ3Byb2plY3QnLFxuICAgICAgICAgICAgICBjb250ZW50Q3JlYXRpb25Gb2xkZXIuaWQsXG4gICAgICAgICAgICAgIHBvc3RDb250ZW50XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIENyZWF0ZWQgc29jaWFsIGZpbGUgaW4gVUk6JywgZmlsZU5hbWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBDb250ZW50IENyZWF0aW9uIGZvbGRlciBub3QgZm91bmQnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ3JlYXRlIHdpdGhvdXQgZm9sZGVyIElEIGlmIGZvbGRlciBub3QgZm91bmRcbiAgICAgICAgICAgIGNyZWF0ZU5ld0ZpbGUoXG4gICAgICAgICAgICAgIGZpbGVOYW1lLFxuICAgICAgICAgICAgICAneCcsXG4gICAgICAgICAgICAgICdwcm9qZWN0JyxcbiAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICBwb3N0Q29udGVudFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW21lc3NhZ2VzXSk7IC8vIFJlbW92ZWQgY3JlYXRlTmV3RmlsZSBmcm9tIGRlcGVuZGVuY2llcyB0byBwcmV2ZW50IHJlLXJ1bnMgb24gcGFuZWwgc3dpdGNoZXNcbiAgKi9cblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gc3RyaXAgbWFya2Rvd24gZm9ybWF0dGluZ1xuICBjb25zdCBzdHJpcE1hcmtkb3duID0gKHRleHQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIHRleHRcbiAgICAgIC5yZXBsYWNlKC8jezEsNn1cXHMqL2csICcnKSAvLyBSZW1vdmUgaGVhZGVyc1xuICAgICAgLnJlcGxhY2UoL1xcKlxcKiguKj8pXFwqXFwqL2csICckMScpIC8vIFJlbW92ZSAqKmJvbGQqKlxuICAgICAgLnJlcGxhY2UoL1xcKiguKj8pXFwqL2csICckMScpIC8vIFJlbW92ZSAqaXRhbGljKlxuICAgICAgLnJlcGxhY2UoL2AoW15gXSspYC9nLCAnJDEnKSAvLyBSZW1vdmUgYGNvZGVgXG4gICAgICAucmVwbGFjZSgvXlxccypbLSorXVxccysvZ20sICfigKIgJykgLy8gQ29udmVydCBtYXJrZG93biBsaXN0cyB0byBidWxsZXQgcG9pbnRzXG4gICAgICAucmVwbGFjZSgvXlxccypcXGQrXFwuXFxzKy9nbSwgJ+KAoiAnKSAvLyBDb252ZXJ0IG51bWJlcmVkIGxpc3RzIHRvIGJ1bGxldCBwb2ludHNcbiAgICAgIC5yZXBsYWNlKC9cXG5cXHMqXFxuXFxzKlxcbi9nLCAnXFxuXFxuJykgLy8gUmVkdWNlIG11bHRpcGxlIGJsYW5rIGxpbmVzIHRvIGRvdWJsZVxuICAgICAgLnNwbGl0KCdcXG4nKSAvLyBTcGxpdCBpbnRvIGxpbmVzIGZvciBwcm9jZXNzaW5nXG4gICAgICAubWFwKGxpbmUgPT4ge1xuICAgICAgICAvLyBBZGQgc3BhY2luZyBhZnRlciBzZWN0aW9uIGhlYWRlcnMgKGxpbmVzIHRoYXQgZG9uJ3Qgc3RhcnQgd2l0aCBidWxsZXQgcG9pbnRzKVxuICAgICAgICBpZiAobGluZS50cmltKCkgJiYgIWxpbmUuc3RhcnRzV2l0aCgn4oCiJykgJiYgIWxpbmUuc3RhcnRzV2l0aCgnICcpICYmIGxpbmUubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiBsaW5lICsgJ1xcbic7IC8vIEFkZCBleHRyYSBuZXdsaW5lIGFmdGVyIGhlYWRlcnNcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGluZTtcbiAgICAgIH0pXG4gICAgICAuam9pbignXFxuJylcbiAgICAgIC5yZXBsYWNlKC9cXG57Myx9L2csICdcXG5cXG4nKSAvLyBDbGVhbiB1cCBleGNlc3NpdmUgbmV3bGluZXNcbiAgICAgIC50cmltKCk7XG4gIH07XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGRldGVjdCBNQ1AtcmVsYXRlZCBxdWVyaWVzIChleGNsdWRpbmcgZGlyZWN0IHRvb2wgY29tbWFuZHMpXG4gIGNvbnN0IGlzTUNQUXVlcnkgPSAodGV4dDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgLy8gRG9uJ3QgdHJlYXQgZGlyZWN0IHRvb2wgY29tbWFuZHMgYXMgTkxQIHF1ZXJpZXNcbiAgICBpZiAodGV4dC5zdGFydHNXaXRoKCcvJykpIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICAvLyBMb29rIGZvciBrZXl3b3JkcyB0aGF0IHN1Z2dlc3QgTUNQIGFuYWx5c2lzIHdvdWxkIGJlIGhlbHBmdWxcbiAgICBjb25zdCBtY3BLZXl3b3JkcyA9IFtcbiAgICAgICdhbmFseXplJywgJ2V4YW1pbmUnLCAncmV2aWV3JywgJ2V4cGxhaW4nLCAndW5kZXJzdGFuZCcsICdhcmNoaXRlY3R1cmUnLFxuICAgICAgJ3N0cnVjdHVyZScsICdjb2RlJywgJ2NvbXBvbmVudCcsICdmdW5jdGlvbicsICdpbXBsZW1lbnRhdGlvbicsICdwYXR0ZXJuJyxcbiAgICAgICdiZXN0IHByYWN0aWNlJywgJ2lzc3VlJywgJ2J1ZycsICdlcnJvcicsICdwZXJmb3JtYW5jZScsICdvcHRpbWl6YXRpb24nLFxuICAgICAgJ3JlZmFjdG9yJywgJ2ltcHJvdmVtZW50JywgJ2RvY3VtZW50YXRpb24nLCAnb3ZlcnZpZXcnLCAnc3VtbWFyeScsXG4gICAgICAnaG93IGRvZXMnLCAnd2hhdCBpcycsICd3aHkgaXMnLCAnd2hlcmUgaXMnLCAnd2hlbiBpcycsICd3aGljaCdcbiAgICBdO1xuICAgIFxuICAgIGNvbnN0IGxvd2VyVGV4dCA9IHRleHQudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gbWNwS2V5d29yZHMuc29tZShrZXl3b3JkID0+IGxvd2VyVGV4dC5pbmNsdWRlcyhrZXl3b3JkKSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVG9vbFNlbGVjdG9yQ2xvc2UgPSAoKSA9PiB7XG4gICAgc2V0TWVzc2FnZShcIlwiKTtcbiAgICBpbnB1dFJlZi5jdXJyZW50Py5mb2N1cygpO1xuICB9O1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgY29udmV4TXV0YXRpb25zIG9iamVjdCBmb3IgYWdlbnRzXG4gIGNvbnN0IGNyZWF0ZUNvbnZleE11dGF0aW9ucyA9ICgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgZW5zdXJlSW5zdHJ1Y3Rpb25zUHJvamVjdCxcbiAgICAgIGNyZWF0ZUluc3RydWN0aW9uRmlsZTogY3JlYXRlSW5zdHJ1Y3Rpb24sXG4gICAgICB1cHNlcnRQb3N0LFxuICAgICAgc2NoZWR1bGVQb3N0LFxuICAgICAgY3JlYXRlQ29udGVudENyZWF0aW9uRmlsZSxcbiAgICAgIGNyZWF0ZVByb2plY3Q6IGFzeW5jIChwYXJhbXM6IGFueSkgPT4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgY3JlYXRlUHJvamVjdCh7XG4gICAgICAgICAgbmFtZTogcGFyYW1zLm5hbWUsXG4gICAgICAgICAgZGVzY3JpcHRpb246IHBhcmFtcy5kZXNjcmlwdGlvbixcbiAgICAgICAgICBzdGF0dXM6IHBhcmFtcy5zdGF0dXMgfHwgJ2FjdGl2ZScsXG4gICAgICAgICAgYnVkZ2V0OiBwYXJhbXMuYnVkZ2V0LFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBnZXRQcm9qZWN0czogYXN5bmMgKCkgPT4ge1xuICAgICAgICByZXR1cm4gYWxsUHJvamVjdHMgfHwgW107XG4gICAgICB9LFxuICAgICAgZ2V0QWxsRmlsZXM6IGFzeW5jICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGdldEFsbFVzZXJGaWxlcyB8fCBbXTtcbiAgICAgIH0sXG4gICAgICBzdG9yZUNoYXRNZXNzYWdlOiBhc3luYyAocGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgIHJvbGU6IHBhcmFtcy5yb2xlLFxuICAgICAgICAgIGNvbnRlbnQ6IHBhcmFtcy5jb250ZW50LFxuICAgICAgICAgIHNlc3Npb25JZDogcGFyYW1zLnNlc3Npb25JZCB8fCBzZXNzaW9uSWQsXG4gICAgICAgICAgb3BlcmF0aW9uOiBwYXJhbXMub3BlcmF0aW9uLFxuICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IHBhcmFtcy5wcm9jZXNzSW5kaWNhdG9yLFxuICAgICAgICAgIGludGVyYWN0aXZlQ29tcG9uZW50OiBwYXJhbXMuaW50ZXJhY3RpdmVDb21wb25lbnQsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50OiBhc3luYyAocGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50KHtcbiAgICAgICAgICBtZXNzYWdlSWQ6IHBhcmFtcy5tZXNzYWdlSWQsXG4gICAgICAgICAgc3RhdHVzOiBwYXJhbXMuc3RhdHVzLFxuICAgICAgICAgIHJlc3VsdDogcGFyYW1zLnJlc3VsdCxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgY3JlYXRlRmlsZTogYXN5bmMgKHBhcmFtczogYW55KSA9PiB7XG4gICAgICAgIHJldHVybiBhd2FpdCBjcmVhdGVGaWxlKHtcbiAgICAgICAgICBuYW1lOiBwYXJhbXMubmFtZSxcbiAgICAgICAgICB0eXBlOiBwYXJhbXMudHlwZSxcbiAgICAgICAgICBwcm9qZWN0SWQ6IHBhcmFtcy5wcm9qZWN0SWQsIC8vIFRoaXMgc2hvdWxkIGJlIGFuIElkPFwicHJvamVjdHNcIj4gZnJvbSB0aGUgYWN0dWFsIHByb2plY3QgY3JlYXRpb25cbiAgICAgICAgICBjb250ZW50OiBwYXJhbXMuY29udGVudCxcbiAgICAgICAgICBleHRlbnNpb246IHBhcmFtcy5leHRlbnNpb24sXG4gICAgICAgICAgcGxhdGZvcm06IHBhcmFtcy5wbGF0Zm9ybSxcbiAgICAgICAgICBzaXplOiBwYXJhbXMuc2l6ZSxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgZ2V0QWxsUG9zdHM6IGFzeW5jICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGFsbFBvc3RzIHx8IFtdO1xuICAgICAgfSxcbiAgICAgIGVkaXRGaWxlV2l0aEFJOiBhc3luYyAocGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGVkaXRGaWxlV2l0aEFJKHtcbiAgICAgICAgICBmaWxlTmFtZTogcGFyYW1zLmZpbGVOYW1lLFxuICAgICAgICAgIG9yaWdpbmFsQ29udGVudDogcGFyYW1zLm9yaWdpbmFsQ29udGVudCxcbiAgICAgICAgICBlZGl0SW5zdHJ1Y3Rpb25zOiBwYXJhbXMuZWRpdEluc3RydWN0aW9ucyxcbiAgICAgICAgICBmaWxlVHlwZTogcGFyYW1zLmZpbGVUeXBlLFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICB1cGRhdGVGaWxlQ29udGVudDogYXN5bmMgKHBhcmFtczogYW55KSA9PiB7XG4gICAgICAgIHJldHVybiBhd2FpdCB1cGRhdGVGaWxlQ29udGVudCh7XG4gICAgICAgICAgZmlsZUlkOiBwYXJhbXMuZmlsZUlkLFxuICAgICAgICAgIGNvbnRlbnQ6IHBhcmFtcy5jb250ZW50LFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICAvLyBDYW1wYWlnbi1yZWxhdGVkIGZ1bmN0aW9ucyAoc2ltcGxpZmllZCBmb3Igbm93KVxuICAgICAgY3JlYXRlQ2FtcGFpZ246IGFzeW5jIChwYXJhbXM6IGFueSkgPT4ge1xuICAgICAgICAvLyBGb3Igbm93LCBqdXN0IHJldHVybiBhIHNpbXBsZSBjYW1wYWlnbiBJRCBzaW5jZSB0aGUgQVBJIGlzbid0IHJlYWR5XG4gICAgICAgIGNvbnNvbGUubG9nKCdDYW1wYWlnbiBjcmVhdGlvbiByZXF1ZXN0ZWQ6JywgcGFyYW1zKTtcbiAgICAgICAgcmV0dXJuIHsgX2lkOiBgY2FtcGFpZ25fJHtEYXRlLm5vdygpfWAgfTtcbiAgICAgIH0sXG4gICAgICBjcmVhdGVQb3N0c0JhdGNoOiBhc3luYyAocGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgLy8gRm9yIG5vdywganVzdCBsb2cgdGhlIGJhdGNoIGNyZWF0aW9uXG4gICAgICAgIGNvbnNvbGUubG9nKCdCYXRjaCBwb3N0cyBjcmVhdGlvbiByZXF1ZXN0ZWQ6JywgcGFyYW1zKTtcbiAgICAgICAgcmV0dXJuIHBhcmFtcy5wb3N0cy5tYXAoKF86IGFueSwgaW5kZXg6IG51bWJlcikgPT4gYHBvc3RfJHtEYXRlLm5vdygpfV8ke2luZGV4fWApO1xuICAgICAgfSxcbiAgICB9O1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgXG4gICAgLy8gQ2hlY2sgc2Vzc2lvbiBsaW1pdCBiZWZvcmUgcHJvY2Vzc2luZ1xuICAgIGlmICghY2FuQWRkTWVzc2FnZXMoKSkge1xuICAgICAgY29uc29sZS53YXJuKFwiQ2Fubm90IHNlbmQgbWVzc2FnZTogU2Vzc2lvbiBsaW1pdCByZWFjaGVkXCIpO1xuICAgICAgLy8gQWRkIGEgdGVybWluYWwgZmVlZGJhY2sgbWVzc2FnZSBhYm91dCB0aGUgbGltaXRcbiAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICByb2xlOiBcInRlcm1pbmFsXCIsXG4gICAgICAgIGNvbnRlbnQ6IGBbJHtuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygnZW4tVVMnLCB7IFxuICAgICAgICAgIGhvdXIxMjogZmFsc2UsIFxuICAgICAgICAgIGhvdXI6ICcyLWRpZ2l0JywgXG4gICAgICAgICAgbWludXRlOiAnMi1kaWdpdCcsIFxuICAgICAgICAgIHNlY29uZDogJzItZGlnaXQnIFxuICAgICAgICB9KX1dIPCfmqggTWVzc2FnZSBub3Qgc2VudDogU2Vzc2lvbiBsaW1pdCByZWFjaGVkICg1MDAgbWVzc2FnZXMpXG5QbGVhc2Ugc3RhcnQgYSBuZXcgc2Vzc2lvbiB0byBjb250aW51ZSBjaGF0dGluZy5gLFxuICAgICAgICBzZXNzaW9uSWQsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgaWYgKG1lc3NhZ2UudHJpbSgpICYmICFpc0xvYWRpbmcpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VDb250ZW50ID0gbWVzc2FnZS50cmltKCk7XG4gICAgICBjb25zb2xlLmxvZygn8J+SrCBVc2VyIHN1Ym1pdHRpbmcgbWVzc2FnZTonLCBtZXNzYWdlQ29udGVudCk7XG4gICAgICBzZXRNZXNzYWdlKFwiXCIpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGFuIGFnZW50IGNvbW1hbmQgd2hlbiBhbiBhZ2VudCBpcyBhY3RpdmVcbiAgICAgIC8vIEJVVCBvbmx5IHJvdXRlIHRvIGVkaXRvciBhZ2VudCBpZiBpdCBoYXMgYSBzZWxlY3RlZCBmaWxlIGFuZCBpcyB3YWl0aW5nIGZvciBlZGl0IGluc3RydWN0aW9uc1xuICAgICAgaWYgKGFjdGl2ZUFnZW50SWQgJiYgIW1lc3NhZ2VDb250ZW50LnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+kliBDaGVja2luZyBpZiBzaG91bGQgcm91dGUgdG8gYWN0aXZlIGFnZW50OicsIGFjdGl2ZUFnZW50SWQpO1xuICAgICAgICBcbiAgICAgICAgbGV0IHNob3VsZFJvdXRlVG9BZ2VudCA9IHRydWU7XG4gICAgICAgIFxuICAgICAgICAvLyBTcGVjaWFsIGhhbmRsaW5nIGZvciBlZGl0b3IgYWdlbnQgLSBvbmx5IHJvdXRlIGlmIGZpbGUgaXMgc2VsZWN0ZWQgYW5kIHdhaXRpbmcgZm9yIGVkaXQgaW5zdHJ1Y3Rpb25zXG4gICAgICAgIGlmIChhY3RpdmVBZ2VudElkID09PSAnZWRpdG9yJykge1xuICAgICAgICAgIGNvbnN0IHsgRWRpdG9yQWdlbnQgfSA9IGF3YWl0IGltcG9ydCgnQC9zdG9yZS9hZ2VudHMvZWRpdG9yQWdlbnQnKTtcbiAgICAgICAgICBjb25zdCBoYXNTZWxlY3RlZEZpbGUgPSBFZGl0b3JBZ2VudC5zZWxlY3RlZEZpbGUgIT09IG51bGw7XG4gICAgICAgICAgY29uc3QgaXNXYWl0aW5nRm9yRWRpdEluc3RydWN0aW9ucyA9IEVkaXRvckFnZW50LmN1cnJlbnRTdGVwID09PSAnZWRpdC1yZXF1ZXN0JztcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBFZGl0b3IgYWdlbnQgc3RhdGUgY2hlY2s6Jywge1xuICAgICAgICAgICAgaGFzU2VsZWN0ZWRGaWxlLFxuICAgICAgICAgICAgaXNXYWl0aW5nRm9yRWRpdEluc3RydWN0aW9ucyxcbiAgICAgICAgICAgIHNlbGVjdGVkRmlsZTogRWRpdG9yQWdlbnQuc2VsZWN0ZWRGaWxlLFxuICAgICAgICAgICAgY3VycmVudFN0ZXA6IEVkaXRvckFnZW50LmN1cnJlbnRTdGVwXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gSWYgbm8gZmlsZSBzZWxlY3RlZCwgYWdlbnQgc2hvdWxkIHNob3cgZmlsZSBzZWxlY3RvclxuICAgICAgICAgIC8vIElmIGZpbGUgc2VsZWN0ZWQgYW5kIHdhaXRpbmcgZm9yIGluc3RydWN0aW9ucywgYWdlbnQgc2hvdWxkIHByb2Nlc3MgdGhlIGVkaXRcbiAgICAgICAgICAvLyBBbHdheXMgcm91dGUgdG8gZWRpdG9yIGFnZW50IHdoZW4gaXQncyBhY3RpdmVcbiAgICAgICAgICBzaG91bGRSb3V0ZVRvQWdlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoc2hvdWxkUm91dGVUb0FnZW50KSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CfpJYgUm91dGluZyB0byBhY3RpdmUgYWdlbnQ6JywgYWN0aXZlQWdlbnRJZCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn6SWIEV4ZWN1dGluZyBhZ2VudCAke2FjdGl2ZUFnZW50SWR9IHdpdGggbWVzc2FnZTogJHttZXNzYWdlQ29udGVudH1gKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ3JlYXRlIGNvbnZleCBtdXRhdGlvbnMgZm9yIHRoZSBhZ2VudFxuICAgICAgICAgICAgY29uc3QgY29udmV4TXV0YXRpb25zID0gY3JlYXRlQ29udmV4TXV0YXRpb25zKCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGxhc3QgbWVzc2FnZSB3YXMgYW4gYWdlbnQgd2FpdGluZyBmb3IgaW5wdXRcbiAgICAgICAgICBjb25zdCBsYXN0TWVzc2FnZSA9IG1lc3NhZ2VzICYmIG1lc3NhZ2VzLmxlbmd0aCA+IDAgPyBtZXNzYWdlc1ttZXNzYWdlcy5sZW5ndGggLSAxXSA6IG51bGw7XG4gICAgICAgICAgY29uc3QgaXNGb2xsb3dVcFRvV2FpdGluZ0FnZW50ID0gbGFzdE1lc3NhZ2UgJiYgXG4gICAgICAgICAgICBsYXN0TWVzc2FnZS5yb2xlID09PSAnYXNzaXN0YW50JyAmJiBcbiAgICAgICAgICAgIGxhc3RNZXNzYWdlLnByb2Nlc3NJbmRpY2F0b3I/LnR5cGUgPT09ICd3YWl0aW5nJztcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zb2xlLmxvZygnUHJlLWV4ZWN1dGlvbiBzdGF0ZTonLCB7XG4gICAgICAgICAgICBsYXN0TWVzc2FnZTogbGFzdE1lc3NhZ2UgPyB7XG4gICAgICAgICAgICAgIHJvbGU6IGxhc3RNZXNzYWdlLnJvbGUsXG4gICAgICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IGxhc3RNZXNzYWdlLnByb2Nlc3NJbmRpY2F0b3IsXG4gICAgICAgICAgICAgIGNvbnRlbnRQcmV2aWV3OiBsYXN0TWVzc2FnZS5jb250ZW50LnN1YnN0cmluZygwLCA1MClcbiAgICAgICAgICAgIH0gOiBudWxsLFxuICAgICAgICAgICAgaXNGb2xsb3dVcFRvV2FpdGluZ0FnZW50XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRmluZCB0aGUgYWN0aXZlIGFnZW50IGFuZCBpdHMgZGVmYXVsdCB0b29sXG4gICAgICAgICAgY29uc3QgYWN0aXZlQWdlbnQgPSBhZ2VudHMuZmluZChhZ2VudCA9PiBhZ2VudC5pZCA9PT0gYWN0aXZlQWdlbnRJZCk7XG4gICAgICAgICAgaWYgKGFjdGl2ZUFnZW50ICYmIGFjdGl2ZUFnZW50LnRvb2xzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRUb29sID0gYWN0aXZlQWdlbnQudG9vbHNbMF07IC8vIFVzZSB0aGUgZmlyc3QgdG9vbCBhcyBkZWZhdWx0XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIOKchSBGSVggIzE6IEFsd2F5cyBzdG9yZSB0aGUgdXNlciBtZXNzYWdlIGZpcnN0LCByZWdhcmRsZXNzIG9mIGFnZW50IHJlc3VsdFxuICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICAgICAgICBjb250ZW50OiBtZXNzYWdlQ29udGVudCxcbiAgICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgICAgICBwcm9jZXNzSW5kaWNhdG9yOiBpc0ZvbGxvd1VwVG9XYWl0aW5nQWdlbnQgPyB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2NvbnRpbnVpbmcnLFxuICAgICAgICAgICAgICAgIHByb2Nlc3NUeXBlOiAnZmlsZS1jcmVhdGlvbicsXG4gICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJ1xuICAgICAgICAgICAgICB9IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIGFnZW50IHRvb2xcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVBZ2VudFRvb2woXG4gICAgICAgICAgICAgIGFjdGl2ZUFnZW50SWQsXG4gICAgICAgICAgICAgIGRlZmF1bHRUb29sLmlkLFxuICAgICAgICAgICAgICBtZXNzYWdlQ29udGVudCxcbiAgICAgICAgICAgICAgY29udmV4TXV0YXRpb25zLFxuICAgICAgICAgICAgICBzZXNzaW9uSWRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEhhbmRsZSBlbXB0eSByZXN1bHRzIGZyb20gaW50ZXJhY3RpdmUgY29tcG9uZW50c1xuICAgICAgICAgICAgaWYgKCFyZXN1bHQgfHwgcmVzdWx0LnRyaW0oKSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQWdlbnQgcmV0dXJuZWQgZW1wdHkgcmVzdWx0IC0gdGhpcyBpcyBleHBlY3RlZCBmb3IgaW50ZXJhY3RpdmUgY29tcG9uZW50cycpO1xuICAgICAgICAgICAgICAvLyBVc2VyIG1lc3NhZ2Ugd2FzIGFscmVhZHkgc3RvcmVkIGFib3ZlIC0gaW50ZXJhY3RpdmUgY29tcG9uZW50IGhhbmRsZXMgdGhlIFVJXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcmVzdWx0IGluZGljYXRlcyB3YWl0aW5nIGZvciB1c2VyIGlucHV0IChwcm9qZWN0IHNlbGVjdGlvbilcbiAgICAgICAgICAgIGNvbnN0IGlzV2FpdGluZ0ZvcklucHV0ID0gcmVzdWx0LmluY2x1ZGVzKFwi8J+OryBTZWxlY3QgYSBwcm9qZWN0OlwiKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5pbmNsdWRlcyhcIvCfkqEgKipOZXh0IG1lc3NhZ2U6KiogSnVzdCB0eXBlIHlvdXIgc2VsZWN0aW9uIVwiKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmluY2x1ZGVzKFwiV2hpY2ggUHJvamVjdD9cIikgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5pbmNsdWRlcyhcIkF2YWlsYWJsZSBQcm9qZWN0czpcIik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHJlc3VsdCBpbmRpY2F0ZXMgc3VjY2Vzc2Z1bCBjb21wbGV0aW9uXG4gICAgICAgICAgICBjb25zdCBpc0NvbXBsZXRpb25SZXNwb25zZSA9IHJlc3VsdC5pbmNsdWRlcyhcIuKchSAqKkZpbGUgQ3JlYXRlZCBTdWNjZXNzZnVsbHkhKipcIikgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5pbmNsdWRlcyhcIkZpbGUgQ3JlYXRlZCBTdWNjZXNzZnVsbHkhXCIpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuaW5jbHVkZXMoXCIqKk5leHQgU3RlcHM6KipcIikgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5pbmNsdWRlcyhcIk5leHQgU3RlcHM6XCIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQWdlbnQgRXhlY3V0aW9uIERlYnVnOicsIHtcbiAgICAgICAgICAgICAgYWN0aXZlQWdlbnRJZCxcbiAgICAgICAgICAgICAgcmVzdWx0OiByZXN1bHQuc3Vic3RyaW5nKDAsIDIwMCkgKyAnLi4uJyxcbiAgICAgICAgICAgICAgaXNXYWl0aW5nRm9ySW5wdXQsXG4gICAgICAgICAgICAgIGlzQ29tcGxldGlvblJlc3BvbnNlLFxuICAgICAgICAgICAgICBpc0ZvbGxvd1VwVG9XYWl0aW5nQWdlbnQsXG4gICAgICAgICAgICAgIGhhc1NlbGVjdFByb2plY3Q6IHJlc3VsdC5pbmNsdWRlcyhcIvCfjq8gU2VsZWN0IGEgcHJvamVjdDpcIiksXG4gICAgICAgICAgICAgIGhhc05leHRNZXNzYWdlOiByZXN1bHQuaW5jbHVkZXMoXCLwn5KhICoqTmV4dCBtZXNzYWdlOioqIEp1c3QgdHlwZSB5b3VyIHNlbGVjdGlvbiFcIiksXG4gICAgICAgICAgICAgIGhhc1doaWNoUHJvamVjdDogcmVzdWx0LmluY2x1ZGVzKFwiV2hpY2ggUHJvamVjdD9cIiksXG4gICAgICAgICAgICAgIGhhc0F2YWlsYWJsZVByb2plY3RzOiByZXN1bHQuaW5jbHVkZXMoXCJBdmFpbGFibGUgUHJvamVjdHM6XCIpLFxuICAgICAgICAgICAgICBoYXNGaWxlQ3JlYXRlZDogcmVzdWx0LmluY2x1ZGVzKFwi4pyFICoqRmlsZSBDcmVhdGVkIFN1Y2Nlc3NmdWxseSEqKlwiKSxcbiAgICAgICAgICAgICAgaGFzTmV4dFN0ZXBzOiByZXN1bHQuaW5jbHVkZXMoXCIqKk5leHQgU3RlcHM6KipcIilcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoaXNXYWl0aW5nRm9ySW5wdXQpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NldHRpbmcgYWN0aXZlIGFnZW50IHByb2Nlc3MgZm9yIGZpbGUgY3JlYXRpb24nKTtcbiAgICAgICAgICAgICAgc2V0QWN0aXZlQWdlbnRQcm9jZXNzKHtcbiAgICAgICAgICAgICAgICBhZ2VudElkOiBhY3RpdmVBZ2VudElkLFxuICAgICAgICAgICAgICAgIHByb2Nlc3NUeXBlOiAnZmlsZS1jcmVhdGlvbicsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NsZWFyaW5nIGFjdGl2ZSBhZ2VudCBwcm9jZXNzIC0gYWdlbnQgY29tcGxldGVkJyk7XG4gICAgICAgICAgICAgIC8vIENsZWFyIGFjdGl2ZSBwcm9jZXNzIHdoZW4gYWdlbnQgY29tcGxldGVzXG4gICAgICAgICAgICAgIHNldEFjdGl2ZUFnZW50UHJvY2VzcyhudWxsKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIEZvciBlZGl0b3IgYWdlbnQsIGtlZXAgaXQgYWN0aXZlIGR1cmluZyB0aGUgZmlsZSBzZWxlY3Rpb24gd29ya2Zsb3dcbiAgICAgICAgICAgICAgLy8gT25seSBjbGVhciBpdCB3aGVuIHRoZSBlZGl0aW5nIGlzIGFjdHVhbGx5IGNvbXBsZXRlXG4gICAgICAgICAgICAgIGlmIChhY3RpdmVBZ2VudElkID09PSAnZWRpdG9yJykge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVkaXRvciBhZ2VudCBpcyB3YWl0aW5nIGZvciBlZGl0IGluc3RydWN0aW9ucyBhZnRlciBmaWxlIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgIGNvbnN0IHsgRWRpdG9yQWdlbnQgfSA9IGF3YWl0IGltcG9ydCgnQC9zdG9yZS9hZ2VudHMvZWRpdG9yQWdlbnQnKTtcbiAgICAgICAgICAgICAgICBpZiAoRWRpdG9yQWdlbnQuY3VycmVudFN0ZXAgPT09ICdlZGl0LXJlcXVlc3QnICYmIEVkaXRvckFnZW50LnNlbGVjdGVkRmlsZSkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0tlZXBpbmcgZWRpdG9yIGFnZW50IGFjdGl2ZSAtIHdhaXRpbmcgZm9yIGVkaXQgaW5zdHJ1Y3Rpb25zJyk7XG4gICAgICAgICAgICAgICAgICAvLyBLZWVwIHRoZSBhZ2VudCBhY3RpdmUgdG8gcmVjZWl2ZSBlZGl0aW5nIGluc3RydWN0aW9uc1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoRWRpdG9yQWdlbnQuY3VycmVudFN0ZXAgPT09ICdmaWxlLXNlbGVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdLZWVwaW5nIGVkaXRvciBhZ2VudCBhY3RpdmUgLSB3YWl0aW5nIGZvciBmaWxlIHNlbGVjdGlvbicpO1xuICAgICAgICAgICAgICAgICAgLy8gS2VlcCB0aGUgYWdlbnQgYWN0aXZlIGR1cmluZyBmaWxlIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ2xlYXJpbmcgZWRpdG9yIGFnZW50IC0gZWRpdGluZyBjb21wbGV0ZScpO1xuICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlQWdlbnQobnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIENsZWFyIGFjdGl2ZSBhZ2VudCBJRCBpZiB0aGUgcmVzdWx0IGluZGljYXRlcyBpbnRlcmFjdGl2ZSBjb21wb25lbnRzIGFyZSBzaG93blxuICAgICAgICAgICAgICAgIC8vIFRoaXMgcHJldmVudHMgc3Vic2VxdWVudCB0ZXh0IGlucHV0IGZyb20gYmVpbmcgcm91dGVkIGJhY2sgdG8gdGhlIGFnZW50XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5pbmNsdWRlcyhcIlNlbGVjdCBhIGZpbGUgdG8gZWRpdFwiKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmluY2x1ZGVzKFwiZmlsZV9zZWxlY3RvclwiKSB8fFxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuaW5jbHVkZXMoXCJDaG9vc2UgYSBmaWxlIGZyb20gdGhlIHNlbGVjdG9yXCIpKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ2xlYXJpbmcgYWN0aXZlIGFnZW50IElEIC0gaW50ZXJhY3RpdmUgY29tcG9uZW50IHNob3duJyk7XG4gICAgICAgICAgICAgICAgICBzZXRBY3RpdmVBZ2VudChudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU3RvcmUgYWdlbnQgcmVzdWx0IHdpdGggcHJvY2VzcyBpbmRpY2F0b3JzICh1c2VyIG1lc3NhZ2UgYWxyZWFkeSBzdG9yZWQgYWJvdmUpXG4gICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgICAgICAgY29udGVudDogYPCfpJYgKioke2FjdGl2ZUFnZW50Lm5hbWV9IEFnZW50IFJlc3VsdDoqKlxcblxcbiR7cmVzdWx0fWAsXG4gICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgcHJvY2Vzc0luZGljYXRvcjogKGlzV2FpdGluZ0ZvcklucHV0IHx8IGlzQ29tcGxldGlvblJlc3BvbnNlIHx8IGlzRm9sbG93VXBUb1dhaXRpbmdBZ2VudCkgPyB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3dhaXRpbmcnLFxuICAgICAgICAgICAgICAgIHByb2Nlc3NUeXBlOiAnZmlsZS1jcmVhdGlvbicsXG4gICAgICAgICAgICAgICAgY29sb3I6ICdncmVlbidcbiAgICAgICAgICAgICAgfSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBEZWJ1ZyBsb2cgZm9yIHdoYXQgcHJvY2Vzc0luZGljYXRvciB3YXMgc2V0XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU3RvcmVDaGF0TWVzc2FnZSBEZWJ1ZzonLCB7XG4gICAgICAgICAgICAgIG1lc3NhZ2VUeXBlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgd2lsbEhhdmVQcm9jZXNzSW5kaWNhdG9yOiAhIShpc1dhaXRpbmdGb3JJbnB1dCB8fCBpc0NvbXBsZXRpb25SZXNwb25zZSB8fCBpc0ZvbGxvd1VwVG9XYWl0aW5nQWdlbnQpLFxuICAgICAgICAgICAgICBpc1dhaXRpbmdGb3JJbnB1dCxcbiAgICAgICAgICAgICAgaXNDb21wbGV0aW9uUmVzcG9uc2UsXG4gICAgICAgICAgICAgIGlzRm9sbG93VXBUb1dhaXRpbmdBZ2VudCxcbiAgICAgICAgICAgICAgcmVzdWx0U25pcHBldDogcmVzdWx0LnN1YnN0cmluZygwLCAxMDApXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdBZ2VudCBleGVjdXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFN0b3JlIHRoZSB1c2VyIG1lc3NhZ2UgYW5kIGVycm9yXG4gICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2VDb250ZW50LFxuICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IGDinYwgQWdlbnQgZXhlY3V0aW9uIGZhaWxlZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gLFxuICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB9IC8vIENsb3NlIHRoZSBpZiAoc2hvdWxkUm91dGVUb0FnZW50KSBibG9ja1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGxvb2tzIGxpa2UgYSBuYXR1cmFsIGxhbmd1YWdlIE1DUCBxdWVyeVxuICAgICAgaWYgKG1jcENvbm5lY3RlZCAmJiBpc01DUFF1ZXJ5KG1lc3NhZ2VDb250ZW50KSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IG1jcFJlc3BvbnNlID0gYXdhaXQgcHJvY2Vzc05hdHVyYWxMYW5ndWFnZShtZXNzYWdlQ29udGVudCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKG1jcFJlc3BvbnNlLnN1Y2Nlc3MgJiYgbWNwUmVzcG9uc2UuY29udGVudCAmJiBtY3BSZXNwb25zZS5jb250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgdGhlIGFjdHVhbCB0ZXh0IGNvbnRlbnQgZnJvbSB0aGUgTUNQIHJlc3BvbnNlXG4gICAgICAgICAgICBjb25zdCB0ZXh0Q29udGVudCA9IG1jcFJlc3BvbnNlLmNvbnRlbnRbMF0udGV4dDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU3RyaXAgbWFya2Rvd24gZm9ybWF0dGluZyBhbmQgY29udmVydCB0byBwbGFpbiB0ZXh0XG4gICAgICAgICAgICBjb25zdCBwbGFpblRleHQgPSBzdHJpcE1hcmtkb3duKHRleHRDb250ZW50KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2VuZCB0aGUgTUNQIHJlc3BvbnNlIHdpdGggY2xlYW4gdGV4dCBjb250ZW50XG4gICAgICAgICAgICBhd2FpdCBzZW5kTWVzc2FnZShg8J+kliBNQ1AgQW5hbHlzaXM6XFxuXFxuJHtwbGFpblRleHR9YCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHNlbmRNZXNzYWdlKG1lc3NhZ2VDb250ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignTUNQIEVycm9yOicsIGVycm9yKTtcbiAgICAgICAgICAvLyBGYWxsIGJhY2sgdG8gcmVndWxhciBjaGF0XG4gICAgICAgICAgYXdhaXQgc2VuZE1lc3NhZ2UobWVzc2FnZUNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZWd1bGFyIGNoYXQgbWVzc2FnZSAtIGFkZCBpbnN0cnVjdGlvbiBjb250ZXh0IGlmIGF2YWlsYWJsZVxuICAgICAgICBsZXQgY29udGV4dHVhbE1lc3NhZ2UgPSBtZXNzYWdlQ29udGVudDtcbiAgICAgICAgaWYgKGluc3RydWN0aW9uQ29udGV4dCkge1xuICAgICAgICAgIGNvbnRleHR1YWxNZXNzYWdlID0gYCR7aW5zdHJ1Y3Rpb25Db250ZXh0fVxcblxcbi0tLVxcblxcbiR7bWVzc2FnZUNvbnRlbnR9YDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQWx3YXlzIHVzZSBzdHJlYW1pbmcgdGhpbmtpbmcgZm9yIGFsbCBtZXNzYWdlcyAodGhpbmtpbmcgZW5hYmxlZCBieSBkZWZhdWx0KVxuICAgICAgICBhd2FpdCBzZW5kTWVzc2FnZVdpdGhTdHJlYW1pbmcoY29udGV4dHVhbE1lc3NhZ2UsIG1lc3NhZ2VDb250ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBoYW5kbGVTdWJtaXQoZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUlucHV0Q2hhbmdlID0gKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICBzZXRNZXNzYWdlKHZhbHVlKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggZmxleC1jb2wgbWluLWgtMFwiPlxuICAgICAgPGRpdiBcbiAgICAgICAgcmVmPXtzY3JvbGxSZWZ9IFxuICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIGJnLVsjMGUwZTBlXSBwLTIgcGItOCBtaW4taC0wIHNjcm9sbGJhci1oaWRkZW5cIlxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbW9ubyB0ZXh0LXhzIHNwYWNlLXktMiBtaW4taC1mdWxsXCI+XG4gICAgICAgICAgey8qIFRlcm1pbmFsIFdlbGNvbWUgVGV4dCAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyNjY2NjY2NdIHNwYWNlLXktMSBtYi00XCI+XG4gICAgICAgICAgICA8ZGl2PkVBQyBGaW5hbmNpYWwgRGFzaGJvYXJkIC0gQUkgQXNzaXN0YW50PC9kaXY+XG4gICAgICAgICAgICB7bWNwRXJyb3IgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyNmNDg3NzFdIHRleHQteHNcIj5NQ1AgRXJyb3I6IHttY3BFcnJvcn08L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyM4NTg1ODVdIG10LTJcIj5BSSBBc3Npc3RhbnQgcmVhZHkgZm9yIEVBQyBwcm9qZWN0IHF1ZXN0aW9ucy48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bIzg1ODU4NV0gdGV4dC14c1wiPlNlc3Npb246IHtzZXNzaW9uSWQuc2xpY2UoLTgpfTwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogU2Vzc2lvbiBTdGF0dXMgYW5kIExpbWl0cyAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bIzg1ODU4NV0gdGV4dC14c1wiPlxuICAgICAgICAgICAgICBNZXNzYWdlczoge21lc3NhZ2VDb3VudH0vNTAwXG4gICAgICAgICAgICAgIHtpc05lYXJTZXNzaW9uTGltaXQgJiYgKFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWyNmNDg3NzFdIG1sLTJcIj7imqDvuI8gQXBwcm9hY2hpbmcgbGltaXQ8L3NwYW4+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHtpc0F0U2Vzc2lvbkxpbWl0ICYmIChcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjZjQ4NzcxXSBtbC0yXCI+8J+aqCBTZXNzaW9uIGZ1bGw8L3NwYW4+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuXG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogTWVzc2FnZXMgKi99XG4gICAgICAgICAge21lc3NhZ2VzPy5tYXAoKG1zZywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIC8vIFVzZSB0aGUgc3RvcmVkIHByb2Nlc3NJbmRpY2F0b3IgZm9yIHZpc3VhbCBjb250aW51aXR5XG4gICAgICAgICAgICBjb25zdCBoYXNQcm9jZXNzSW5kaWNhdG9yID0gbXNnLnByb2Nlc3NJbmRpY2F0b3I7XG4gICAgICAgICAgICBjb25zdCBpc1VzZXJQcm9jZXNzTWVzc2FnZSA9IGhhc1Byb2Nlc3NJbmRpY2F0b3IgJiYgbXNnLnJvbGUgPT09ICd1c2VyJyAmJiBoYXNQcm9jZXNzSW5kaWNhdG9yLnR5cGUgPT09ICdjb250aW51aW5nJztcbiAgICAgICAgICAgIGNvbnN0IGlzQWdlbnRQcm9jZXNzTWVzc2FnZSA9IGhhc1Byb2Nlc3NJbmRpY2F0b3IgJiYgbXNnLnJvbGUgPT09ICdhc3Npc3RhbnQnICYmIGhhc1Byb2Nlc3NJbmRpY2F0b3IudHlwZSA9PT0gJ3dhaXRpbmcnO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgIHttc2cucm9sZSA9PT0gJ3VzZXInICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdGV4dC1bIzAwN2FjY10gJHtpc1VzZXJQcm9jZXNzTWVzc2FnZSA/ICdib3JkZXItbC00IGJvcmRlci1bIzAwNzhkNF0gcGwtMycgOiAnJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bIzAwN2FjY11cIj4kIHVzZXI6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0xIHRleHQtWyNjY2NjY2NdXCI+e21zZy5jb250ZW50fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAge2lzVXNlclByb2Nlc3NNZXNzYWdlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtWyMwMDc4ZDRdIG10LTEgb3BhY2l0eS04MFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAg4oazIENvbnRpbnVpbmcge21zZy5wcm9jZXNzSW5kaWNhdG9yPy5wcm9jZXNzVHlwZT8ucmVwbGFjZSgnLScsICcgJyl9Li4uXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHttc2cucm9sZSA9PT0gJ2Fzc2lzdGFudCcgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B0ZXh0LVsjNGVjOWIwXSAke2lzQWdlbnRQcm9jZXNzTWVzc2FnZSA/ICdib3JkZXItbC00IGJvcmRlci1bIzRlYzliMF0gcGwtMycgOiAnJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bIzRlYzliMF1cIj4kIGFzc2lzdGFudDo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWwtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxNYXJrZG93blJlbmRlcmVyIGNvbnRlbnQ9e21zZy5jb250ZW50fSAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHsvKiBJbnRlcmFjdGl2ZSBDb21wb25lbnQgKi99XG4gICAgICAgICAgICAgICAgICAgIHttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQgJiYgKG1zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5zdGF0dXMgPT09ICdwZW5kaW5nJyB8fCBtc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuc3RhdHVzID09PSAnY29tcGxldGVkJykgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMyBtbC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnR5cGUgPT09ICdwcm9qZWN0X3NlbGVjdG9yJyAmJiAhbXNnLmludGVyYWN0aXZlQ29tcG9uZW50LmRhdGE/LnByb2plY3ROYW1lSW5wdXQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8UHJvamVjdFNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZURldGFpbHM9e21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5kYXRhPy5maWxlRGV0YWlsc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRQcm9qZWN0PXttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuc3RhdHVzID09PSAnY29tcGxldGVkJyA/IG1zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5yZXN1bHQ/LnNlbGVjdGVkUHJvamVjdCA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblByb2plY3RTZWxlY3RlZD17YXN5bmMgKHByb2plY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgY29tcG9uZW50IHN0YXR1cyB0byBjb21wbGV0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogbXNnLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogeyBzZWxlY3RlZFByb2plY3Q6IHByb2plY3QgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udGludWUgdGhlIGZpbGUgY3JlYXRpb24gcHJvY2Vzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb252ZXhNdXRhdGlvbnMgPSBjcmVhdGVDb252ZXhNdXRhdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZUNyZWF0b3JBZ2VudCA9IGFnZW50cy5maW5kKGEgPT4gYS5pZCA9PT0gJ2ZpbGUtY3JlYXRvcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZUNyZWF0b3JBZ2VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpbXVsYXRlIHVzZXIgaW5wdXQgZm9yIHByb2plY3Qgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdFNlbGVjdGlvbklucHV0ID0gYEFkZCBpdCB0byAke3Byb2plY3QubmFtZX1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlbmQgdXNlciBtZXNzYWdlIHNob3dpbmcgdGhlIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogYFNlbGVjdGVkIHByb2plY3Q6ICR7cHJvamVjdC5uYW1lfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NvbnRpbnVpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVHlwZTogJ3Byb2plY3Rfc2VsZWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIHRoZSBhZ2VudCB3aXRoIHRoZSBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+agCBFeGVjdXRpbmcgYWdlbnQgd2l0aCBwcm9qZWN0IHNlbGVjdGlvbjonLCBwcm9qZWN0U2VsZWN0aW9uSW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SnIEFnZW50IGRldGFpbHM6Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWdlbnRJZDogZmlsZUNyZWF0b3JBZ2VudC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xJZDogZmlsZUNyZWF0b3JBZ2VudC50b29sc1swXS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBmaWxlQ3JlYXRvckFnZW50LnRvb2xzWzBdLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXhNdXRhdGlvbnNBdmFpbGFibGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRmlsZTogISFjb252ZXhNdXRhdGlvbnMuY3JlYXRlRmlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0UHJvamVjdHM6ICEhY29udmV4TXV0YXRpb25zLmdldFByb2plY3RzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZUNoYXRNZXNzYWdlOiAhIWNvbnZleE11dGF0aW9ucy5zdG9yZUNoYXRNZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVBZ2VudFRvb2woXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlQ3JlYXRvckFnZW50LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZUNyZWF0b3JBZ2VudC50b29sc1swXS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3RTZWxlY3Rpb25JbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZleE11dGF0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6UgQWdlbnQgZXhlY3V0aW9uIHJlc3VsdDonLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OPIFJlc3VsdCBsZW5ndGg6JywgcmVzdWx0Py5sZW5ndGggfHwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4sgUmVzdWx0IGNvbnRlbnQgcHJldmlldzonLCByZXN1bHQ/LnN1YnN0cmluZygwLCAxMDApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBSZXN1bHQgdHlwZTonLCB0eXBlb2YgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+OryBJcyByZXN1bHQgdHJ1dGh5OicsICEhcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+OryBJcyByZXN1bHQgZW1wdHkgc3RyaW5nOicsIHJlc3VsdCA9PT0gXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq8gUmVzdWx0IHRyaW1tZWQgbGVuZ3RoOicsIHJlc3VsdD8udHJpbSgpPy5sZW5ndGggfHwgMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHN0b3JlIG5vbi1lbXB0eSByZXN1bHRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQudHJpbSgpICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFN0b3Jpbmcgc3VjY2VzcyBtZXNzYWdlIHRvIGNoYXQuLi4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OLIEN1cnJlbnQgc2Vzc2lvbiBJRDonLCBzZXNzaW9uSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4sgTWVzc2FnZSBjb250ZW50IGxlbmd0aDonLCByZXN1bHQubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgdGhlIGFnZW50J3MgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlZE1lc3NhZ2UgPSBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnd2FpdGluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1R5cGU6ICdmaWxlX2NyZWF0aW9uX2NvbXBsZXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2dyZWVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFN1Y2Nlc3MgbWVzc2FnZSBzdG9yZWQgdG8gY2hhdCEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OLIFN0b3JlZCBtZXNzYWdlIHJlc3VsdDonLCBzdG9yZWRNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2FpdCBhIG1vbWVudCBhbmQgY2hlY2sgaWYgdGhlIG1lc3NhZ2UgYXBwZWFycyBpbiB0aGUgbWVzc2FnZXMgYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBNZXNzYWdlcyBhZnRlciBzdWNjZXNzIHN0b3JhZ2U6Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsTWVzc2FnZXM6IG1lc3NhZ2VzPy5sZW5ndGggfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0TWVzc2FnZTogbWVzc2FnZXM/LlttZXNzYWdlcy5sZW5ndGggLSAxXT8uY29udGVudD8uc3Vic3RyaW5nKDAsIDUwKSArICcuLi4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNZXNzYWdlUm9sZTogbWVzc2FnZXM/LlttZXNzYWdlcy5sZW5ndGggLSAxXT8ucm9sZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIEFnZW50IHJldHVybmVkIGVtcHR5IHJlc3VsdCBhZnRlciBwcm9qZWN0IHNlbGVjdGlvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaGFuZGxpbmcgcHJvamVjdCBzZWxlY3Rpb246JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAn4p2MIEVycm9yIHByb2Nlc3NpbmcgcHJvamVjdCBzZWxlY3Rpb24uIFBsZWFzZSB0cnkgYWdhaW4uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbD17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogbXNnLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjYW5jZWxsZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJ+KdjCBGaWxlIGNyZWF0aW9uIGNhbmNlbGxlZC4gWW91IGNhbiBzdGFydCBhIG5ldyBmaWxlIGNyZWF0aW9uIHJlcXVlc3QgYW55dGltZS4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNhbmNlbGxpbmcgcHJvamVjdCBzZWxlY3Rpb246JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWItMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB7bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnR5cGUgPT09ICdmaWxlX3NlbGVjdG9yJyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGaWxlU2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRGaWxlPXttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuc3RhdHVzID09PSAnY29tcGxldGVkJyA/IG1zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5yZXN1bHQ/LnNlbGVjdGVkRmlsZSA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkZpbGVTZWxlY3RlZD17YXN5bmMgKGZpbGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SlIFtGaWxlU2VsZWN0b3JdIEZpbGUgc2VsZWN0ZWQgY2FsbGJhY2sgdHJpZ2dlcmVkOicsIGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBmaWxlIG5hbWUgZm9yIGRhdGFiYXNlIHN0b3JhZ2UgYnV0IHBhc3MgY29tcGxldGUgb2JqZWN0IHRvIGFnZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVQYXRoID0gZmlsZS5uYW1lIHx8IGZpbGUucGF0aCB8fCBmaWxlLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKUgW0ZpbGVTZWxlY3Rvcl0gVXBkYXRpbmcgaW50ZXJhY3RpdmUgY29tcG9uZW50IHN0YXR1cycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGNvbXBvbmVudCBzdGF0dXMgdG8gY29tcGxldGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IG1zZy5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IHsgc2VsZWN0ZWRGaWxlOiBmaWxlUGF0aCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpSBbRmlsZVNlbGVjdG9yXSBDb250aW51aW5nIHRoZSBmaWxlIHNlbGVjdGlvbiBwcm9jZXNzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIHRoZSBmaWxlIHNlbGVjdGlvbiBwcm9jZXNzIGJhc2VkIG9uIHRoZSBhY3RpdmUgYWdlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udmV4TXV0YXRpb25zID0gY3JlYXRlQ29udmV4TXV0YXRpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUFnZW50ID0gYWdlbnRzLmZpbmQoYSA9PiBhLmlkID09PSBhY3RpdmVBZ2VudElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVBZ2VudCAmJiBhY3RpdmVBZ2VudElkID09PSAnZGlyZWN0b3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKUgW0ZpbGVTZWxlY3Rvcl0gRm91bmQgZGlyZWN0b3IgYWdlbnQsIHByb2Nlc3NpbmcgY2FtcGFpZ24gaW5zdHJ1Y3Rpb25zJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VuZCB1c2VyIG1lc3NhZ2Ugc2hvd2luZyB0aGUgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBgU2VsZWN0ZWQgZmlsZTogJHtmaWxlLm5hbWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0luZGljYXRvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY29udGludWluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NUeXBlOiAnZmlsZV9zZWxlY3Rpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SlIFtGaWxlU2VsZWN0b3JdIEV4ZWN1dGluZyBkaXJlY3RvciBhZ2VudCB3aXRoIGZpbGUgc2VsZWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVBZ2VudFRvb2woXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUFnZW50SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUFnZW50LnRvb2xzWzBdLmlkLCAvLyBVc2UgdGhlIHRvb2wgSUQgaW5zdGVhZCBvZiBjb21tYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBTZWxlY3RlZCBmaWxlOiAke2ZpbGUubmFtZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXhNdXRhdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKUgW0ZpbGVTZWxlY3Rvcl0gRGlyZWN0b3IgYWdlbnQgZXhlY3V0aW9uIHJlc3VsdDonLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZSB0aGUgZGlyZWN0b3IgYWdlbnQncyByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3Rvb2xfZXhlY3V0ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRmlsZTogZmlsZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWdlbnRUeXBlOiAnZGlyZWN0b3InXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFtGaWxlU2VsZWN0b3JdIEVycm9yIGV4ZWN1dGluZyBkaXJlY3RvciBhZ2VudDonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGl2ZUFnZW50ICYmIGFjdGl2ZUFnZW50SWQgPT09ICdlZGl0b3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKUgW0ZpbGVTZWxlY3Rvcl0gRm91bmQgZWRpdG9yIGFnZW50LCBwcm9jZXNzaW5nIGZpbGUgZWRpdCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlbmQgdXNlciBtZXNzYWdlIHNob3dpbmcgdGhlIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogYFNlbGVjdGVkIGZpbGU6ICR7ZmlsZS5uYW1lfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NvbnRpbnVpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVHlwZTogJ2ZpbGVfc2VsZWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpSBbRmlsZVNlbGVjdG9yXSBDYWxsaW5nIGhhbmRsZUZpbGVTZWxlY3RlZCBtZXRob2QnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDYWxsIHRoZSBlZGl0b3IgYWdlbnQncyBoYW5kbGVGaWxlU2VsZWN0ZWQgbWV0aG9kIHdpdGggY29tcGxldGUgZmlsZSBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBlZGl0b3JBZ2VudDogYWN0dWFsRWRpdG9yQWdlbnQgfSA9IGF3YWl0IGltcG9ydCgnQC9zdG9yZS9hZ2VudHMvZWRpdG9yQWdlbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SlIFtGaWxlU2VsZWN0b3JdIEltcG9ydGVkIGFjdHVhbCBlZGl0b3IgYWdlbnQgaW5zdGFuY2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SlIFtGaWxlU2VsZWN0b3JdIEFnZW50IGhhcyBoYW5kbGVGaWxlU2VsZWN0ZWQ6JywgJ2hhbmRsZUZpbGVTZWxlY3RlZCcgaW4gYWN0dWFsRWRpdG9yQWdlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJ2hhbmRsZUZpbGVTZWxlY3RlZCcgaW4gYWN0dWFsRWRpdG9yQWdlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgYWN0dWFsRWRpdG9yQWdlbnQuaGFuZGxlRmlsZVNlbGVjdGVkKHNlc3Npb25JZCwgZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SlIFtGaWxlU2VsZWN0b3JdIGhhbmRsZUZpbGVTZWxlY3RlZCBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW0ZpbGVTZWxlY3Rvcl0gaGFuZGxlRmlsZVNlbGVjdGVkIG1ldGhvZCBub3QgZm91bmQgb24gZWRpdG9yIGFnZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbRmlsZVNlbGVjdG9yXSBFcnJvciBjYWxsaW5nIGhhbmRsZUZpbGVTZWxlY3RlZDonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKUgW0ZpbGVTZWxlY3Rvcl0gU3RvcmluZyBtZXNzYWdlIHdpdGggZWRpdCBpbnN0cnVjdGlvbnMgaW5wdXQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTaG93IGVkaXQgaW5zdHJ1Y3Rpb25zIGlucHV0IGNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBg4pyFICoqRmlsZSBTZWxlY3RlZDogJHtmaWxlLm5hbWV9Kipcblxu8J+ThCAqKlRoZSBmaWxlIGhhcyBiZWVuIG9wZW5lZCBpbiB0aGUgZWRpdG9yIHRhYi4qKmAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZUNvbXBvbmVudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZWRpdF9pbnN0cnVjdGlvbnNfaW5wdXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lOiBmaWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICdEZXNjcmliZSB3aGF0IGNoYW5nZXMgeW91IHdhbnQgdG8gbWFrZSB0byB0aGlzIGZpbGUuLi4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4YW1wbGVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQWRkIGEgc2VjdGlvbiBhYm91dCBiZXN0IHByYWN0aWNlcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVXBkYXRlIHRoZSBwcmljaW5nIGluZm9ybWF0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdNYWtlIHRoZSB0b25lIG1vcmUgcHJvZmVzc2lvbmFsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGaXggYW55IGdyYW1tYXIgb3Igc3BlbGxpbmcgZXJyb3JzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBZGQgZXhhbXBsZXMgYW5kIGNvZGUgc25pcHBldHMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGhhbmRsaW5nIGZpbGUgc2VsZWN0aW9uOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBtc2cuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NhbmNlbGxlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAn4p2MIEZpbGUgZWRpdGluZyBjYW5jZWxsZWQuIFlvdSBjYW4gc3RhcnQgYSBuZXcgZWRpdCByZXF1ZXN0IGFueXRpbWUuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2FuY2VsbGluZyBmaWxlIHNlbGVjdGlvbjonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtYi0yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQudHlwZSA9PT0gJ2VkaXRfaW5zdHJ1Y3Rpb25zX2lucHV0JyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxFZGl0SW5zdHJ1Y3Rpb25zSW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LmRhdGE/LnBsYWNlaG9sZGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lPXttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuZGF0YT8uZmlsZU5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhhbXBsZXM9e21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC5kYXRhPy5leGFtcGxlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkluc3RydWN0aW9uc1N1Ym1pdHRlZD17YXN5bmMgKGluc3RydWN0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBjb21wb25lbnQgc3RhdHVzIHRvIGNvbXBsZXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBtc2cuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiB7IGluc3RydWN0aW9ucyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZW5kIHVzZXIgbWVzc2FnZSBzaG93aW5nIHRoZSBlZGl0IGluc3RydWN0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogaW5zdHJ1Y3Rpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb250aW51aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NUeXBlOiAnZWRpdF9pbnN0cnVjdGlvbnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb250aW51ZSB0aGUgZWRpdGluZyBwcm9jZXNzIHVzaW5nIGFnZW50IHJlZ2lzdHJ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZleE11dGF0aW9ucyA9IGNyZWF0ZUNvbnZleE11dGF0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleGVjdXRlQWdlbnRUb29sKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlZGl0b3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlZGl0LWZpbGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydWN0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXhNdXRhdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHByb2Nlc3NpbmcgZWRpdCBpbnN0cnVjdGlvbnM6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBg4p2MICoqRXJyb3IgcHJvY2Vzc2luZyBlZGl0IGluc3RydWN0aW9ucyoqXFxuXFxuJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yIG9jY3VycmVkJ31gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBtc2cuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NhbmNlbGxlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAn4p2MIEVkaXQgaW5zdHJ1Y3Rpb25zIGNhbmNlbGxlZC4gWW91IGNhbiBzdGFydCBhIG5ldyBlZGl0IHJlcXVlc3QgYW55dGltZS4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjYW5jZWxsaW5nIGVkaXQgaW5zdHJ1Y3Rpb25zOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1iLTJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAge21zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC50eXBlID09PSAncHJvamVjdF9zZWxlY3RvcicgJiYgbXNnLmludGVyYWN0aXZlQ29tcG9uZW50LmRhdGE/LnByb2plY3ROYW1lSW5wdXQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8UHJvamVjdE5hbWVJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuZGF0YT8ucGxhY2Vob2xkZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXttc2cuaW50ZXJhY3RpdmVDb21wb25lbnQuZGF0YT8uZGVmYXVsdFZhbHVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUHJvamVjdE5hbWVTdWJtaXR0ZWQ9e2FzeW5jIChwcm9qZWN0TmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBjb21wb25lbnQgc3RhdHVzIHRvIGNvbXBsZXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBtc2cuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiB7IHByb2plY3ROYW1lIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIHRoZSBwcm9qZWN0IGNyZWF0aW9uIHByb2Nlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udmV4TXV0YXRpb25zID0gY3JlYXRlQ29udmV4TXV0YXRpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3RDcmVhdG9yQWdlbnQgPSBhZ2VudHMuZmluZChhID0+IGEuaWQgPT09ICdwcm9qZWN0LWNyZWF0b3InKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2plY3RDcmVhdG9yQWdlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZW5kIHVzZXIgbWVzc2FnZSBzaG93aW5nIHRoZSBwcm9qZWN0IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGBQcm9qZWN0IG5hbWU6ICR7cHJvamVjdE5hbWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NvbnRpbnVpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVHlwZTogJ3Byb2plY3RfbmFtZV9pbnB1dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSB0aGUgYWdlbnQgd2l0aCB0aGUgcHJvamVjdCBuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfmoAgRXhlY3V0aW5nIGFnZW50IHdpdGggcHJvamVjdCBuYW1lOicsIHByb2plY3ROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleGVjdXRlQWdlbnRUb29sKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdENyZWF0b3JBZ2VudC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3RDcmVhdG9yQWdlbnQudG9vbHNbMF0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZleE11dGF0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6UgQWdlbnQgZXhlY3V0aW9uIHJlc3VsdDonLCByZXN1bHQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBzdG9yZSBub24tZW1wdHkgcmVzdWx0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnRyaW0oKSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBTdG9yaW5nIHByb2plY3QgY3JlYXRpb24gc3VjY2VzcyBtZXNzYWdlLi4uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBhZ2VudCdzIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnd2FpdGluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1R5cGU6ICdwcm9qZWN0X2NyZWF0aW9uX2NvbXBsZXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2dyZWVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFByb2plY3QgY3JlYXRpb24gc3VjY2VzcyBtZXNzYWdlIHN0b3JlZCEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBBZ2VudCByZXR1cm5lZCBlbXB0eSByZXN1bHQgYWZ0ZXIgcHJvamVjdCBuYW1lIGlucHV0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBoYW5kbGluZyBwcm9qZWN0IG5hbWUgaW5wdXQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAn4p2MIEVycm9yIHByb2Nlc3NpbmcgcHJvamVjdCBuYW1lLiBQbGVhc2UgdHJ5IGFnYWluLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DYW5jZWw9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IG1zZy5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY2FuY2VsbGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICfinYwgUHJvamVjdCBjcmVhdGlvbiBjYW5jZWxsZWQuIFlvdSBjYW4gc3RhcnQgYSBuZXcgcHJvamVjdCBjcmVhdGlvbiByZXF1ZXN0IGFueXRpbWUuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjYW5jZWxsaW5nIHByb2plY3QgbmFtZSBpbnB1dDonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtYi0yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7KG1zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC50eXBlIGFzIHN0cmluZykgPT09ICdmaWxlX3R5cGVfc2VsZWN0b3InICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEZpbGVUeXBlU2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkZpbGVUeXBlU2VsZWN0ZWQ9e2FzeW5jIChmaWxlVHlwZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgc2VyaWFsaXphYmxlIHZlcnNpb24gb2YgdGhlIGZpbGVUeXBlIHdpdGhvdXQgUmVhY3QgY29tcG9uZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXJpYWxpemFibGVGaWxlVHlwZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBmaWxlVHlwZS50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbjogZmlsZVR5cGUuZXh0ZW5zaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBmaWxlVHlwZS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybTogZmlsZVR5cGUucGxhdGZvcm0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlOiBmaWxlVHlwZS5hdmFpbGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGNvbXBvbmVudCBzdGF0dXMgdG8gY29tcGxldGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IG1zZy5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IHsgZmlsZVR5cGU6IHNlcmlhbGl6YWJsZUZpbGVUeXBlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIHRoZSBmaWxlIGNyZWF0aW9uIHByb2Nlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udmV4TXV0YXRpb25zID0gY3JlYXRlQ29udmV4TXV0YXRpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVDcmVhdG9yQWdlbnQgPSBhZ2VudHMuZmluZChhID0+IGEuaWQgPT09ICdmaWxlLWNyZWF0b3InKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVDcmVhdG9yQWdlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZW5kIHVzZXIgbWVzc2FnZSBzaG93aW5nIHRoZSBmaWxlIHR5cGUgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBgU2VsZWN0ZWQgZmlsZSB0eXBlOiAke2ZpbGVUeXBlLmRlc2NyaXB0aW9ufWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NvbnRpbnVpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVHlwZTogJ2ZpbGVfdHlwZV9zZWxlY3Rpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIGFnZW50IHdpdGggdGhlIGZpbGUgdHlwZSBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+agCBFeGVjdXRpbmcgZmlsZSBjcmVhdG9yIGFnZW50IHdpdGggZmlsZSB0eXBlOicsIGZpbGVUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleGVjdXRlQWdlbnRUb29sKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZUNyZWF0b3JBZ2VudC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVDcmVhdG9yQWdlbnQudG9vbHNbMF0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgRmlsZSB0eXBlOiAke2ZpbGVUeXBlLnR5cGV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZleE11dGF0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6UgRmlsZSBjcmVhdG9yIGFnZW50IHJlc3VsdDonLCByZXN1bHQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBzdG9yZSBub24tZW1wdHkgcmVzdWx0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnRyaW0oKSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBTdG9yaW5nIGZpbGUgdHlwZSBjb250aW51YXRpb24gbWVzc2FnZS4uLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZSB0aGUgYWdlbnQncyByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzSW5kaWNhdG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhaXRpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NUeXBlOiAnZmlsZV90eXBlX2NvbnRpbnVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2dyZWVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEZpbGUgdHlwZSBjb250aW51YXRpb24gbWVzc2FnZSBzdG9yZWQhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gQWdlbnQgcmV0dXJuZWQgZW1wdHkgcmVzdWx0IGFmdGVyIGZpbGUgdHlwZSBzZWxlY3Rpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGhhbmRsaW5nIGZpbGUgdHlwZSBzZWxlY3Rpb246JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAn4p2MIEVycm9yIHByb2Nlc3NpbmcgZmlsZSB0eXBlIHNlbGVjdGlvbi4gUGxlYXNlIHRyeSBhZ2Fpbi4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBtc2cuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NhbmNlbGxlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAn4p2MIEZpbGUgY3JlYXRpb24gY2FuY2VsbGVkLiBZb3UgY2FuIHN0YXJ0IGEgbmV3IGZpbGUgY3JlYXRpb24gcmVxdWVzdCBhbnl0aW1lLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNhbmNlbGxpbmcgZmlsZSB0eXBlIHNlbGVjdGlvbjonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRGaWxlVHlwZT17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcgPyBtc2cuaW50ZXJhY3RpdmVDb21wb25lbnQucmVzdWx0Py5maWxlVHlwZSA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtYi0yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7KG1zZy5pbnRlcmFjdGl2ZUNvbXBvbmVudC50eXBlIGFzIHN0cmluZykgPT09ICdmaWxlX25hbWVfaW5wdXQnICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEZpbGVOYW1lSW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LmRhdGE/LnBsYWNlaG9sZGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LmRhdGE/LmRlZmF1bHRWYWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlVHlwZT17bXNnLmludGVyYWN0aXZlQ29tcG9uZW50LmRhdGE/LmZpbGVUeXBlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRmlsZU5hbWVTdWJtaXR0ZWQ9e2FzeW5jIChmaWxlTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBjb21wb25lbnQgc3RhdHVzIHRvIGNvbXBsZXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVJbnRlcmFjdGl2ZUNvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBtc2cuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiB7IGZpbGVOYW1lIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIHRoZSBmaWxlIGNyZWF0aW9uIHByb2Nlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udmV4TXV0YXRpb25zID0gY3JlYXRlQ29udmV4TXV0YXRpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVDcmVhdG9yQWdlbnQgPSBhZ2VudHMuZmluZChhID0+IGEuaWQgPT09ICdmaWxlLWNyZWF0b3InKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVDcmVhdG9yQWdlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIHRoZSBhZ2VudCB3aXRoIHRoZSBmaWxlIG5hbWUgRklSU1RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+agCBFeGVjdXRpbmcgZmlsZSBjcmVhdG9yIGFnZW50IHdpdGggZmlsZSBuYW1lOicsIGZpbGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleGVjdXRlQWdlbnRUb29sKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZUNyZWF0b3JBZ2VudC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVDcmVhdG9yQWdlbnQudG9vbHNbMF0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZleE11dGF0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUSEVOIHNlbmQgdXNlciBtZXNzYWdlIHNob3dpbmcgdGhlIGZpbGUgbmFtZSAoYWZ0ZXIgYWdlbnQgcHJvY2Vzc2VzIGl0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogZmlsZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NvbnRpbnVpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVHlwZTogJ2ZpbGVfbmFtZV9pbnB1dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OlIEZpbGUgY3JlYXRvciBhZ2VudCByZXN1bHQ6JywgcmVzdWx0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgc3RvcmUgbm9uLWVtcHR5IHJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC50cmltKCkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgU3RvcmluZyBmaWxlIGNyZWF0aW9uIGNvbnRpbnVhdGlvbiBtZXNzYWdlLi4uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBhZ2VudCdzIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NJbmRpY2F0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnd2FpdGluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1R5cGU6ICdmaWxlX2NyZWF0aW9uX2NvbnRpbnVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2dyZWVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEZpbGUgY3JlYXRpb24gY29udGludWF0aW9uIG1lc3NhZ2Ugc3RvcmVkIScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIEFnZW50IHJldHVybmVkIGVtcHR5IHJlc3VsdCBhZnRlciBmaWxlIG5hbWUgaW5wdXQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGhhbmRsaW5nIGZpbGUgbmFtZSBpbnB1dDonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICfinYwgRXJyb3IgcHJvY2Vzc2luZyBmaWxlIG5hbWUuIFBsZWFzZSB0cnkgYWdhaW4uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbD17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlSW50ZXJhY3RpdmVDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogbXNnLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjYW5jZWxsZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RvcmVDaGF0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJ+KdjCBGaWxlIGNyZWF0aW9uIGNhbmNlbGxlZC4gWW91IGNhbiBzdGFydCBhIG5ldyBmaWxlIGNyZWF0aW9uIHJlcXVlc3QgYW55dGltZS4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjYW5jZWxsaW5nIGZpbGUgbmFtZSBpbnB1dDonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtYi0yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB7aXNBZ2VudFByb2Nlc3NNZXNzYWdlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIG10LTEgb3BhY2l0eS04MFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBzdWNjZXNzZnVsIGZpbGUgY3JlYXRpb24gd2l0aCBzcGVjaWZpYyBmaWxlIGluZm9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1zZy5jb250ZW50LmluY2x1ZGVzKFwiVGhlIGNvbXByZWhlbnNpdmUgaW5zdHJ1Y3Rpb24gZG9jdW1lbnQgaGFzIGJlZW4gY3JlYXRlZCBhbmQgc2F2ZWQgdG8geW91ciBmaWxlcy5cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IGZpbGVuYW1lIGZyb20gdGhlIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlTWF0Y2ggPSBtc2cuY29udGVudC5tYXRjaCgv8J+ThCBcXCpcXCpGaWxlOlxcKlxcKiBgKFteYF0rKWAvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGZpbGVNYXRjaCA/IGZpbGVNYXRjaFsxXSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBwcm9qZWN0RmlsZXMgfSA9IHVzZUVkaXRvclN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gcHJvamVjdEZpbGVzLmZpbmQoZiA9PiBmLm5hbWUgPT09IGZpbGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUVkaXRvclN0b3JlLmdldFN0YXRlKCkub3BlblRhYihmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtWyMwMDdhY2NdIGhvdmVyOnRleHQtWyM0ZWM5YjBdIGhvdmVyOnVuZGVybGluZSBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDihrMgQ2xpY2sgaGVyZSB0byB2aWV3IHlvdXIgZmlsZS4uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIENNTyByZXBvcnQgZ2VuZXJhdGlvbiBzdWNjZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtc2cuY29udGVudC5pbmNsdWRlcyhcIkNNT19SRVBPUlRfR0VORVJBVEVEX1NVQ0NFU1M6XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZU1hdGNoID0gbXNnLmNvbnRlbnQubWF0Y2goL0NNT19SRVBPUlRfR0VORVJBVEVEX1NVQ0NFU1M6XFxzKiguKykkLyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBmaWxlTWF0Y2ggPyBmaWxlTWF0Y2hbMV0udHJpbSgpIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHByb2plY3RGaWxlcyB9ID0gdXNlRWRpdG9yU3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBwcm9qZWN0RmlsZXMuZmluZChmID0+IGYubmFtZSA9PT0gZmlsZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlRWRpdG9yU3RvcmUuZ2V0U3RhdGUoKS5vcGVuVGFiKGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgdGV4dC1bIzAwN2FjY10gaG92ZXI6dGV4dC1bIzRlYzliMF0gaG92ZXI6dW5kZXJsaW5lIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tY29sb3JzIHRleHQteHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidHJhbnNmb3JtIHJvdGF0ZS05MFwiPuKGszwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPcGVuIEluc3RydWN0aW9ucyBGaWxlIFRhYlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIENNTyByZXBvcnQgdGhhdCBuZWVkcyBtYW51YWwgc2F2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobXNnLmNvbnRlbnQuaW5jbHVkZXMoXCJDTU9fUkVQT1JUX01BTlVBTF9TQVZFX05FRURFRDpcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlTWF0Y2ggPSBtc2cuY29udGVudC5tYXRjaCgvQ01PX1JFUE9SVF9NQU5VQUxfU0FWRV9ORUVERUQ6XFxzKiguKykkLyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBmaWxlTWF0Y2ggPyBmaWxlTWF0Y2hbMV0udHJpbSgpIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb252ZXhNdXRhdGlvbnMgPSBjcmVhdGVDb252ZXhNdXRhdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBzYW1lIHJlcG9ydCBjb250ZW50IGZyb20gdGhlIG1lc3NhZ2UgdG8gY3JlYXRlIGluc3RydWN0aW9uIGZpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVwb3J0TWF0Y2ggPSBtc2cuY29udGVudC5tYXRjaCgv8J+TiyBcXCpcXCpNYXJrZXRpbmcgQ2FtcGFpZ24gUmVwb3J0IEdlbmVyYXRlZFxcKlxcKihbXFxzXFxTXSo/KeKaoO+4jyBcXCpcXCpOb3RlOi8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXBvcnRDb250ZW50ID0gcmVwb3J0TWF0Y2ggPyByZXBvcnRNYXRjaFsxXS50cmltKCkgOiAnTWFya2V0aW5nIENhbXBhaWduIFJlcG9ydCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIHRoZSBpbnN0cnVjdGlvbnMgYWdlbnQgdG8gY3JlYXRlIHRoZSBmaWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGV4ZWN1dGVBZ2VudFRvb2woXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luc3RydWN0aW9ucycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ25hdHVyYWwtbGFuZ3VhZ2UtaW5zdHJ1Y3Rpb25zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgQ3JlYXRlIG1hcmtldGluZyBjYW1wYWlnbiBpbnN0cnVjdGlvbiBmaWxlIG5hbWVkIFwiJHtmaWxlTmFtZX1cIiB3aXRoIHRoZSBjYW1wYWlnbiBzdHJhdGVneSByZXBvcnQgdGhhdCB3YXMganVzdCBnZW5lcmF0ZWRgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZleE11dGF0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgaW5zdHJ1Y3Rpb24gZmlsZTonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSB0ZXh0LVsjMDA3YWNjXSBob3Zlcjp0ZXh0LVsjNGVjOWIwXSBob3Zlcjp1bmRlcmxpbmUgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1jb2xvcnMgdGV4dC14c1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0cmFuc2Zvcm0gcm90YXRlLTkwXCI+4oazPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENyZWF0ZSBhbiBJbnN0cnVjdGlvbiBGaWxlIEhlcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIG90aGVyIHN1Y2Nlc3MgaW5kaWNhdG9yc1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobXNnLmNvbnRlbnQuaW5jbHVkZXMoXCLinIUgKipGaWxlIENyZWF0ZWQgU3VjY2Vzc2Z1bGx5ISoqXCIpIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnLmNvbnRlbnQuaW5jbHVkZXMoXCLinIUgKipQcm9qZWN0IENyZWF0ZWQgU3VjY2Vzc2Z1bGx5ISoqXCIpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2cuY29udGVudC5pbmNsdWRlcyhcIuKchSAqKlRlbXBsYXRlIEFwcGxpZWQgU3VjY2Vzc2Z1bGx5ISoqXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWyM0ZWM5YjBdXCI+4oazIFByb2Nlc3MgY29tcGxldGVkIHN1Y2Nlc3NmdWxseSE8L3NwYW4+O1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IHdhaXRpbmcgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bIzRlYzliMF1cIj7ihrMgQWdlbnQgd2FpdGluZyBmb3IgeW91ciBpbnB1dC4uLjwvc3Bhbj47XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBDTU8gQWdlbnQgQ3JlYXRlIEluc3RydWN0aW9uIEZpbGUgQnV0dG9uIC0gb25seSBhcHBlYXJzIHdoZW4gQ01PIGFnZW50IGlzIGFjdGl2ZSAqL31cbiAgICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hvdWxkU2hvdyA9IGFjdGl2ZUFnZW50SWQgPT09ICdjbW8nICYmIG1zZy5yb2xlID09PSAnYXNzaXN0YW50JztcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBCdXR0b24gY29uZGl0aW9uIGNoZWNrOicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUFnZW50SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBtc2dSb2xlOiBtc2cucm9sZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZFNob3csXG4gICAgICAgICAgICAgICAgICAgICAgICBtc2dDb250ZW50OiBtc2cuY29udGVudC5zdWJzdHJpbmcoMCwgNTApXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNob3VsZFNob3c7XG4gICAgICAgICAgICAgICAgICAgIH0pKCkgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBtbC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBrZXkgaW5mb3JtYXRpb24gZnJvbSB0aGUgQ2FtcGFpZ24gRGlyZWN0b3IncyByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IG1zZy5jb250ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSBhIGRlc2NyaXB0aXZlIGZpbGVuYW1lIGJhc2VkIG9uIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaWxlTmFtZSA9IFwiY2FtcGFpZ24tc3RyYXRlZ3lcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJ5IHRvIGV4dHJhY3QgY2FtcGFpZ24gbmFtZSBvciB0eXBlIGZyb20gY29udGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGl0bGVNYXRjaCA9IGNvbnRlbnQubWF0Y2goLyg/Ol58XFxuKSNcXHMqKC4rKSQvbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGl0bGVNYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aXRsZSA9IHRpdGxlTWF0Y2hbMV0udHJpbSgpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvW15hLXowLTlcXHNdL2csICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHMrL2csICctJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3Vic3RyaW5nKDAsIDUwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWUgPSB0aXRsZSB8fCBmaWxlTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRpbWVzdGFtcCB0byBlbnN1cmUgdW5pcXVlbmVzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5hbEZpbGVOYW1lID0gYCR7ZmlsZU5hbWV9LSR7dGltZXN0YW1wfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvcm1hdCB0aGUgY29udGVudCBhcyBhIG5pY2UgaW5zdHJ1Y3Rpb24gZG9jdW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluc3RydWN0aW9uQ29udGVudCA9IGAjIENhbXBhaWduIFN0cmF0ZWd5IEluc3RydWN0aW9uc1xuXG5UaGlzIGluc3RydWN0aW9uIGRvY3VtZW50IHdhcyBnZW5lcmF0ZWQgZnJvbSBhIENhbXBhaWduIFN0cmF0ZWd5IHJlc3BvbnNlLlxuXG4tLS1cblxuJHtjb250ZW50fVxuXG4tLS1cblxuKipHZW5lcmF0ZWQ6KiogJHtuZXcgRGF0ZSgpLnRvTG9jYWxlU3RyaW5nKCl9XG4qKlNvdXJjZToqKiBDYW1wYWlnbiBTdHJhdGVneSBBZ2VudGA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgaW5zdHJ1Y3Rpb24gZmlsZSBkaXJlY3RseVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgY3JlYXRlSW5zdHJ1Y3Rpb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBmaW5hbEZpbGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBpbnN0cnVjdGlvbkNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcGljOiBcIkNhbXBhaWduIFN0cmF0ZWd5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGllbmNlOiBcIk1hcmtldGluZyBUZWFtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEluc3RydWN0aW9uIGZpbGUgY3JlYXRlZCBzdWNjZXNzZnVsbHk6JywgZmluYWxGaWxlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNob3cgc3VjY2VzcyBmZWVkYmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3VjY2Vzc01lc3NhZ2UgPSBg4pyFICoqSW5zdHJ1Y3Rpb24gRmlsZSBDcmVhdGVkISoqXFxuXFxu8J+ThCAqKkZpbGU6KiogXFxgJHtmaW5hbEZpbGVOYW1lfS5tZFxcYFxcbvCfjq8gKipUb3BpYzoqKiBDYW1wYWlnbiBTdHJhdGVneVxcbvCfk4EgKipMb2NhdGlvbjoqKiBJbnN0cnVjdGlvbnMgUHJvamVjdFxcblxcblRoZSBjYW1wYWlnbiBzdHJhdGVneSBoYXMgYmVlbiBzYXZlZCBhcyBhbiBpbnN0cnVjdGlvbiBmaWxlIGZvciBmdXR1cmUgcmVmZXJlbmNlLmA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCBzdWNjZXNzIG1lc3NhZ2UgdG8gY2hhdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3JlQ2hhdE1lc3NhZ2UgJiYgc2Vzc2lvbklkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JlQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHN1Y2Nlc3NNZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBpbnN0cnVjdGlvbiBmaWxlOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2hvdyBlcnJvciBmZWVkYmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYOKdjCAqKkZhaWxlZCB0byBDcmVhdGUgSW5zdHJ1Y3Rpb24gRmlsZSoqXFxuXFxuVGhlcmUgd2FzIGFuIGVycm9yIHNhdmluZyB0aGUgY2FtcGFpZ24gc3RyYXRlZ3kgYXMgYW4gaW5zdHJ1Y3Rpb24gZmlsZS4gUGxlYXNlIHRyeSBhZ2FpbiBvciBjb250YWN0IHN1cHBvcnQgaWYgdGhlIGlzc3VlIHBlcnNpc3RzLmA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdG9yZUNoYXRNZXNzYWdlICYmIHNlc3Npb25JZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdG9yZUNoYXRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBlcnJvck1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgdGV4dC1bIzAwN2FjY10gaG92ZXI6dGV4dC1bIzRlYzliMF0gaG92ZXI6dW5kZXJsaW5lIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tY29sb3JzIHRleHQteHMgb3BhY2l0eS02MCBob3ZlcjpvcGFjaXR5LTEwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRyYW5zZm9ybSByb3RhdGUtOTBcIj7ihrM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIENyZWF0ZSBhbiBJbnN0cnVjdGlvbiBGaWxlIEhlcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBDTU8gQWdlbnQgQ3JlYXRlIEluc3RydWN0aW9uIEZpbGUgQnV0dG9uIC0gb25seSBhcHBlYXJzIGZvciBDTU8gYWdlbnQgcmVzcG9uc2VzICovfVxuICAgICAgICAgICAgICAgICAgICB7KG1zZy5jb250ZW50LmluY2x1ZGVzKCdDTU9fUkVQT1JUX0dFTkVSQVRFRF9TVUNDRVNTJykgfHwgbXNnLmNvbnRlbnQuaW5jbHVkZXMoJ0NNT19SRVBPUlRfTUFOVUFMX1NBVkVfTkVFREVEJykpICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgbWwtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZleE11dGF0aW9ucyA9IGNyZWF0ZUNvbnZleE11dGF0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBkZXNjcmlwdGl2ZSBwcm9tcHQgZnJvbSB0aGUgYXNzaXN0YW50J3MgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlQ29udGVudCA9IG1zZy5jb250ZW50LnN1YnN0cmluZygwLCAyMDApLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb21wdCA9IGBDcmVhdGUgaW5zdHJ1Y3Rpb24gZmlsZSBmcm9tIHRoaXMgQ01PIGFnZW50IHJlc3BvbnNlOiBcIiR7cmVzcG9uc2VDb250ZW50fSR7bXNnLmNvbnRlbnQubGVuZ3RoID4gMjAwID8gJy4uLicgOiAnJ31cImA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIGluc3RydWN0aW9ucyBhZ2VudCB0byBjcmVhdGUgdGhlIGZpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGV4ZWN1dGVBZ2VudFRvb2woXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpbnN0cnVjdGlvbnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZ2VuZXJhdGUtaW5zdHJ1Y3Rpb25zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbXB0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXhNdXRhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGluc3RydWN0aW9uIGZpbGU6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgdGV4dC1bIzAwN2FjY10gaG92ZXI6dGV4dC1bIzRlYzliMF0gaG92ZXI6dW5kZXJsaW5lIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tY29sb3JzIHRleHQteHMgb3BhY2l0eS02MCBob3ZlcjpvcGFjaXR5LTEwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRyYW5zZm9ybSByb3RhdGUtOTBcIj7ihrM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIENyZWF0ZSBhbiBJbnN0cnVjdGlvbiBGaWxlIEhlcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7bXNnLnJvbGUgPT09ICd0aGlua2luZycgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjZDRkNGFhXVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjZDRkNGFhXVwiPvCfp6AgdGhpbmtpbmc6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1sLTEgdGV4dC1bI2NjY2NjY10gd2hpdGVzcGFjZS1wcmUtd3JhcCB0ZXh0LXhzIGZvbnQtbW9ubyBpdGFsaWNcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7bXNnLmNvbnRlbnR9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7bXNnLnJvbGUgPT09ICd0ZXJtaW5hbCcgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjODU4NTg1XVwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWyM1ODU4NThdIHdoaXRlc3BhY2UtcHJlLXdyYXAgYmctWyMxYTFhMWFdIHAtMSByb3VuZGVkIHRleHQtWzEwcHhdIGJvcmRlci1sLTIgYm9yZGVyLVsjMzMzXVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHttc2cuY29udGVudH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG5cbiAgICAgICAgICB7LyogU3RyZWFtaW5nIFRoaW5raW5nIERpc3BsYXkgKi99XG4gICAgICAgICAge2lzU3RyZWFtaW5nVGhpbmtpbmcgJiYgc3RyZWFtaW5nVGhpbmtpbmcgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjZDRkNGFhXVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWyNkNGQ0YWFdXCI+8J+noCB0aGlua2luZzo8L3NwYW4+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC0xIHRleHQtWyNjY2NjY2NdIHdoaXRlc3BhY2UtcHJlLXdyYXAgdGV4dC14cyBmb250LW1vbm8gaXRhbGljXCI+XG4gICAgICAgICAgICAgICAgICB7c3RyZWFtaW5nVGhpbmtpbmd9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHsvKiBMb2FkaW5nIGluZGljYXRvciAqL31cbiAgICAgICAgICB7aXNMb2FkaW5nICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bIzRlYzliMF1cIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bIzRlYzliMF1cIj7wn6SWIGFzc2lzdGFudDo8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTEgdGV4dC1bIzg1ODU4NV1cIj50aGlua2luZy4uLjwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBQaW5uZWQgQWdlbnQgUHJvZ3Jlc3MgQmFyICovfVxuICAgICAge2FnZW50UHJvZ3Jlc3MgJiYgYWdlbnRQcm9ncmVzcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1bIzBlMGUwZV0gcC0yIGZvbnQtbW9ubyB0ZXh0LXhzIGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICB7YWdlbnRQcm9ncmVzcy5tYXAoKHByb2dyZXNzKSA9PiAoXG4gICAgICAgICAgICA8ZGl2IGtleT17cHJvZ3Jlc3MuX2lkfSBjbGFzc05hbWU9XCJtYi0yIGxhc3Q6bWItMFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0xXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bIzAwN2FjY10gdGV4dC14c1wiPlxuICAgICAgICAgICAgICAgICAg8J+kliB7cHJvZ3Jlc3MuYWdlbnRUeXBlfSBBZ2VudFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjODU4NTg1XSB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgICAgICB7cHJvZ3Jlc3MucGVyY2VudGFnZX0lXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTY0IGJnLVsjMzMzXSByb3VuZGVkLWZ1bGwgaC0xLjUgcmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLVsjMDA3YWNjXSBoLTEuNSByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGFic29sdXRlIGxlZnQtMCB0b3AtMFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYCR7TWF0aC5taW4oMTAwLCBNYXRoLm1heCgwLCBwcm9ncmVzcy5wZXJjZW50YWdlKSl9JWAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAge3Byb2dyZXNzLnN0YXR1cyAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsjODU4NTg1XSB0ZXh0LXhzIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgIHtwcm9ncmVzcy5zdGF0dXN9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogSW5wdXQgYXJlYSAtIE5vdyBvdXRzaWRlIHRoZSBzY3JvbGxhYmxlIGNvbnRhaW5lciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctWyMwZTBlMGVdIHAtMiBmb250LW1vbm8gdGV4dC14cyBmbGV4LXNocmluay0wXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsjMDA3YWNjXVwiPiQgdXNlcjo8L3NwYW4+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwiZmxleC0xIG1sLTFcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICByZWY9e2lucHV0UmVmfVxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgIHZhbHVlPXttZXNzYWdlfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlSW5wdXRDaGFuZ2V9XG4gICAgICAgICAgICAgIG9uS2V5RG93bj17aGFuZGxlS2V5RG93bn1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e1xuICAgICAgICAgICAgICAgIGlzQXRTZXNzaW9uTGltaXQgXG4gICAgICAgICAgICAgICAgICA/IFwiU2Vzc2lvbiBsaW1pdCByZWFjaGVkIC0gU3RhcnQgbmV3IHNlc3Npb24gdG8gY29udGludWUuLi5cIiBcbiAgICAgICAgICAgICAgICAgIDogaXNMb2FkaW5nIFxuICAgICAgICAgICAgICAgICAgICA/IFwiQUkgaXMgdGhpbmtpbmcuLi5cIiBcbiAgICAgICAgICAgICAgICAgICAgOiBcIkFzayBhYm91dCB5b3VyIEVBQyBwcm9qZWN0Li4uXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nIHx8IGlzQXRTZXNzaW9uTGltaXR9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBiZy10cmFuc3BhcmVudCBib3JkZXItbm9uZSBvdXRsaW5lLW5vbmUgcGxhY2Vob2xkZXI6dGV4dC1bIzg1ODU4NV0gZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgY2FyZXQtWyNjY2NjY2NdICR7XG4gICAgICAgICAgICAgICAgaXNBdFNlc3Npb25MaW1pdCA/ICd0ZXh0LVsjZjQ4NzcxXScgOiAndGV4dC1bI2NjY2NjY10nXG4gICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59Il0sIm5hbWVzIjpbImFwaSIsInVzZUNoYXQiLCJ1c2VJbnN0cnVjdGlvbkNvbnRleHQiLCJ1c2VJbnN0cnVjdGlvbnMiLCJ1c2VNQ1AiLCJ1c2VBZ2VudFN0b3JlIiwidXNlRWRpdG9yU3RvcmUiLCJ1c2VDaGF0U3RvcmUiLCJ1c2VTZXNzaW9uU3RvcmUiLCJ1c2VVc2VyIiwidXNlQWN0aW9uIiwidXNlTXV0YXRpb24iLCJ1c2VRdWVyeSIsIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJFZGl0SW5zdHJ1Y3Rpb25zSW5wdXQiLCJGaWxlTmFtZUlucHV0IiwiRmlsZVNlbGVjdG9yIiwiRmlsZVR5cGVTZWxlY3RvciIsIk1hcmtkb3duUmVuZGVyZXIiLCJQcm9qZWN0TmFtZUlucHV0IiwiUHJvamVjdFNlbGVjdG9yIiwiQ2hhdE1lc3NhZ2VzIiwic2Nyb2xsUmVmIiwiaW5wdXRSZWYiLCJwcm9jZXNzZWRPcGVyYXRpb25zIiwiU2V0IiwibWVzc2FnZSIsInNldE1lc3NhZ2UiLCJhY3RpdmVBZ2VudFByb2Nlc3MiLCJzZXRBY3RpdmVBZ2VudFByb2Nlc3MiLCJjb25zb2xlIiwibG9nIiwidXNlciIsImlzTG9hZGVkIiwiaW5pdGlhbGl6ZVVzZXJTZXNzaW9uIiwiYWRkVGVybWluYWxGZWVkYmFjayIsInNldFNlc3Npb25JZCIsImFjdGl2ZVNlc3Npb25JZCIsIm1lc3NhZ2VzIiwiaXNMb2FkaW5nIiwiY2hhdExvYWRpbmciLCJzZW5kTWVzc2FnZSIsInNlbmRNZXNzYWdlV2l0aFN0cmVhbWluZyIsInNlc3Npb25JZCIsInN0b3JlQ2hhdE1lc3NhZ2UiLCJ1c2VUZXJtaW5hbEZlZWRiYWNrIiwic3RyZWFtaW5nVGhpbmtpbmciLCJpc1N0cmVhbWluZ1RoaW5raW5nIiwibWVzc2FnZUNvdW50IiwiaXNOZWFyU2Vzc2lvbkxpbWl0IiwiaXNBdFNlc3Npb25MaW1pdCIsImNhbkFkZE1lc3NhZ2VzIiwiZ2V0U2Vzc2lvblN0YXR1cyIsInN0YXJ0TmV3U2Vzc2lvbiIsImFnZW50UHJvZ3Jlc3MiLCJjaGF0IiwiZ2V0QWdlbnRQcm9ncmVzcyIsImlzQ29ubmVjdGVkIiwibWNwQ29ubmVjdGVkIiwibWNwTG9hZGluZyIsImVycm9yIiwibWNwRXJyb3IiLCJhdmFpbGFibGVUb29scyIsInByb2Nlc3NOYXR1cmFsTGFuZ3VhZ2UiLCJhZ2VudHMiLCJhY3RpdmVBZ2VudElkIiwic2V0QWN0aXZlQWdlbnQiLCJleGVjdXRlQWdlbnRUb29sIiwiY3JlYXRlSW5zdHJ1Y3Rpb24iLCJmaWxlcyIsImNyZWF0ZUluc3RydWN0aW9uRmlsZSIsImVuc3VyZUluc3RydWN0aW9uc1Byb2plY3QiLCJwcm9qZWN0cyIsInVwc2VydFBvc3QiLCJzb2NpYWxQb3N0cyIsInNjaGVkdWxlUG9zdCIsImNyZWF0ZUNvbnRlbnRDcmVhdGlvbkZpbGUiLCJjcmVhdGVQcm9qZWN0IiwiY3JlYXRlRmlsZSIsImdldEFsbFVzZXJGaWxlcyIsInVwZGF0ZUludGVyYWN0aXZlQ29tcG9uZW50IiwiZWRpdEZpbGVXaXRoQUkiLCJlZGl0b3JBY3Rpb25zIiwidXBkYXRlRmlsZUNvbnRlbnQiLCJhbGxQb3N0cyIsImdldEFsbFBvc3RzIiwiYWxsUHJvamVjdHMiLCJnZXRQcm9qZWN0cyIsImluc3RydWN0aW9uQ29udGV4dCIsImluc3RydWN0aW9uc0xvYWRpbmciLCJjcmVhdGVOZXdGaWxlIiwiY3VycmVudCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsInVzZXJJZCIsImlkIiwidGltZW91dCIsInNldFRpbWVvdXQiLCJhZ2UiLCJEYXRlIiwibm93IiwidGltZXN0YW1wIiwiY2xlYXJUaW1lb3V0Iiwic3RyaXBNYXJrZG93biIsInRleHQiLCJyZXBsYWNlIiwic3BsaXQiLCJtYXAiLCJsaW5lIiwidHJpbSIsInN0YXJ0c1dpdGgiLCJsZW5ndGgiLCJqb2luIiwiaXNNQ1BRdWVyeSIsIm1jcEtleXdvcmRzIiwibG93ZXJUZXh0IiwidG9Mb3dlckNhc2UiLCJzb21lIiwia2V5d29yZCIsImluY2x1ZGVzIiwiaGFuZGxlVG9vbFNlbGVjdG9yQ2xvc2UiLCJmb2N1cyIsImNyZWF0ZUNvbnZleE11dGF0aW9ucyIsInBhcmFtcyIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInN0YXR1cyIsImJ1ZGdldCIsImdldEFsbEZpbGVzIiwicm9sZSIsImNvbnRlbnQiLCJvcGVyYXRpb24iLCJwcm9jZXNzSW5kaWNhdG9yIiwiaW50ZXJhY3RpdmVDb21wb25lbnQiLCJtZXNzYWdlSWQiLCJyZXN1bHQiLCJ0eXBlIiwicHJvamVjdElkIiwiZXh0ZW5zaW9uIiwicGxhdGZvcm0iLCJzaXplIiwiZmlsZU5hbWUiLCJvcmlnaW5hbENvbnRlbnQiLCJlZGl0SW5zdHJ1Y3Rpb25zIiwiZmlsZVR5cGUiLCJmaWxlSWQiLCJjcmVhdGVDYW1wYWlnbiIsIl9pZCIsImNyZWF0ZVBvc3RzQmF0Y2giLCJwb3N0cyIsIl8iLCJpbmRleCIsImhhbmRsZVN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIndhcm4iLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyMTIiLCJob3VyIiwibWludXRlIiwic2Vjb25kIiwibWVzc2FnZUNvbnRlbnQiLCJzaG91bGRSb3V0ZVRvQWdlbnQiLCJFZGl0b3JBZ2VudCIsImhhc1NlbGVjdGVkRmlsZSIsInNlbGVjdGVkRmlsZSIsImlzV2FpdGluZ0ZvckVkaXRJbnN0cnVjdGlvbnMiLCJjdXJyZW50U3RlcCIsImxhc3RNZXNzYWdlIiwiY29udmV4TXV0YXRpb25zIiwiaXNGb2xsb3dVcFRvV2FpdGluZ0FnZW50IiwiY29udGVudFByZXZpZXciLCJzdWJzdHJpbmciLCJhY3RpdmVBZ2VudCIsImZpbmQiLCJhZ2VudCIsInRvb2xzIiwiZGVmYXVsdFRvb2wiLCJwcm9jZXNzVHlwZSIsImNvbG9yIiwidW5kZWZpbmVkIiwiaXNXYWl0aW5nRm9ySW5wdXQiLCJpc0NvbXBsZXRpb25SZXNwb25zZSIsImhhc1NlbGVjdFByb2plY3QiLCJoYXNOZXh0TWVzc2FnZSIsImhhc1doaWNoUHJvamVjdCIsImhhc0F2YWlsYWJsZVByb2plY3RzIiwiaGFzRmlsZUNyZWF0ZWQiLCJoYXNOZXh0U3RlcHMiLCJhZ2VudElkIiwibWVzc2FnZVR5cGUiLCJ3aWxsSGF2ZVByb2Nlc3NJbmRpY2F0b3IiLCJyZXN1bHRTbmlwcGV0IiwiRXJyb3IiLCJtY3BSZXNwb25zZSIsInN1Y2Nlc3MiLCJ0ZXh0Q29udGVudCIsInBsYWluVGV4dCIsImNvbnRleHR1YWxNZXNzYWdlIiwiaGFuZGxlS2V5RG93biIsImtleSIsInNoaWZ0S2V5IiwiaGFuZGxlSW5wdXRDaGFuZ2UiLCJ2YWx1ZSIsInRhcmdldCIsImRpdiIsImNsYXNzTmFtZSIsInJlZiIsInNsaWNlIiwic3BhbiIsIm1zZyIsImhhc1Byb2Nlc3NJbmRpY2F0b3IiLCJpc1VzZXJQcm9jZXNzTWVzc2FnZSIsImlzQWdlbnRQcm9jZXNzTWVzc2FnZSIsImRhdGEiLCJwcm9qZWN0TmFtZUlucHV0IiwiZmlsZURldGFpbHMiLCJkaXNhYmxlZCIsInNlbGVjdGVkUHJvamVjdCIsIm9uUHJvamVjdFNlbGVjdGVkIiwicHJvamVjdCIsImZpbGVDcmVhdG9yQWdlbnQiLCJhIiwicHJvamVjdFNlbGVjdGlvbklucHV0IiwidG9vbElkIiwidG9vbE5hbWUiLCJjb252ZXhNdXRhdGlvbnNBdmFpbGFibGUiLCJzdG9yZWRNZXNzYWdlIiwidG90YWxNZXNzYWdlcyIsImxhc3RNZXNzYWdlUm9sZSIsIm9uQ2FuY2VsIiwib25GaWxlU2VsZWN0ZWQiLCJmaWxlIiwiZmlsZVBhdGgiLCJwYXRoIiwiZGV0YWlscyIsImFnZW50VHlwZSIsImVkaXRvckFnZW50IiwiYWN0dWFsRWRpdG9yQWdlbnQiLCJoYW5kbGVGaWxlU2VsZWN0ZWQiLCJwbGFjZWhvbGRlciIsImV4YW1wbGVzIiwib25JbnN0cnVjdGlvbnNTdWJtaXR0ZWQiLCJpbnN0cnVjdGlvbnMiLCJkZWZhdWx0VmFsdWUiLCJvblByb2plY3ROYW1lU3VibWl0dGVkIiwicHJvamVjdE5hbWUiLCJwcm9qZWN0Q3JlYXRvckFnZW50Iiwib25GaWxlVHlwZVNlbGVjdGVkIiwic2VyaWFsaXphYmxlRmlsZVR5cGUiLCJhdmFpbGFibGUiLCJzZWxlY3RlZEZpbGVUeXBlIiwib25GaWxlTmFtZVN1Ym1pdHRlZCIsImZpbGVNYXRjaCIsIm1hdGNoIiwiYnV0dG9uIiwib25DbGljayIsInByb2plY3RGaWxlcyIsImdldFN0YXRlIiwiZiIsIm9wZW5UYWIiLCJyZXBvcnRNYXRjaCIsInJlcG9ydENvbnRlbnQiLCJzaG91bGRTaG93IiwibXNnUm9sZSIsIm1zZ0NvbnRlbnQiLCJ0aXRsZU1hdGNoIiwidGl0bGUiLCJ0b0lTT1N0cmluZyIsImZpbmFsRmlsZU5hbWUiLCJpbnN0cnVjdGlvbkNvbnRlbnQiLCJ0b0xvY2FsZVN0cmluZyIsInRvcGljIiwiYXVkaWVuY2UiLCJzdWNjZXNzTWVzc2FnZSIsImVycm9yTWVzc2FnZSIsInJlc3BvbnNlQ29udGVudCIsInByb21wdCIsInByb2dyZXNzIiwicGVyY2VudGFnZSIsInN0eWxlIiwid2lkdGgiLCJNYXRoIiwibWluIiwibWF4IiwiZm9ybSIsIm9uU3VibWl0IiwiaW5wdXQiLCJvbkNoYW5nZSIsIm9uS2V5RG93biJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/_components/terminal/_components/chatMessages.tsx\n"));

/***/ })

});