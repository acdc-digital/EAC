"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./store/agents/cmoAgent.ts":
/*!**********************************!*\
  !*** ./store/agents/cmoAgent.ts ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CMOAgent: () => (/* binding */ CMOAgent),\n/* harmony export */   cmoAgent: () => (/* binding */ cmoAgent)\n/* harmony export */ });\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"(app-pages-browser)/./store/agents/base.ts\");\n// CMO Agent - Marketing Campaign Strategy and Planning\n// Creates comprehensive marketing campaign plans and strategies\n\nclass CMOAgent extends _base__WEBPACK_IMPORTED_MODULE_0__.BaseAgent {\n    async execute(tool, input, mutations, sessionId) {\n        try {\n            console.log('ðŸŽ¯ CMO Agent: Starting campaign planning for:', input);\n            // Clean the input\n            const cleanInput = input.replace(/^\\/cmo\\s*/i, '').trim();\n            if (!cleanInput) {\n                return this.getWelcomeMessage();\n            }\n            const currentSessionId = sessionId || 'default';\n            // Check if we're continuing an existing conversation\n            if (this.campaignState.has(currentSessionId)) {\n                return await this.continueConversation(currentSessionId, cleanInput, mutations);\n            } else {\n                return await this.startNewConversation(currentSessionId, cleanInput, mutations);\n            }\n        } catch (error) {\n            console.error(\"âŒ CMO Agent execution failed:\", error);\n            return 'âŒ **CMO Agent Error**\\n\\nFailed to process campaign request: \"'.concat(input, '\"\\n\\nError: ').concat(error instanceof Error ? error.message : 'Unknown error', \"\\n\\nPlease try again or start a new campaign planning session.\");\n        }\n    }\n    getWelcomeMessage() {\n        return \"\\uD83C\\uDFAF **Welcome to the CMO Agent**\\n\\nI'll help you create a comprehensive marketing campaign strategy with platform-specific recommendations.\\n\\n**To get started, tell me about your campaign:**\\n- What are you trying to achieve? (brand awareness, lead generation, product launch, etc.)\\n- Who is your target audience?\\n- Which platforms are you considering?\\n\\n**Example:** `/cmo I want to launch a new SaaS product targeting small business owners on LinkedIn and Twitter`\\n\\nLet's build your campaign strategy together! \\uD83D\\uDE80\";\n    }\n    async startNewConversation(sessionId, input, mutations) {\n        // Initialize campaign state\n        this.campaignState.set(sessionId, {\n            data: {},\n            phase: 1,\n            responses: [\n                input\n            ],\n            timestamp: Date.now()\n        });\n        return this.askPhase1Questions(sessionId, input);\n    }\n    async continueConversation(sessionId, input, mutations) {\n        const state = this.campaignState.get(sessionId);\n        // Check for timeout (30 minutes)\n        if (Date.now() - state.timestamp > 30 * 60 * 1000) {\n            this.campaignState.delete(sessionId);\n            return this.getTimeoutMessage();\n        }\n        state.responses.push(input);\n        state.timestamp = Date.now();\n        switch(state.phase){\n            case 1:\n                return this.processPhase1Response(sessionId, input);\n            case 2:\n                return this.processPhase2Response(sessionId, input);\n            case 3:\n                return this.processPhase3Response(sessionId, input);\n            case 4:\n                return this.processPhase4Response(sessionId, input);\n            case 5:\n                return await this.processPhase5Response(sessionId, input, mutations);\n            default:\n                return await this.generateFinalReport(sessionId, mutations);\n        }\n    }\n    askPhase1Questions(sessionId, initialInput) {\n        const state = this.campaignState.get(sessionId);\n        // Try to extract initial information from the input\n        const extractedInfo = this.extractInitialInfo(initialInput);\n        state.data = {\n            ...state.data,\n            ...extractedInfo\n        };\n        return '\\uD83C\\uDFAF **Phase 1: Campaign Objectives & Target Audience**\\n\\nBased on your request: \"'.concat(initialInput, '\"\\n\\nI need to understand your campaign better. Please provide:\\n\\n**1. Primary Objective** (if not clear from above)\\n- Brand awareness, lead generation, sales conversion, customer retention, product launch, or other?\\n\\n**2. Target Audience Details**\\n- Demographics (age, location, profession, etc.)\\n- Pain points or needs they have\\n- Where they spend time online\\n\\n**3. Success Metrics**\\n- How will you measure campaign success?\\n- Any specific goals (e.g., 1000 leads, 20% brand awareness lift)?\\n\\nPlease provide these details so I can move to platform strategy recommendations.');\n    }\n    processPhase1Response(sessionId, response) {\n        const state = this.campaignState.get(sessionId);\n        // Extract information from response\n        const info = this.extractPhase1Info(response);\n        state.data = {\n            ...state.data,\n            ...info\n        };\n        state.phase = 2;\n        return \"\\uD83D\\uDCF1 **Phase 2: Platform Selection & Content Strategy**\\n\\nGreat! Now let's determine the best platforms and content approaches.\\n\\n**Available Platforms:**\\n- Facebook (long-form content, community building)\\n- Instagram (visual content, stories, reels)\\n- LinkedIn (professional content, B2B focus)\\n- Twitter/X (real-time engagement, discussions)\\n- TikTok (short-form video, viral content)\\n- Reddit (community discussions, authentic engagement)\\n\\n**Questions:**\\n1. **Which platforms** are you currently considering or using?\\n2. **Content preferences** - do you prefer video, images, text, or a mix?\\n3. **Content resources** - do you have existing content that can be repurposed?\\n4. **Brand voice** - professional, casual, humorous, educational?\\n\\nPlease share your platform preferences and content approach.\";\n    }\n    processPhase2Response(sessionId, response) {\n        const state = this.campaignState.get(sessionId);\n        const info = this.extractPhase2Info(response);\n        state.data = {\n            ...state.data,\n            ...info\n        };\n        state.phase = 3;\n        return \"\\uD83D\\uDCC5 **Phase 3: Timeline & Posting Strategy**\\n\\nPerfect! Now let's plan your campaign timeline and posting frequency.\\n\\n**Questions:**\\n1. **Campaign Duration**\\n   - When do you want to start?\\n   - How long should the campaign run? (4 weeks, 3 months, ongoing?)\\n   - Any important dates or deadlines?\\n\\n2. **Posting Frequency** per platform\\n   - How often can you realistically create and post content?\\n   - Do you have team members who can help with content creation?\\n\\n3. **Budget Considerations**\\n   - Are you planning paid advertising?\\n   - Budget range for content creation or ads?\\n\\nShare your timeline preferences and resource availability.\";\n    }\n    processPhase3Response(sessionId, response) {\n        const state = this.campaignState.get(sessionId);\n        const info = this.extractPhase3Info(response);\n        state.data = {\n            ...state.data,\n            ...info\n        };\n        state.phase = 4;\n        return \"\\uD83D\\uDCCA **Phase 4: Measurement & Brand Guidelines**\\n\\nExcellent! Let's finalize the measurement strategy and brand consistency.\\n\\n**Questions:**\\n1. **Key Performance Indicators (KPIs)**\\n   - Engagement rate, reach, website traffic, leads, conversions?\\n   - How often do you want to review performance? (weekly, monthly?)\\n\\n2. **Brand Guidelines**\\n   - Do you have existing brand colors, fonts, or voice guidelines?\\n   - Any messaging that must be consistent across platforms?\\n   - Topics or approaches to avoid?\\n\\n3. **Competitive Context**\\n   - Who are your main competitors?\\n   - Any competitor campaigns you admire or want to differentiate from?\\n\\nShare these final details so I can create your comprehensive campaign strategy.\";\n    }\n    processPhase4Response(sessionId, response) {\n        var _state_data_platforms, _state_data_timeline, _state_data_timeline1;\n        const state = this.campaignState.get(sessionId);\n        const info = this.extractPhase4Info(response);\n        state.data = {\n            ...state.data,\n            ...info\n        };\n        state.phase = 5;\n        return \"âœ… **Phase 5: Final Review & Report Generation**\\n\\nExcellent! I now have all the information needed to create your comprehensive marketing campaign strategy.\\n\\n**Campaign Summary:**\\n- **Objective:** \".concat(state.data.objective || 'Not specified', \"\\n- **Target Audience:** \").concat(state.data.targetAudience || 'Not specified', \"\\n- **Platforms:** \").concat(((_state_data_platforms = state.data.platforms) === null || _state_data_platforms === void 0 ? void 0 : _state_data_platforms.join(', ')) || 'Not specified', \"\\n- **Timeline:** \").concat(((_state_data_timeline = state.data.timeline) === null || _state_data_timeline === void 0 ? void 0 : _state_data_timeline.startDate) || 'Not specified', \" - \").concat(((_state_data_timeline1 = state.data.timeline) === null || _state_data_timeline1 === void 0 ? void 0 : _state_data_timeline1.endDate) || 'Not specified', \"\\n- **Budget:** \").concat(state.data.budget || 'Not specified', '\\n\\n**Ready to generate your campaign report?**\\n\\nType \"**generate report**\" to create your comprehensive Marketing Campaign Possibilities Report, or provide any corrections to the summary above.\\n\\nThe report will be saved to your Instructions folder for future reference.');\n    }\n    async processPhase5Response(sessionId, response, mutations) {\n        const state = this.campaignState.get(sessionId);\n        if (response.toLowerCase().includes('generate report') || response.toLowerCase().includes('create report')) {\n            return await this.generateFinalReport(sessionId, mutations);\n        } else {\n            // Process any final corrections\n            const corrections = this.extractCorrections(response);\n            state.data = {\n                ...state.data,\n                ...corrections\n            };\n            return '\\uD83D\\uDCDD **Updates Applied**\\n\\nYour corrections have been noted. \\n\\nType \"**generate report**\" when you\\'re ready for me to create your comprehensive Marketing Campaign Possibilities Report.';\n        }\n    }\n    async generateFinalReport(sessionId, mutations) {\n        const state = this.campaignState.get(sessionId);\n        if (!state) {\n            return this.getTimeoutMessage();\n        }\n        try {\n            const reportContent = this.createCampaignReport(state.data);\n            const fileName = this.generateReportFileName();\n            // Save to Instructions folder\n            if (mutations.createInstructionFile) {\n                await mutations.createInstructionFile({\n                    name: fileName,\n                    content: reportContent,\n                    topic: \"Marketing Campaign Strategy: \".concat(state.data.objective || 'Campaign Planning')\n                });\n                // Clean up session state\n                this.campaignState.delete(sessionId);\n                return \"âœ… **Marketing Campaign Report Generated!**\\n\\n\\uD83D\\uDCC4 **File:** `\".concat(fileName, \"`\\n\\uD83D\\uDCC1 **Location:** Instructions system folder\\n\\uD83C\\uDFAF **Campaign:** \").concat(state.data.objective || 'Marketing Campaign', \"\\n\\nYour comprehensive campaign strategy has been created and saved. The report includes:\\n\\n- âœ… Platform-specific strategies and content recommendations\\n- âœ… Posting schedules and content calendars\\n- âœ… KPI tracking and measurement framework\\n- âœ… Budget allocation and resource planning\\n- âœ… Implementation timeline and next steps\\n\\nThe report is now available in your Instructions folder and will be included as context for future AI interactions about your marketing campaigns.\\n\\n**Ready to execute your campaign strategy!** \\uD83D\\uDE80\\n\\n---\\n\\n**CMO_REPORT_GENERATED_SUCCESS:** \").concat(fileName);\n            } else {\n                // Clean up session state\n                this.campaignState.delete(sessionId);\n                return \"\\uD83D\\uDCCB **Marketing Campaign Report Generated**\\n\\n\".concat(reportContent, \"\\n\\nâš ï¸ **Note:** The report couldn't be saved automatically. Please use the button below to create an instruction file.\\n\\n---\\n\\n**CMO_REPORT_MANUAL_SAVE_NEEDED:** \").concat(fileName);\n            }\n        } catch (error) {\n            console.error('âŒ Failed to generate campaign report:', error);\n            return \"âŒ **Error Generating Report**\\n\\nFailed to create your campaign report. Error: \".concat(error instanceof Error ? error.message : 'Unknown error', \"\\n\\nPlease try the command again or contact support if the issue persists.\");\n        }\n    }\n    getTimeoutMessage() {\n        return \"â° **Session Timeout**\\n\\nYour campaign planning session has expired. Don't worry - you can start a new campaign planning session anytime!\\n\\nType `/cmo [your campaign idea]` to begin a fresh campaign strategy session.\";\n    }\n    // Information extraction methods\n    extractInitialInfo(input) {\n        const data = {};\n        // Extract objective keywords\n        const objectiveKeywords = {\n            'brand awareness': [\n                'brand awareness',\n                'awareness',\n                'visibility',\n                'recognition'\n            ],\n            'lead generation': [\n                'lead generation',\n                'leads',\n                'prospects',\n                'capture'\n            ],\n            'sales conversion': [\n                'sales',\n                'conversion',\n                'revenue',\n                'purchase'\n            ],\n            'product launch': [\n                'launch',\n                'new product',\n                'introduce',\n                'debut'\n            ],\n            'customer retention': [\n                'retention',\n                'loyalty',\n                'existing customers',\n                'repeat'\n            ]\n        };\n        for (const [objective, keywords] of Object.entries(objectiveKeywords)){\n            if (keywords.some((keyword)=>input.toLowerCase().includes(keyword))) {\n                data.objective = objective;\n                break;\n            }\n        }\n        // Extract platform mentions\n        const platformKeywords = {\n            'LinkedIn': [\n                'linkedin',\n                'linked in'\n            ],\n            'Facebook': [\n                'facebook',\n                'fb'\n            ],\n            'Instagram': [\n                'instagram',\n                'ig',\n                'insta'\n            ],\n            'Twitter/X': [\n                'twitter',\n                'x.com',\n                ' x '\n            ],\n            'TikTok': [\n                'tiktok',\n                'tik tok'\n            ],\n            'Reddit': [\n                'reddit'\n            ]\n        };\n        const platforms = [];\n        for (const [platform, keywords] of Object.entries(platformKeywords)){\n            if (keywords.some((keyword)=>input.toLowerCase().includes(keyword))) {\n                platforms.push(platform);\n            }\n        }\n        if (platforms.length > 0) {\n            data.platforms = platforms;\n        }\n        // Extract audience hints\n        const audienceKeywords = [\n            'small business',\n            'entrepreneurs',\n            'professionals',\n            'developers',\n            'students',\n            'parents',\n            'millennials',\n            'gen z',\n            'b2b',\n            'b2c'\n        ];\n        for (const keyword of audienceKeywords){\n            if (input.toLowerCase().includes(keyword)) {\n                data.targetAudience = keyword;\n                break;\n            }\n        }\n        return data;\n    }\n    extractPhase1Info(response) {\n        // Similar extraction logic for Phase 1 responses\n        return this.extractInitialInfo(response);\n    }\n    extractPhase2Info(response) {\n        const data = {};\n        // Extract platforms\n        const platforms = this.extractInitialInfo(response).platforms || [];\n        if (platforms.length > 0) {\n            data.platforms = platforms;\n        }\n        // Extract content type preferences\n        const contentTypes = {};\n        const contentKeywords = {\n            'video': [\n                'video',\n                'videos',\n                'reels',\n                'stories'\n            ],\n            'images': [\n                'images',\n                'photos',\n                'graphics',\n                'visual'\n            ],\n            'text': [\n                'text',\n                'articles',\n                'posts',\n                'written'\n            ],\n            'mix': [\n                'mix',\n                'combination',\n                'variety',\n                'all types'\n            ]\n        };\n        for (const [type, keywords] of Object.entries(contentKeywords)){\n            if (keywords.some((keyword)=>response.toLowerCase().includes(keyword))) {\n                contentTypes['preferred'] = type;\n                break;\n            }\n        }\n        if (Object.keys(contentTypes).length > 0) {\n            data.contentTypes = contentTypes;\n        }\n        return data;\n    }\n    extractPhase3Info(response) {\n        const data = {};\n        // Extract timeline information\n        const timeline = {};\n        // Look for date patterns and time references\n        const timeKeywords = [\n            '4 weeks',\n            '3 months',\n            'ongoing',\n            'immediately',\n            'next month',\n            'daily',\n            'weekly',\n            'twice a week',\n            '3 times per week'\n        ];\n        for (const keyword of timeKeywords){\n            if (response.toLowerCase().includes(keyword)) {\n                if (keyword.includes('week') || keyword.includes('month')) {\n                    timeline.endDate = keyword;\n                }\n                break;\n            }\n        }\n        if (Object.keys(timeline).length > 0) {\n            data.timeline = timeline;\n        }\n        // Extract budget mentions\n        if (response.toLowerCase().includes('budget') || response.toLowerCase().includes('$')) {\n            const budgetMatch = response.match(/\\$[\\d,]+/);\n            if (budgetMatch) {\n                data.budget = budgetMatch[0];\n            } else if (response.toLowerCase().includes('no budget') || response.toLowerCase().includes('free')) {\n                data.budget = 'Organic only';\n            } else {\n                data.budget = 'Budget mentioned but amount not specified';\n            }\n        }\n        return data;\n    }\n    extractPhase4Info(response) {\n        const data = {};\n        // Extract KPIs\n        const kpiKeywords = [\n            'engagement',\n            'reach',\n            'impressions',\n            'traffic',\n            'leads',\n            'conversions',\n            'sales',\n            'followers',\n            'brand awareness'\n        ];\n        const kpis = [];\n        for (const kpi of kpiKeywords){\n            if (response.toLowerCase().includes(kpi)) {\n                kpis.push(kpi);\n            }\n        }\n        if (kpis.length > 0) {\n            data.kpis = kpis;\n        }\n        // Extract brand guidelines mentions\n        if (response.toLowerCase().includes('brand') || response.toLowerCase().includes('guideline')) {\n            data.brandGuidelines = 'Brand guidelines mentioned';\n        }\n        // Extract competitive context\n        if (response.toLowerCase().includes('competitor') || response.toLowerCase().includes('competition')) {\n            data.competitiveContext = 'Competitive context provided';\n        }\n        return data;\n    }\n    extractCorrections(response) {\n        // Allow users to make final corrections to any field\n        return this.extractInitialInfo(response);\n    }\n    createCampaignReport(data) {\n        var _data_kpis, _data_timeline, _data_timeline1;\n        const timestamp = new Date().toLocaleDateString();\n        return \"# Marketing Campaign Possibilities Report\\n\\n*Generated on \".concat(timestamp, \" by EAC CMO Agent*\\n\\n## Executive Summary\\n\\nThis comprehensive marketing campaign strategy outlines a multi-platform approach designed to achieve your specified objectives through targeted content and strategic platform utilization.\\n\\n## Campaign Objectives\\n\\n**Primary Objective:** \").concat(data.objective || 'To be defined', \"\\n\\n**Success Definition:** \").concat(((_data_kpis = data.kpis) === null || _data_kpis === void 0 ? void 0 : _data_kpis.join(', ')) || 'Standard engagement and conversion metrics', \"\\n\\n## Target Audience\\n\\n**Demographics & Characteristics:** \").concat(data.targetAudience || 'Target audience to be refined', \"\\n\\n**Key Pain Points:** \\n- Needs efficient solutions for their business challenges\\n- Values authentic, helpful content over promotional messaging\\n- Active on professional and social platforms\\n\\n## Multi-Platform Strategy\\n\\n\").concat(this.generatePlatformStrategies(data.platforms || [\n            'LinkedIn',\n            'Twitter/X'\n        ]), \"\\n\\n## Content Strategy & Messaging\\n\\n**Content Types:** \").concat(this.getContentTypeRecommendations(data.contentTypes), \"\\n\\n**Brand Voice:** \").concat(data.brandGuidelines || 'Professional yet approachable, focusing on value delivery', \"\\n\\n**Key Messages:**\\n- Position as industry expert and thought leader\\n- Emphasize practical solutions and real results\\n- Build trust through authentic engagement\\n\\n## Campaign Timeline\\n\\n**Duration:** \").concat(((_data_timeline = data.timeline) === null || _data_timeline === void 0 ? void 0 : _data_timeline.startDate) || 'To be determined', \" - \").concat(((_data_timeline1 = data.timeline) === null || _data_timeline1 === void 0 ? void 0 : _data_timeline1.endDate) || 'Ongoing', \"\\n\\n**Key Milestones:**\\n- Week 1-2: Content foundation and initial engagement\\n- Week 3-4: Community building and relationship development\\n- Month 2+: Conversion optimization and scaling\\n\\n## Budget Considerations\\n\\n**Allocation:** \").concat(data.budget || 'Budget to be determined based on platform performance', \"\\n\\n**Recommended Distribution:**\\n- 60% Content creation and management\\n- 30% Paid advertising and promotion\\n- 10% Analytics and optimization tools\\n\\n## Key Performance Indicators (KPIs)\\n\\n**Primary Metrics:**\\n\").concat((data.kpis || [\n            'engagement rate',\n            'reach',\n            'website traffic'\n        ]).map((kpi)=>\"- \".concat(kpi.charAt(0).toUpperCase() + kpi.slice(1))).join('\\n'), \"\\n\\n**Reporting Frequency:** Weekly performance reviews with monthly strategic assessments\\n\\n## Implementation Next Steps\\n\\n1. **Content Calendar Development**\\n   - Create 30-day content calendar with platform-specific posts\\n   - Establish content creation workflow and approval process\\n\\n2. **Platform Setup & Optimization**\\n   - Optimize profiles across all selected platforms\\n   - Implement tracking pixels and analytics\\n\\n3. **Community Engagement Strategy**\\n   - Identify key influencers and thought leaders\\n   - Develop engagement guidelines and response templates\\n\\n4. **Performance Monitoring**\\n   - Set up analytics dashboards\\n   - Establish weekly review and optimization process\\n\\n## Risk Mitigation\\n\\n- **Content Consistency:** Maintain brand voice across all platforms\\n- **Resource Management:** Ensure sustainable content creation workflow\\n- **Platform Changes:** Stay updated on algorithm and feature changes\\n- **Competitive Response:** Monitor competitor activities and differentiate accordingly\\n\\n---\\n\\n*This campaign strategy provides a foundation for successful multi-platform marketing. Regular review and optimization based on performance data will ensure continued success and ROI improvement.*\\n\\n## Additional Resources\\n\\nFor implementation support and ongoing optimization, consider:\\n- Platform-specific content templates\\n- Automation tools for posting and engagement\\n- Analytics training for team members\\n- Competitive analysis and monitoring tools\\n\\n---\\n\\n**Generated by EAC CMO Agent - Your Strategic Marketing Partner** \\uD83C\\uDFAF\");\n    }\n    generatePlatformStrategies(platforms) {\n        const strategies = {\n            'LinkedIn': {\n                content: 'Professional insights, industry analysis, thought leadership articles, company updates, employee spotlights',\n                cadence: '3-4 posts per week',\n                recommendations: 'Focus on business value, engage in relevant groups, share industry expertise, use LinkedIn native video'\n            },\n            'Facebook': {\n                content: 'Long-form content, community discussions, behind-the-scenes content, customer stories, live Q&A sessions',\n                cadence: '4-5 posts per week',\n                recommendations: 'Build community through Facebook Groups, use Facebook Live for real-time engagement, share customer success stories'\n            },\n            'Instagram': {\n                content: 'High-quality visuals, Stories, Reels, carousel posts, user-generated content, behind-the-scenes content',\n                cadence: 'Daily Stories, 4-5 feed posts per week',\n                recommendations: 'Use relevant hashtags, collaborate with micro-influencers, leverage Instagram Shopping features, create engaging Reels'\n            },\n            'Twitter/X': {\n                content: 'Real-time updates, industry commentary, quick tips, thread discussions, engagement with trending topics',\n                cadence: 'Multiple posts per day',\n                recommendations: 'Engage in Twitter chats, use relevant hashtags, share quick insights, participate in trending conversations'\n            },\n            'TikTok': {\n                content: 'Short-form entertaining videos, educational content, trending challenges, behind-the-scenes glimpses',\n                cadence: 'Daily posts',\n                recommendations: 'Stay current with trends, use popular sounds, create educational series, collaborate with creators'\n            },\n            'Reddit': {\n                content: 'Valuable discussions, AMAs, helpful resources, authentic community participation',\n                cadence: '2-3 posts per week',\n                recommendations: 'Understand subreddit rules, provide genuine value, avoid over-promotion, build community relationships'\n            }\n        };\n        return platforms.map((platform)=>{\n            const strategy = strategies[platform];\n            if (!strategy) {\n                return \"### \".concat(platform, \"\\n*Platform strategy to be developed*\\n\");\n            }\n            return \"### \".concat(platform, \"\\n\\n**Content Type Recommendations:** \").concat(strategy.content, \"\\n\\n**Posting Cadence:** \").concat(strategy.cadence, \"\\n\\n**Specific Recommendations:** \").concat(strategy.recommendations, \"\\n\\n\");\n        }).join('\\n');\n    }\n    getContentTypeRecommendations(contentTypes) {\n        if (!contentTypes || Object.keys(contentTypes).length === 0) {\n            return 'Mix of visual and text content optimized for each platform';\n        }\n        const type = contentTypes.preferred || 'mix';\n        const recommendations = {\n            'video': 'Focus on short-form videos, tutorials, behind-the-scenes content, and live streams',\n            'images': 'High-quality graphics, infographics, carousel posts, and visual storytelling',\n            'text': 'In-depth articles, thought leadership posts, industry insights, and detailed guides',\n            'mix': 'Balanced content approach with platform-specific optimization'\n        };\n        return recommendations[type] || recommendations['mix'];\n    }\n    generateReportFileName() {\n        const timestamp = new Date().toISOString().split('T')[0];\n        return \"marketing-campaign-strategy-\".concat(timestamp, \".md\");\n    }\n    constructor(...args){\n        super(...args), this.id = 'cmo', this.name = 'CMO', this.description = 'Marketing campaign strategy and planning with multi-platform recommendations', this.icon = 'TrendingUp', this.tools = [\n            {\n                id: \"define-campaign\",\n                name: \"Define Marketing Campaign\",\n                command: \"/cmo\",\n                description: \"Interactive campaign planning with strategic recommendations\",\n                parameters: [\n                    {\n                        name: \"campaign_request\",\n                        type: \"string\",\n                        description: \"Describe your marketing campaign needs or goals\",\n                        required: true\n                    }\n                ]\n            }\n        ], // Campaign conversation state\n        this.campaignState = new Map();\n    }\n}\n// Export singleton instance\nconst cmoAgent = new CMOAgent();\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3N0b3JlL2FnZW50cy9jbW9BZ2VudC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSx1REFBdUQ7QUFDdkQsZ0VBQWdFO0FBRWxCO0FBb0J2QyxNQUFNQyxpQkFBaUJELDRDQUFTQTtJQStCckMsTUFBTUUsUUFDSkMsSUFBZSxFQUNmQyxLQUFhLEVBQ2JDLFNBQTBCLEVBQzFCQyxTQUFrQixFQUNEO1FBQ2pCLElBQUk7WUFDRkMsUUFBUUMsR0FBRyxDQUFDLGlEQUFpREo7WUFFN0Qsa0JBQWtCO1lBQ2xCLE1BQU1LLGFBQWFMLE1BQU1NLE9BQU8sQ0FBQyxjQUFjLElBQUlDLElBQUk7WUFFdkQsSUFBSSxDQUFDRixZQUFZO2dCQUNmLE9BQU8sSUFBSSxDQUFDRyxpQkFBaUI7WUFDL0I7WUFFQSxNQUFNQyxtQkFBbUJQLGFBQWE7WUFFdEMscURBQXFEO1lBQ3JELElBQUksSUFBSSxDQUFDUSxhQUFhLENBQUNDLEdBQUcsQ0FBQ0YsbUJBQW1CO2dCQUM1QyxPQUFPLE1BQU0sSUFBSSxDQUFDRyxvQkFBb0IsQ0FBQ0gsa0JBQWtCSixZQUFZSjtZQUN2RSxPQUFPO2dCQUNMLE9BQU8sTUFBTSxJQUFJLENBQUNZLG9CQUFvQixDQUFDSixrQkFBa0JKLFlBQVlKO1lBQ3ZFO1FBRUYsRUFBRSxPQUFPYSxPQUFPO1lBQ2RYLFFBQVFXLEtBQUssQ0FBQyxpQ0FBaUNBO1lBQy9DLE9BQU8saUVBSUpBLE9BRjhCZCxPQUFNLGdCQUVxQixPQUF6RGMsaUJBQWlCQyxRQUFRRCxNQUFNRSxPQUFPLEdBQUcsaUJBQWdCO1FBRzlEO0lBQ0Y7SUFFUVIsb0JBQTRCO1FBQ2xDLE9BQVE7SUFZVjtJQUVBLE1BQWNLLHFCQUNaWCxTQUFpQixFQUNqQkYsS0FBYSxFQUNiQyxTQUEwQixFQUNUO1FBQ2pCLDRCQUE0QjtRQUM1QixJQUFJLENBQUNTLGFBQWEsQ0FBQ08sR0FBRyxDQUFDZixXQUFXO1lBQ2hDZ0IsTUFBTSxDQUFDO1lBQ1BDLE9BQU87WUFDUEMsV0FBVztnQkFBQ3BCO2FBQU07WUFDbEJxQixXQUFXQyxLQUFLQyxHQUFHO1FBQ3JCO1FBRUEsT0FBTyxJQUFJLENBQUNDLGtCQUFrQixDQUFDdEIsV0FBV0Y7SUFDNUM7SUFFQSxNQUFjWSxxQkFDWlYsU0FBaUIsRUFDakJGLEtBQWEsRUFDYkMsU0FBMEIsRUFDVDtRQUNqQixNQUFNd0IsUUFBUSxJQUFJLENBQUNmLGFBQWEsQ0FBQ2dCLEdBQUcsQ0FBQ3hCO1FBRXJDLGlDQUFpQztRQUNqQyxJQUFJb0IsS0FBS0MsR0FBRyxLQUFLRSxNQUFNSixTQUFTLEdBQUcsS0FBSyxLQUFLLE1BQU07WUFDakQsSUFBSSxDQUFDWCxhQUFhLENBQUNpQixNQUFNLENBQUN6QjtZQUMxQixPQUFPLElBQUksQ0FBQzBCLGlCQUFpQjtRQUMvQjtRQUVBSCxNQUFNTCxTQUFTLENBQUNTLElBQUksQ0FBQzdCO1FBQ3JCeUIsTUFBTUosU0FBUyxHQUFHQyxLQUFLQyxHQUFHO1FBRTFCLE9BQVFFLE1BQU1OLEtBQUs7WUFDakIsS0FBSztnQkFDSCxPQUFPLElBQUksQ0FBQ1cscUJBQXFCLENBQUM1QixXQUFXRjtZQUMvQyxLQUFLO2dCQUNILE9BQU8sSUFBSSxDQUFDK0IscUJBQXFCLENBQUM3QixXQUFXRjtZQUMvQyxLQUFLO2dCQUNILE9BQU8sSUFBSSxDQUFDZ0MscUJBQXFCLENBQUM5QixXQUFXRjtZQUMvQyxLQUFLO2dCQUNILE9BQU8sSUFBSSxDQUFDaUMscUJBQXFCLENBQUMvQixXQUFXRjtZQUMvQyxLQUFLO2dCQUNILE9BQU8sTUFBTSxJQUFJLENBQUNrQyxxQkFBcUIsQ0FBQ2hDLFdBQVdGLE9BQU9DO1lBQzVEO2dCQUNFLE9BQU8sTUFBTSxJQUFJLENBQUNrQyxtQkFBbUIsQ0FBQ2pDLFdBQVdEO1FBQ3JEO0lBQ0Y7SUFFUXVCLG1CQUFtQnRCLFNBQWlCLEVBQUVrQyxZQUFvQixFQUFVO1FBQzFFLE1BQU1YLFFBQVEsSUFBSSxDQUFDZixhQUFhLENBQUNnQixHQUFHLENBQUN4QjtRQUVyQyxvREFBb0Q7UUFDcEQsTUFBTW1DLGdCQUFnQixJQUFJLENBQUNDLGtCQUFrQixDQUFDRjtRQUM5Q1gsTUFBTVAsSUFBSSxHQUFHO1lBQUUsR0FBR08sTUFBTVAsSUFBSTtZQUFFLEdBQUdtQixhQUFhO1FBQUM7UUFFL0MsT0FBTyw4RkFFNEIsT0FBYkQsY0FBYTtJQWlCckM7SUFFUU4sc0JBQXNCNUIsU0FBaUIsRUFBRXFDLFFBQWdCLEVBQVU7UUFDekUsTUFBTWQsUUFBUSxJQUFJLENBQUNmLGFBQWEsQ0FBQ2dCLEdBQUcsQ0FBQ3hCO1FBRXJDLG9DQUFvQztRQUNwQyxNQUFNc0MsT0FBTyxJQUFJLENBQUNDLGlCQUFpQixDQUFDRjtRQUNwQ2QsTUFBTVAsSUFBSSxHQUFHO1lBQUUsR0FBR08sTUFBTVAsSUFBSTtZQUFFLEdBQUdzQixJQUFJO1FBQUM7UUFDdENmLE1BQU1OLEtBQUssR0FBRztRQUVkLE9BQVE7SUFtQlY7SUFFUVksc0JBQXNCN0IsU0FBaUIsRUFBRXFDLFFBQWdCLEVBQVU7UUFDekUsTUFBTWQsUUFBUSxJQUFJLENBQUNmLGFBQWEsQ0FBQ2dCLEdBQUcsQ0FBQ3hCO1FBRXJDLE1BQU1zQyxPQUFPLElBQUksQ0FBQ0UsaUJBQWlCLENBQUNIO1FBQ3BDZCxNQUFNUCxJQUFJLEdBQUc7WUFBRSxHQUFHTyxNQUFNUCxJQUFJO1lBQUUsR0FBR3NCLElBQUk7UUFBQztRQUN0Q2YsTUFBTU4sS0FBSyxHQUFHO1FBRWQsT0FBUTtJQW1CVjtJQUVRYSxzQkFBc0I5QixTQUFpQixFQUFFcUMsUUFBZ0IsRUFBVTtRQUN6RSxNQUFNZCxRQUFRLElBQUksQ0FBQ2YsYUFBYSxDQUFDZ0IsR0FBRyxDQUFDeEI7UUFFckMsTUFBTXNDLE9BQU8sSUFBSSxDQUFDRyxpQkFBaUIsQ0FBQ0o7UUFDcENkLE1BQU1QLElBQUksR0FBRztZQUFFLEdBQUdPLE1BQU1QLElBQUk7WUFBRSxHQUFHc0IsSUFBSTtRQUFDO1FBQ3RDZixNQUFNTixLQUFLLEdBQUc7UUFFZCxPQUFRO0lBbUJWO0lBRVFjLHNCQUFzQi9CLFNBQWlCLEVBQUVxQyxRQUFnQixFQUFVO1lBYzFEZCx1QkFDREEsc0JBQXVEQTtRQWRyRSxNQUFNQSxRQUFRLElBQUksQ0FBQ2YsYUFBYSxDQUFDZ0IsR0FBRyxDQUFDeEI7UUFFckMsTUFBTXNDLE9BQU8sSUFBSSxDQUFDSSxpQkFBaUIsQ0FBQ0w7UUFDcENkLE1BQU1QLElBQUksR0FBRztZQUFFLEdBQUdPLE1BQU1QLElBQUk7WUFBRSxHQUFHc0IsSUFBSTtRQUFDO1FBQ3RDZixNQUFNTixLQUFLLEdBQUc7UUFFZCxPQUFPLDRNQU1jTSxPQUROQSxNQUFNUCxJQUFJLENBQUMyQixTQUFTLElBQUksaUJBQWdCLDZCQUV4Q3BCLE9BRE1BLE1BQU1QLElBQUksQ0FBQzRCLGNBQWMsSUFBSSxpQkFBZ0IsdUJBRXBEckIsT0FEQ0EsRUFBQUEsd0JBQUFBLE1BQU1QLElBQUksQ0FBQzZCLFNBQVMsY0FBcEJ0Qiw0Q0FBQUEsc0JBQXNCdUIsSUFBSSxDQUFDLFVBQVMsaUJBQWdCLHNCQUNFdkIsT0FBdkRBLEVBQUFBLHVCQUFBQSxNQUFNUCxJQUFJLENBQUMrQixRQUFRLGNBQW5CeEIsMkNBQUFBLHFCQUFxQnlCLFNBQVMsS0FBSSxpQkFBZ0IsT0FDcER6QixPQUR5REEsRUFBQUEsd0JBQUFBLE1BQU1QLElBQUksQ0FBQytCLFFBQVEsY0FBbkJ4Qiw0Q0FBQUEsc0JBQXFCMEIsT0FBTyxLQUFJLGlCQUFnQixvQkFDcEUsT0FBckMxQixNQUFNUCxJQUFJLENBQUNrQyxNQUFNLElBQUksaUJBQWdCO0lBT25EO0lBRUEsTUFBY2xCLHNCQUNaaEMsU0FBaUIsRUFDakJxQyxRQUFnQixFQUNoQnRDLFNBQTBCLEVBQ1Q7UUFDakIsTUFBTXdCLFFBQVEsSUFBSSxDQUFDZixhQUFhLENBQUNnQixHQUFHLENBQUN4QjtRQUVyQyxJQUFJcUMsU0FBU2MsV0FBVyxHQUFHQyxRQUFRLENBQUMsc0JBQXNCZixTQUFTYyxXQUFXLEdBQUdDLFFBQVEsQ0FBQyxrQkFBa0I7WUFDMUcsT0FBTyxNQUFNLElBQUksQ0FBQ25CLG1CQUFtQixDQUFDakMsV0FBV0Q7UUFDbkQsT0FBTztZQUNMLGdDQUFnQztZQUNoQyxNQUFNc0QsY0FBYyxJQUFJLENBQUNDLGtCQUFrQixDQUFDakI7WUFDNUNkLE1BQU1QLElBQUksR0FBRztnQkFBRSxHQUFHTyxNQUFNUCxJQUFJO2dCQUFFLEdBQUdxQyxXQUFXO1lBQUM7WUFFN0MsT0FBUTtRQUtWO0lBQ0Y7SUFFQSxNQUFjcEIsb0JBQW9CakMsU0FBaUIsRUFBRUQsU0FBMEIsRUFBbUI7UUFDaEcsTUFBTXdCLFFBQVEsSUFBSSxDQUFDZixhQUFhLENBQUNnQixHQUFHLENBQUN4QjtRQUNyQyxJQUFJLENBQUN1QixPQUFPO1lBQ1YsT0FBTyxJQUFJLENBQUNHLGlCQUFpQjtRQUMvQjtRQUVBLElBQUk7WUFDRixNQUFNNkIsZ0JBQWdCLElBQUksQ0FBQ0Msb0JBQW9CLENBQUNqQyxNQUFNUCxJQUFJO1lBQzFELE1BQU15QyxXQUFXLElBQUksQ0FBQ0Msc0JBQXNCO1lBRTVDLDhCQUE4QjtZQUM5QixJQUFJM0QsVUFBVTRELHFCQUFxQixFQUFFO2dCQUNuQyxNQUFNNUQsVUFBVTRELHFCQUFxQixDQUFDO29CQUNwQ0MsTUFBTUg7b0JBQ05JLFNBQVNOO29CQUNUTyxPQUFPLGdDQUE0RSxPQUE1Q3ZDLE1BQU1QLElBQUksQ0FBQzJCLFNBQVMsSUFBSTtnQkFDakU7Z0JBRUEseUJBQXlCO2dCQUN6QixJQUFJLENBQUNuQyxhQUFhLENBQUNpQixNQUFNLENBQUN6QjtnQkFFMUIsT0FBTyx5RUFJSXVCLE9BRkZrQyxVQUFTLHlGQWtCVUEsT0FoQmpCbEMsTUFBTVAsSUFBSSxDQUFDMkIsU0FBUyxJQUFJLHNCQUFxQiwra0JBZ0JuQixPQUFUYztZQUU5QixPQUFPO2dCQUNMLHlCQUF5QjtnQkFDekIsSUFBSSxDQUFDakQsYUFBYSxDQUFDaUIsTUFBTSxDQUFDekI7Z0JBRTFCLE9BQU8sMkRBUXNCeUQsT0FObkNGLGVBQWMseUtBTThCLE9BQVRFO1lBQy9CO1FBRUYsRUFBRSxPQUFPN0MsT0FBTztZQUNkWCxRQUFRVyxLQUFLLENBQUMseUNBQXlDQTtZQUN2RCxPQUFPLGtGQUU0RixPQUF6REEsaUJBQWlCQyxRQUFRRCxNQUFNRSxPQUFPLEdBQUcsaUJBQWdCO1FBR3JHO0lBQ0Y7SUFFUVksb0JBQTRCO1FBQ2xDLE9BQVE7SUFLVjtJQUVBLGlDQUFpQztJQUN6QlUsbUJBQW1CdEMsS0FBYSxFQUF5QjtRQUMvRCxNQUFNa0IsT0FBOEIsQ0FBQztRQUVyQyw2QkFBNkI7UUFDN0IsTUFBTStDLG9CQUFvQjtZQUN4QixtQkFBbUI7Z0JBQUM7Z0JBQW1CO2dCQUFhO2dCQUFjO2FBQWM7WUFDaEYsbUJBQW1CO2dCQUFDO2dCQUFtQjtnQkFBUztnQkFBYTthQUFVO1lBQ3ZFLG9CQUFvQjtnQkFBQztnQkFBUztnQkFBYztnQkFBVzthQUFXO1lBQ2xFLGtCQUFrQjtnQkFBQztnQkFBVTtnQkFBZTtnQkFBYTthQUFRO1lBQ2pFLHNCQUFzQjtnQkFBQztnQkFBYTtnQkFBVztnQkFBc0I7YUFBUztRQUNoRjtRQUVBLEtBQUssTUFBTSxDQUFDcEIsV0FBV3FCLFNBQVMsSUFBSUMsT0FBT0MsT0FBTyxDQUFDSCxtQkFBb0I7WUFDckUsSUFBSUMsU0FBU0csSUFBSSxDQUFDQyxDQUFBQSxVQUFXdEUsTUFBTXFELFdBQVcsR0FBR0MsUUFBUSxDQUFDZ0IsV0FBVztnQkFDbkVwRCxLQUFLMkIsU0FBUyxHQUFHQTtnQkFDakI7WUFDRjtRQUNGO1FBRUEsNEJBQTRCO1FBQzVCLE1BQU0wQixtQkFBbUI7WUFDdkIsWUFBWTtnQkFBQztnQkFBWTthQUFZO1lBQ3JDLFlBQVk7Z0JBQUM7Z0JBQVk7YUFBSztZQUM5QixhQUFhO2dCQUFDO2dCQUFhO2dCQUFNO2FBQVE7WUFDekMsYUFBYTtnQkFBQztnQkFBVztnQkFBUzthQUFNO1lBQ3hDLFVBQVU7Z0JBQUM7Z0JBQVU7YUFBVTtZQUMvQixVQUFVO2dCQUFDO2FBQVM7UUFDdEI7UUFFQSxNQUFNeEIsWUFBc0IsRUFBRTtRQUM5QixLQUFLLE1BQU0sQ0FBQ3lCLFVBQVVOLFNBQVMsSUFBSUMsT0FBT0MsT0FBTyxDQUFDRyxrQkFBbUI7WUFDbkUsSUFBSUwsU0FBU0csSUFBSSxDQUFDQyxDQUFBQSxVQUFXdEUsTUFBTXFELFdBQVcsR0FBR0MsUUFBUSxDQUFDZ0IsV0FBVztnQkFDbkV2QixVQUFVbEIsSUFBSSxDQUFDMkM7WUFDakI7UUFDRjtRQUNBLElBQUl6QixVQUFVMEIsTUFBTSxHQUFHLEdBQUc7WUFDeEJ2RCxLQUFLNkIsU0FBUyxHQUFHQTtRQUNuQjtRQUVBLHlCQUF5QjtRQUN6QixNQUFNMkIsbUJBQW1CO1lBQ3ZCO1lBQWtCO1lBQWlCO1lBQWlCO1lBQ3BEO1lBQVk7WUFBVztZQUFlO1lBQVM7WUFBTztTQUN2RDtRQUVELEtBQUssTUFBTUosV0FBV0ksaUJBQWtCO1lBQ3RDLElBQUkxRSxNQUFNcUQsV0FBVyxHQUFHQyxRQUFRLENBQUNnQixVQUFVO2dCQUN6Q3BELEtBQUs0QixjQUFjLEdBQUd3QjtnQkFDdEI7WUFDRjtRQUNGO1FBRUEsT0FBT3BEO0lBQ1Q7SUFFUXVCLGtCQUFrQkYsUUFBZ0IsRUFBeUI7UUFDakUsaURBQWlEO1FBQ2pELE9BQU8sSUFBSSxDQUFDRCxrQkFBa0IsQ0FBQ0M7SUFDakM7SUFFUUcsa0JBQWtCSCxRQUFnQixFQUF5QjtRQUNqRSxNQUFNckIsT0FBOEIsQ0FBQztRQUVyQyxvQkFBb0I7UUFDcEIsTUFBTTZCLFlBQVksSUFBSSxDQUFDVCxrQkFBa0IsQ0FBQ0MsVUFBVVEsU0FBUyxJQUFJLEVBQUU7UUFDbkUsSUFBSUEsVUFBVTBCLE1BQU0sR0FBRyxHQUFHO1lBQ3hCdkQsS0FBSzZCLFNBQVMsR0FBR0E7UUFDbkI7UUFFQSxtQ0FBbUM7UUFDbkMsTUFBTTRCLGVBQXVDLENBQUM7UUFDOUMsTUFBTUMsa0JBQWtCO1lBQ3RCLFNBQVM7Z0JBQUM7Z0JBQVM7Z0JBQVU7Z0JBQVM7YUFBVTtZQUNoRCxVQUFVO2dCQUFDO2dCQUFVO2dCQUFVO2dCQUFZO2FBQVM7WUFDcEQsUUFBUTtnQkFBQztnQkFBUTtnQkFBWTtnQkFBUzthQUFVO1lBQ2hELE9BQU87Z0JBQUM7Z0JBQU87Z0JBQWU7Z0JBQVc7YUFBWTtRQUN2RDtRQUVBLEtBQUssTUFBTSxDQUFDQyxNQUFNWCxTQUFTLElBQUlDLE9BQU9DLE9BQU8sQ0FBQ1EsaUJBQWtCO1lBQzlELElBQUlWLFNBQVNHLElBQUksQ0FBQ0MsQ0FBQUEsVUFBVy9CLFNBQVNjLFdBQVcsR0FBR0MsUUFBUSxDQUFDZ0IsV0FBVztnQkFDdEVLLFlBQVksQ0FBQyxZQUFZLEdBQUdFO2dCQUM1QjtZQUNGO1FBQ0Y7UUFFQSxJQUFJVixPQUFPVyxJQUFJLENBQUNILGNBQWNGLE1BQU0sR0FBRyxHQUFHO1lBQ3hDdkQsS0FBS3lELFlBQVksR0FBR0E7UUFDdEI7UUFFQSxPQUFPekQ7SUFDVDtJQUVReUIsa0JBQWtCSixRQUFnQixFQUF5QjtRQUNqRSxNQUFNckIsT0FBOEIsQ0FBQztRQUVyQywrQkFBK0I7UUFDL0IsTUFBTStCLFdBQWtELENBQUM7UUFFekQsNkNBQTZDO1FBQzdDLE1BQU04QixlQUFlO1lBQ25CO1lBQVc7WUFBWTtZQUFXO1lBQWU7WUFDakQ7WUFBUztZQUFVO1lBQWdCO1NBQ3BDO1FBRUQsS0FBSyxNQUFNVCxXQUFXUyxhQUFjO1lBQ2xDLElBQUl4QyxTQUFTYyxXQUFXLEdBQUdDLFFBQVEsQ0FBQ2dCLFVBQVU7Z0JBQzVDLElBQUlBLFFBQVFoQixRQUFRLENBQUMsV0FBV2dCLFFBQVFoQixRQUFRLENBQUMsVUFBVTtvQkFDekRMLFNBQVNFLE9BQU8sR0FBR21CO2dCQUNyQjtnQkFDQTtZQUNGO1FBQ0Y7UUFFQSxJQUFJSCxPQUFPVyxJQUFJLENBQUM3QixVQUFVd0IsTUFBTSxHQUFHLEdBQUc7WUFDcEN2RCxLQUFLK0IsUUFBUSxHQUFHQTtRQUNsQjtRQUVBLDBCQUEwQjtRQUMxQixJQUFJVixTQUFTYyxXQUFXLEdBQUdDLFFBQVEsQ0FBQyxhQUFhZixTQUFTYyxXQUFXLEdBQUdDLFFBQVEsQ0FBQyxNQUFNO1lBQ3JGLE1BQU0wQixjQUFjekMsU0FBUzBDLEtBQUssQ0FBQztZQUNuQyxJQUFJRCxhQUFhO2dCQUNmOUQsS0FBS2tDLE1BQU0sR0FBRzRCLFdBQVcsQ0FBQyxFQUFFO1lBQzlCLE9BQU8sSUFBSXpDLFNBQVNjLFdBQVcsR0FBR0MsUUFBUSxDQUFDLGdCQUFnQmYsU0FBU2MsV0FBVyxHQUFHQyxRQUFRLENBQUMsU0FBUztnQkFDbEdwQyxLQUFLa0MsTUFBTSxHQUFHO1lBQ2hCLE9BQU87Z0JBQ0xsQyxLQUFLa0MsTUFBTSxHQUFHO1lBQ2hCO1FBQ0Y7UUFFQSxPQUFPbEM7SUFDVDtJQUVRMEIsa0JBQWtCTCxRQUFnQixFQUF5QjtRQUNqRSxNQUFNckIsT0FBOEIsQ0FBQztRQUVyQyxlQUFlO1FBQ2YsTUFBTWdFLGNBQWM7WUFDbEI7WUFBYztZQUFTO1lBQWU7WUFBVztZQUNqRDtZQUFlO1lBQVM7WUFBYTtTQUN0QztRQUVELE1BQU1DLE9BQWlCLEVBQUU7UUFDekIsS0FBSyxNQUFNQyxPQUFPRixZQUFhO1lBQzdCLElBQUkzQyxTQUFTYyxXQUFXLEdBQUdDLFFBQVEsQ0FBQzhCLE1BQU07Z0JBQ3hDRCxLQUFLdEQsSUFBSSxDQUFDdUQ7WUFDWjtRQUNGO1FBRUEsSUFBSUQsS0FBS1YsTUFBTSxHQUFHLEdBQUc7WUFDbkJ2RCxLQUFLaUUsSUFBSSxHQUFHQTtRQUNkO1FBRUEsb0NBQW9DO1FBQ3BDLElBQUk1QyxTQUFTYyxXQUFXLEdBQUdDLFFBQVEsQ0FBQyxZQUFZZixTQUFTYyxXQUFXLEdBQUdDLFFBQVEsQ0FBQyxjQUFjO1lBQzVGcEMsS0FBS21FLGVBQWUsR0FBRztRQUN6QjtRQUVBLDhCQUE4QjtRQUM5QixJQUFJOUMsU0FBU2MsV0FBVyxHQUFHQyxRQUFRLENBQUMsaUJBQWlCZixTQUFTYyxXQUFXLEdBQUdDLFFBQVEsQ0FBQyxnQkFBZ0I7WUFDbkdwQyxLQUFLb0Usa0JBQWtCLEdBQUc7UUFDNUI7UUFFQSxPQUFPcEU7SUFDVDtJQUVRc0MsbUJBQW1CakIsUUFBZ0IsRUFBeUI7UUFDbEUscURBQXFEO1FBQ3JELE9BQU8sSUFBSSxDQUFDRCxrQkFBa0IsQ0FBQ0M7SUFDakM7SUFFUW1CLHFCQUFxQnhDLElBQWtCLEVBQVU7WUFlakNBLFlBNEJWQSxnQkFBb0RBO1FBMUNoRSxNQUFNRyxZQUFZLElBQUlDLE9BQU9pRSxrQkFBa0I7UUFFL0MsT0FBTyw4REFVY3JFLE9BUlRHLFdBQVUsbVNBVUFILE9BRkRBLEtBQUsyQixTQUFTLElBQUksaUJBQWdCLGdDQU1yQjNCLE9BSlpBLEVBQUFBLGFBQUFBLEtBQUtpRSxJQUFJLGNBQVRqRSxpQ0FBQUEsV0FBVzhCLElBQUksQ0FBQyxVQUFTLDhDQUE2QyxrRUFhOUYsT0FUb0M5QixLQUFLNEIsY0FBYyxJQUFJLGlDQUFnQyx5T0FheEUsT0FKbkIsSUFBSSxDQUFDMEMsMEJBQTBCLENBQUN0RSxLQUFLNkIsU0FBUyxJQUFJO1lBQUM7WUFBWTtTQUFZLEdBQUUsOERBTTVEN0IsT0FGRSxJQUFJLENBQUN1RSw2QkFBNkIsQ0FBQ3ZFLEtBQUt5RCxZQUFZLEdBQUUseUJBVzNEekQsT0FUR0EsS0FBS21FLGVBQWUsSUFBSSw2REFBNEQsbU5BU25DbkUsT0FBcERBLEVBQUFBLGlCQUFBQSxLQUFLK0IsUUFBUSxjQUFiL0IscUNBQUFBLGVBQWVnQyxTQUFTLEtBQUksb0JBQW1CLE9BUzdDaEMsT0FUa0RBLEVBQUFBLGtCQUFBQSxLQUFLK0IsUUFBUSxjQUFiL0Isc0NBQUFBLGdCQUFlaUMsT0FBTyxLQUFJLFdBQVUsZ1BBbUJ0RyxPQVZnQmpDLEtBQUtrQyxNQUFNLElBQUkseURBQXdELDROQVVpRCxPQUF4SSxDQUFDbEMsS0FBS2lFLElBQUksSUFBSTtZQUFDO1lBQW1CO1lBQVM7U0FBa0IsRUFBRU8sR0FBRyxDQUFDTixDQUFBQSxNQUFPLEtBQWdELE9BQTNDQSxJQUFJTyxNQUFNLENBQUMsR0FBR0MsV0FBVyxLQUFLUixJQUFJUyxLQUFLLENBQUMsS0FBTTdDLElBQUksQ0FBQyxPQUFNO0lBNEN4STtJQUVRd0MsMkJBQTJCekMsU0FBbUIsRUFBVTtRQUM5RCxNQUFNK0MsYUFJRDtZQUNILFlBQVk7Z0JBQ1YvQixTQUFTO2dCQUNUZ0MsU0FBUztnQkFDVEMsaUJBQWlCO1lBQ25CO1lBQ0EsWUFBWTtnQkFDVmpDLFNBQVM7Z0JBQ1RnQyxTQUFTO2dCQUNUQyxpQkFBaUI7WUFDbkI7WUFDQSxhQUFhO2dCQUNYakMsU0FBUztnQkFDVGdDLFNBQVM7Z0JBQ1RDLGlCQUFpQjtZQUNuQjtZQUNBLGFBQWE7Z0JBQ1hqQyxTQUFTO2dCQUNUZ0MsU0FBUztnQkFDVEMsaUJBQWlCO1lBQ25CO1lBQ0EsVUFBVTtnQkFDUmpDLFNBQVM7Z0JBQ1RnQyxTQUFTO2dCQUNUQyxpQkFBaUI7WUFDbkI7WUFDQSxVQUFVO2dCQUNSakMsU0FBUztnQkFDVGdDLFNBQVM7Z0JBQ1RDLGlCQUFpQjtZQUNuQjtRQUNGO1FBRUEsT0FBT2pELFVBQVUyQyxHQUFHLENBQUNsQixDQUFBQTtZQUNuQixNQUFNeUIsV0FBV0gsVUFBVSxDQUFDdEIsU0FBUztZQUNyQyxJQUFJLENBQUN5QixVQUFVO2dCQUNiLE9BQU8sT0FBZ0IsT0FBVHpCLFVBQVM7WUFDekI7WUFFQSxPQUFPLE9BRXVCeUIsT0FGaEJ6QixVQUFTLDBDQUlOeUIsT0FGYUEsU0FBU2xDLE9BQU8sRUFBQyw2QkFJckJrQyxPQUZUQSxTQUFTRixPQUFPLEVBQUMsc0NBRWlCLE9BQXpCRSxTQUFTRCxlQUFlLEVBQUM7UUFHckQsR0FBR2hELElBQUksQ0FBQztJQUNWO0lBRVF5Qyw4QkFBOEJkLFlBQXFDLEVBQVU7UUFDbkYsSUFBSSxDQUFDQSxnQkFBZ0JSLE9BQU9XLElBQUksQ0FBQ0gsY0FBY0YsTUFBTSxLQUFLLEdBQUc7WUFDM0QsT0FBTztRQUNUO1FBRUEsTUFBTUksT0FBT0YsYUFBYXVCLFNBQVMsSUFBSTtRQUN2QyxNQUFNRixrQkFBMEM7WUFDOUMsU0FBUztZQUNULFVBQVU7WUFDVixRQUFRO1lBQ1IsT0FBTztRQUNUO1FBRUEsT0FBT0EsZUFBZSxDQUFDbkIsS0FBSyxJQUFJbUIsZUFBZSxDQUFDLE1BQU07SUFDeEQ7SUFFUXBDLHlCQUFpQztRQUN2QyxNQUFNdkMsWUFBWSxJQUFJQyxPQUFPNkUsV0FBVyxHQUFHQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDeEQsT0FBTywrQkFBeUMsT0FBVi9FLFdBQVU7SUFDbEQ7O1FBanRCSyxxQkFDTGdGLEtBQUssWUFDTHZDLE9BQU8sWUFDUHdDLGNBQWMscUZBQ2RDLE9BQU8sbUJBRVBDLFFBQXFCO1lBQ25CO2dCQUNFSCxJQUFJO2dCQUNKdkMsTUFBTTtnQkFDTjJDLFNBQVM7Z0JBQ1RILGFBQWE7Z0JBQ2JJLFlBQVk7b0JBQ1Y7d0JBQ0U1QyxNQUFNO3dCQUNOZSxNQUFNO3dCQUNOeUIsYUFBYTt3QkFDYkssVUFBVTtvQkFDWjtpQkFDRDtZQUNIO1NBQ0QsRUFFRCw4QkFBOEI7YUFDdEJqRyxnQkFLSCxJQUFJa0c7O0FBcXJCWDtBQUVBLDRCQUE0QjtBQUNyQixNQUFNQyxXQUFXLElBQUloSCxXQUFXIiwic291cmNlcyI6WyIvVXNlcnMvbWF0dGhld3NpbW9uL1Byb2plY3RzL2VhYy9lYWMvc3RvcmUvYWdlbnRzL2Ntb0FnZW50LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENNTyBBZ2VudCAtIE1hcmtldGluZyBDYW1wYWlnbiBTdHJhdGVneSBhbmQgUGxhbm5pbmdcbi8vIENyZWF0ZXMgY29tcHJlaGVuc2l2ZSBtYXJrZXRpbmcgY2FtcGFpZ24gcGxhbnMgYW5kIHN0cmF0ZWdpZXNcblxuaW1wb3J0IHsgQWdlbnRUb29sLCBCYXNlQWdlbnQgfSBmcm9tICcuL2Jhc2UnO1xuaW1wb3J0IHsgQ29udmV4TXV0YXRpb25zIH0gZnJvbSAnLi90eXBlcyc7XG5cbmludGVyZmFjZSBDYW1wYWlnbkRhdGEge1xuICBvYmplY3RpdmU/OiBzdHJpbmc7XG4gIHRhcmdldEF1ZGllbmNlPzogc3RyaW5nO1xuICBwbGF0Zm9ybXM/OiBzdHJpbmdbXTtcbiAgY29udGVudFR5cGVzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgY2FkZW5jZT86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIHRpbWVsaW5lPzoge1xuICAgIHN0YXJ0RGF0ZT86IHN0cmluZztcbiAgICBlbmREYXRlPzogc3RyaW5nO1xuICAgIG1pbGVzdG9uZXM/OiBzdHJpbmdbXTtcbiAgfTtcbiAgYnVkZ2V0Pzogc3RyaW5nO1xuICBrcGlzPzogc3RyaW5nW107XG4gIGJyYW5kR3VpZGVsaW5lcz86IHN0cmluZztcbiAgY29tcGV0aXRpdmVDb250ZXh0Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgQ01PQWdlbnQgZXh0ZW5kcyBCYXNlQWdlbnQge1xuICBpZCA9ICdjbW8nO1xuICBuYW1lID0gJ0NNTyc7XG4gIGRlc2NyaXB0aW9uID0gJ01hcmtldGluZyBjYW1wYWlnbiBzdHJhdGVneSBhbmQgcGxhbm5pbmcgd2l0aCBtdWx0aS1wbGF0Zm9ybSByZWNvbW1lbmRhdGlvbnMnO1xuICBpY29uID0gJ1RyZW5kaW5nVXAnO1xuXG4gIHRvb2xzOiBBZ2VudFRvb2xbXSA9IFtcbiAgICB7XG4gICAgICBpZDogXCJkZWZpbmUtY2FtcGFpZ25cIixcbiAgICAgIG5hbWU6IFwiRGVmaW5lIE1hcmtldGluZyBDYW1wYWlnblwiLFxuICAgICAgY29tbWFuZDogXCIvY21vXCIsXG4gICAgICBkZXNjcmlwdGlvbjogXCJJbnRlcmFjdGl2ZSBjYW1wYWlnbiBwbGFubmluZyB3aXRoIHN0cmF0ZWdpYyByZWNvbW1lbmRhdGlvbnNcIixcbiAgICAgIHBhcmFtZXRlcnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6IFwiY2FtcGFpZ25fcmVxdWVzdFwiLFxuICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiRGVzY3JpYmUgeW91ciBtYXJrZXRpbmcgY2FtcGFpZ24gbmVlZHMgb3IgZ29hbHNcIixcbiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH1cbiAgXTtcblxuICAvLyBDYW1wYWlnbiBjb252ZXJzYXRpb24gc3RhdGVcbiAgcHJpdmF0ZSBjYW1wYWlnblN0YXRlOiBNYXA8c3RyaW5nLCB7XG4gICAgZGF0YTogQ2FtcGFpZ25EYXRhO1xuICAgIHBoYXNlOiBudW1iZXI7XG4gICAgcmVzcG9uc2VzOiBzdHJpbmdbXTtcbiAgICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgfT4gPSBuZXcgTWFwKCk7XG5cbiAgYXN5bmMgZXhlY3V0ZShcbiAgICB0b29sOiBBZ2VudFRvb2wsXG4gICAgaW5wdXQ6IHN0cmluZyxcbiAgICBtdXRhdGlvbnM6IENvbnZleE11dGF0aW9ucyxcbiAgICBzZXNzaW9uSWQ/OiBzdHJpbmdcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ/Cfjq8gQ01PIEFnZW50OiBTdGFydGluZyBjYW1wYWlnbiBwbGFubmluZyBmb3I6JywgaW5wdXQpO1xuICAgICAgXG4gICAgICAvLyBDbGVhbiB0aGUgaW5wdXRcbiAgICAgIGNvbnN0IGNsZWFuSW5wdXQgPSBpbnB1dC5yZXBsYWNlKC9eXFwvY21vXFxzKi9pLCAnJykudHJpbSgpO1xuICAgICAgXG4gICAgICBpZiAoIWNsZWFuSW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0V2VsY29tZU1lc3NhZ2UoKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY3VycmVudFNlc3Npb25JZCA9IHNlc3Npb25JZCB8fCAnZGVmYXVsdCc7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIHdlJ3JlIGNvbnRpbnVpbmcgYW4gZXhpc3RpbmcgY29udmVyc2F0aW9uXG4gICAgICBpZiAodGhpcy5jYW1wYWlnblN0YXRlLmhhcyhjdXJyZW50U2Vzc2lvbklkKSkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5jb250aW51ZUNvbnZlcnNhdGlvbihjdXJyZW50U2Vzc2lvbklkLCBjbGVhbklucHV0LCBtdXRhdGlvbnMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc3RhcnROZXdDb252ZXJzYXRpb24oY3VycmVudFNlc3Npb25JZCwgY2xlYW5JbnB1dCwgbXV0YXRpb25zKTtcbiAgICAgIH1cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwi4p2MIENNTyBBZ2VudCBleGVjdXRpb24gZmFpbGVkOlwiLCBlcnJvcik7XG4gICAgICByZXR1cm4gYOKdjCAqKkNNTyBBZ2VudCBFcnJvcioqXG5cbkZhaWxlZCB0byBwcm9jZXNzIGNhbXBhaWduIHJlcXVlc3Q6IFwiJHtpbnB1dH1cIlxuXG5FcnJvcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31cblxuUGxlYXNlIHRyeSBhZ2FpbiBvciBzdGFydCBhIG5ldyBjYW1wYWlnbiBwbGFubmluZyBzZXNzaW9uLmA7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRXZWxjb21lTWVzc2FnZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBg8J+OryAqKldlbGNvbWUgdG8gdGhlIENNTyBBZ2VudCoqXG5cbkknbGwgaGVscCB5b3UgY3JlYXRlIGEgY29tcHJlaGVuc2l2ZSBtYXJrZXRpbmcgY2FtcGFpZ24gc3RyYXRlZ3kgd2l0aCBwbGF0Zm9ybS1zcGVjaWZpYyByZWNvbW1lbmRhdGlvbnMuXG5cbioqVG8gZ2V0IHN0YXJ0ZWQsIHRlbGwgbWUgYWJvdXQgeW91ciBjYW1wYWlnbjoqKlxuLSBXaGF0IGFyZSB5b3UgdHJ5aW5nIHRvIGFjaGlldmU/IChicmFuZCBhd2FyZW5lc3MsIGxlYWQgZ2VuZXJhdGlvbiwgcHJvZHVjdCBsYXVuY2gsIGV0Yy4pXG4tIFdobyBpcyB5b3VyIHRhcmdldCBhdWRpZW5jZT9cbi0gV2hpY2ggcGxhdGZvcm1zIGFyZSB5b3UgY29uc2lkZXJpbmc/XG5cbioqRXhhbXBsZToqKiBcXGAvY21vIEkgd2FudCB0byBsYXVuY2ggYSBuZXcgU2FhUyBwcm9kdWN0IHRhcmdldGluZyBzbWFsbCBidXNpbmVzcyBvd25lcnMgb24gTGlua2VkSW4gYW5kIFR3aXR0ZXJcXGBcblxuTGV0J3MgYnVpbGQgeW91ciBjYW1wYWlnbiBzdHJhdGVneSB0b2dldGhlciEg8J+agGA7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHN0YXJ0TmV3Q29udmVyc2F0aW9uKFxuICAgIHNlc3Npb25JZDogc3RyaW5nLCBcbiAgICBpbnB1dDogc3RyaW5nLCBcbiAgICBtdXRhdGlvbnM6IENvbnZleE11dGF0aW9uc1xuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIC8vIEluaXRpYWxpemUgY2FtcGFpZ24gc3RhdGVcbiAgICB0aGlzLmNhbXBhaWduU3RhdGUuc2V0KHNlc3Npb25JZCwge1xuICAgICAgZGF0YToge30sXG4gICAgICBwaGFzZTogMSxcbiAgICAgIHJlc3BvbnNlczogW2lucHV0XSxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuYXNrUGhhc2UxUXVlc3Rpb25zKHNlc3Npb25JZCwgaW5wdXQpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBjb250aW51ZUNvbnZlcnNhdGlvbihcbiAgICBzZXNzaW9uSWQ6IHN0cmluZywgXG4gICAgaW5wdXQ6IHN0cmluZywgXG4gICAgbXV0YXRpb25zOiBDb252ZXhNdXRhdGlvbnNcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuY2FtcGFpZ25TdGF0ZS5nZXQoc2Vzc2lvbklkKSE7XG4gICAgXG4gICAgLy8gQ2hlY2sgZm9yIHRpbWVvdXQgKDMwIG1pbnV0ZXMpXG4gICAgaWYgKERhdGUubm93KCkgLSBzdGF0ZS50aW1lc3RhbXAgPiAzMCAqIDYwICogMTAwMCkge1xuICAgICAgdGhpcy5jYW1wYWlnblN0YXRlLmRlbGV0ZShzZXNzaW9uSWQpO1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0VGltZW91dE1lc3NhZ2UoKTtcbiAgICB9XG5cbiAgICBzdGF0ZS5yZXNwb25zZXMucHVzaChpbnB1dCk7XG4gICAgc3RhdGUudGltZXN0YW1wID0gRGF0ZS5ub3coKTtcblxuICAgIHN3aXRjaCAoc3RhdGUucGhhc2UpIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc1BoYXNlMVJlc3BvbnNlKHNlc3Npb25JZCwgaW5wdXQpO1xuICAgICAgY2FzZSAyOlxuICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzUGhhc2UyUmVzcG9uc2Uoc2Vzc2lvbklkLCBpbnB1dCk7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NQaGFzZTNSZXNwb25zZShzZXNzaW9uSWQsIGlucHV0KTtcbiAgICAgIGNhc2UgNDpcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc1BoYXNlNFJlc3BvbnNlKHNlc3Npb25JZCwgaW5wdXQpO1xuICAgICAgY2FzZSA1OlxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5wcm9jZXNzUGhhc2U1UmVzcG9uc2Uoc2Vzc2lvbklkLCBpbnB1dCwgbXV0YXRpb25zKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdlbmVyYXRlRmluYWxSZXBvcnQoc2Vzc2lvbklkLCBtdXRhdGlvbnMpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXNrUGhhc2UxUXVlc3Rpb25zKHNlc3Npb25JZDogc3RyaW5nLCBpbml0aWFsSW5wdXQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLmNhbXBhaWduU3RhdGUuZ2V0KHNlc3Npb25JZCkhO1xuICAgIFxuICAgIC8vIFRyeSB0byBleHRyYWN0IGluaXRpYWwgaW5mb3JtYXRpb24gZnJvbSB0aGUgaW5wdXRcbiAgICBjb25zdCBleHRyYWN0ZWRJbmZvID0gdGhpcy5leHRyYWN0SW5pdGlhbEluZm8oaW5pdGlhbElucHV0KTtcbiAgICBzdGF0ZS5kYXRhID0geyAuLi5zdGF0ZS5kYXRhLCAuLi5leHRyYWN0ZWRJbmZvIH07XG5cbiAgICByZXR1cm4gYPCfjq8gKipQaGFzZSAxOiBDYW1wYWlnbiBPYmplY3RpdmVzICYgVGFyZ2V0IEF1ZGllbmNlKipcblxuQmFzZWQgb24geW91ciByZXF1ZXN0OiBcIiR7aW5pdGlhbElucHV0fVwiXG5cbkkgbmVlZCB0byB1bmRlcnN0YW5kIHlvdXIgY2FtcGFpZ24gYmV0dGVyLiBQbGVhc2UgcHJvdmlkZTpcblxuKioxLiBQcmltYXJ5IE9iamVjdGl2ZSoqIChpZiBub3QgY2xlYXIgZnJvbSBhYm92ZSlcbi0gQnJhbmQgYXdhcmVuZXNzLCBsZWFkIGdlbmVyYXRpb24sIHNhbGVzIGNvbnZlcnNpb24sIGN1c3RvbWVyIHJldGVudGlvbiwgcHJvZHVjdCBsYXVuY2gsIG9yIG90aGVyP1xuXG4qKjIuIFRhcmdldCBBdWRpZW5jZSBEZXRhaWxzKipcbi0gRGVtb2dyYXBoaWNzIChhZ2UsIGxvY2F0aW9uLCBwcm9mZXNzaW9uLCBldGMuKVxuLSBQYWluIHBvaW50cyBvciBuZWVkcyB0aGV5IGhhdmVcbi0gV2hlcmUgdGhleSBzcGVuZCB0aW1lIG9ubGluZVxuXG4qKjMuIFN1Y2Nlc3MgTWV0cmljcyoqXG4tIEhvdyB3aWxsIHlvdSBtZWFzdXJlIGNhbXBhaWduIHN1Y2Nlc3M/XG4tIEFueSBzcGVjaWZpYyBnb2FscyAoZS5nLiwgMTAwMCBsZWFkcywgMjAlIGJyYW5kIGF3YXJlbmVzcyBsaWZ0KT9cblxuUGxlYXNlIHByb3ZpZGUgdGhlc2UgZGV0YWlscyBzbyBJIGNhbiBtb3ZlIHRvIHBsYXRmb3JtIHN0cmF0ZWd5IHJlY29tbWVuZGF0aW9ucy5gO1xuICB9XG5cbiAgcHJpdmF0ZSBwcm9jZXNzUGhhc2UxUmVzcG9uc2Uoc2Vzc2lvbklkOiBzdHJpbmcsIHJlc3BvbnNlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5jYW1wYWlnblN0YXRlLmdldChzZXNzaW9uSWQpITtcbiAgICBcbiAgICAvLyBFeHRyYWN0IGluZm9ybWF0aW9uIGZyb20gcmVzcG9uc2VcbiAgICBjb25zdCBpbmZvID0gdGhpcy5leHRyYWN0UGhhc2UxSW5mbyhyZXNwb25zZSk7XG4gICAgc3RhdGUuZGF0YSA9IHsgLi4uc3RhdGUuZGF0YSwgLi4uaW5mbyB9O1xuICAgIHN0YXRlLnBoYXNlID0gMjtcblxuICAgIHJldHVybiBg8J+TsSAqKlBoYXNlIDI6IFBsYXRmb3JtIFNlbGVjdGlvbiAmIENvbnRlbnQgU3RyYXRlZ3kqKlxuXG5HcmVhdCEgTm93IGxldCdzIGRldGVybWluZSB0aGUgYmVzdCBwbGF0Zm9ybXMgYW5kIGNvbnRlbnQgYXBwcm9hY2hlcy5cblxuKipBdmFpbGFibGUgUGxhdGZvcm1zOioqXG4tIEZhY2Vib29rIChsb25nLWZvcm0gY29udGVudCwgY29tbXVuaXR5IGJ1aWxkaW5nKVxuLSBJbnN0YWdyYW0gKHZpc3VhbCBjb250ZW50LCBzdG9yaWVzLCByZWVscylcbi0gTGlua2VkSW4gKHByb2Zlc3Npb25hbCBjb250ZW50LCBCMkIgZm9jdXMpXG4tIFR3aXR0ZXIvWCAocmVhbC10aW1lIGVuZ2FnZW1lbnQsIGRpc2N1c3Npb25zKVxuLSBUaWtUb2sgKHNob3J0LWZvcm0gdmlkZW8sIHZpcmFsIGNvbnRlbnQpXG4tIFJlZGRpdCAoY29tbXVuaXR5IGRpc2N1c3Npb25zLCBhdXRoZW50aWMgZW5nYWdlbWVudClcblxuKipRdWVzdGlvbnM6KipcbjEuICoqV2hpY2ggcGxhdGZvcm1zKiogYXJlIHlvdSBjdXJyZW50bHkgY29uc2lkZXJpbmcgb3IgdXNpbmc/XG4yLiAqKkNvbnRlbnQgcHJlZmVyZW5jZXMqKiAtIGRvIHlvdSBwcmVmZXIgdmlkZW8sIGltYWdlcywgdGV4dCwgb3IgYSBtaXg/XG4zLiAqKkNvbnRlbnQgcmVzb3VyY2VzKiogLSBkbyB5b3UgaGF2ZSBleGlzdGluZyBjb250ZW50IHRoYXQgY2FuIGJlIHJlcHVycG9zZWQ/XG40LiAqKkJyYW5kIHZvaWNlKiogLSBwcm9mZXNzaW9uYWwsIGNhc3VhbCwgaHVtb3JvdXMsIGVkdWNhdGlvbmFsP1xuXG5QbGVhc2Ugc2hhcmUgeW91ciBwbGF0Zm9ybSBwcmVmZXJlbmNlcyBhbmQgY29udGVudCBhcHByb2FjaC5gO1xuICB9XG5cbiAgcHJpdmF0ZSBwcm9jZXNzUGhhc2UyUmVzcG9uc2Uoc2Vzc2lvbklkOiBzdHJpbmcsIHJlc3BvbnNlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5jYW1wYWlnblN0YXRlLmdldChzZXNzaW9uSWQpITtcbiAgICBcbiAgICBjb25zdCBpbmZvID0gdGhpcy5leHRyYWN0UGhhc2UySW5mbyhyZXNwb25zZSk7XG4gICAgc3RhdGUuZGF0YSA9IHsgLi4uc3RhdGUuZGF0YSwgLi4uaW5mbyB9O1xuICAgIHN0YXRlLnBoYXNlID0gMztcblxuICAgIHJldHVybiBg8J+ThSAqKlBoYXNlIDM6IFRpbWVsaW5lICYgUG9zdGluZyBTdHJhdGVneSoqXG5cblBlcmZlY3QhIE5vdyBsZXQncyBwbGFuIHlvdXIgY2FtcGFpZ24gdGltZWxpbmUgYW5kIHBvc3RpbmcgZnJlcXVlbmN5LlxuXG4qKlF1ZXN0aW9uczoqKlxuMS4gKipDYW1wYWlnbiBEdXJhdGlvbioqXG4gICAtIFdoZW4gZG8geW91IHdhbnQgdG8gc3RhcnQ/XG4gICAtIEhvdyBsb25nIHNob3VsZCB0aGUgY2FtcGFpZ24gcnVuPyAoNCB3ZWVrcywgMyBtb250aHMsIG9uZ29pbmc/KVxuICAgLSBBbnkgaW1wb3J0YW50IGRhdGVzIG9yIGRlYWRsaW5lcz9cblxuMi4gKipQb3N0aW5nIEZyZXF1ZW5jeSoqIHBlciBwbGF0Zm9ybVxuICAgLSBIb3cgb2Z0ZW4gY2FuIHlvdSByZWFsaXN0aWNhbGx5IGNyZWF0ZSBhbmQgcG9zdCBjb250ZW50P1xuICAgLSBEbyB5b3UgaGF2ZSB0ZWFtIG1lbWJlcnMgd2hvIGNhbiBoZWxwIHdpdGggY29udGVudCBjcmVhdGlvbj9cblxuMy4gKipCdWRnZXQgQ29uc2lkZXJhdGlvbnMqKlxuICAgLSBBcmUgeW91IHBsYW5uaW5nIHBhaWQgYWR2ZXJ0aXNpbmc/XG4gICAtIEJ1ZGdldCByYW5nZSBmb3IgY29udGVudCBjcmVhdGlvbiBvciBhZHM/XG5cblNoYXJlIHlvdXIgdGltZWxpbmUgcHJlZmVyZW5jZXMgYW5kIHJlc291cmNlIGF2YWlsYWJpbGl0eS5gO1xuICB9XG5cbiAgcHJpdmF0ZSBwcm9jZXNzUGhhc2UzUmVzcG9uc2Uoc2Vzc2lvbklkOiBzdHJpbmcsIHJlc3BvbnNlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5jYW1wYWlnblN0YXRlLmdldChzZXNzaW9uSWQpITtcbiAgICBcbiAgICBjb25zdCBpbmZvID0gdGhpcy5leHRyYWN0UGhhc2UzSW5mbyhyZXNwb25zZSk7XG4gICAgc3RhdGUuZGF0YSA9IHsgLi4uc3RhdGUuZGF0YSwgLi4uaW5mbyB9O1xuICAgIHN0YXRlLnBoYXNlID0gNDtcblxuICAgIHJldHVybiBg8J+TiiAqKlBoYXNlIDQ6IE1lYXN1cmVtZW50ICYgQnJhbmQgR3VpZGVsaW5lcyoqXG5cbkV4Y2VsbGVudCEgTGV0J3MgZmluYWxpemUgdGhlIG1lYXN1cmVtZW50IHN0cmF0ZWd5IGFuZCBicmFuZCBjb25zaXN0ZW5jeS5cblxuKipRdWVzdGlvbnM6KipcbjEuICoqS2V5IFBlcmZvcm1hbmNlIEluZGljYXRvcnMgKEtQSXMpKipcbiAgIC0gRW5nYWdlbWVudCByYXRlLCByZWFjaCwgd2Vic2l0ZSB0cmFmZmljLCBsZWFkcywgY29udmVyc2lvbnM/XG4gICAtIEhvdyBvZnRlbiBkbyB5b3Ugd2FudCB0byByZXZpZXcgcGVyZm9ybWFuY2U/ICh3ZWVrbHksIG1vbnRobHk/KVxuXG4yLiAqKkJyYW5kIEd1aWRlbGluZXMqKlxuICAgLSBEbyB5b3UgaGF2ZSBleGlzdGluZyBicmFuZCBjb2xvcnMsIGZvbnRzLCBvciB2b2ljZSBndWlkZWxpbmVzP1xuICAgLSBBbnkgbWVzc2FnaW5nIHRoYXQgbXVzdCBiZSBjb25zaXN0ZW50IGFjcm9zcyBwbGF0Zm9ybXM/XG4gICAtIFRvcGljcyBvciBhcHByb2FjaGVzIHRvIGF2b2lkP1xuXG4zLiAqKkNvbXBldGl0aXZlIENvbnRleHQqKlxuICAgLSBXaG8gYXJlIHlvdXIgbWFpbiBjb21wZXRpdG9ycz9cbiAgIC0gQW55IGNvbXBldGl0b3IgY2FtcGFpZ25zIHlvdSBhZG1pcmUgb3Igd2FudCB0byBkaWZmZXJlbnRpYXRlIGZyb20/XG5cblNoYXJlIHRoZXNlIGZpbmFsIGRldGFpbHMgc28gSSBjYW4gY3JlYXRlIHlvdXIgY29tcHJlaGVuc2l2ZSBjYW1wYWlnbiBzdHJhdGVneS5gO1xuICB9XG5cbiAgcHJpdmF0ZSBwcm9jZXNzUGhhc2U0UmVzcG9uc2Uoc2Vzc2lvbklkOiBzdHJpbmcsIHJlc3BvbnNlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5jYW1wYWlnblN0YXRlLmdldChzZXNzaW9uSWQpITtcbiAgICBcbiAgICBjb25zdCBpbmZvID0gdGhpcy5leHRyYWN0UGhhc2U0SW5mbyhyZXNwb25zZSk7XG4gICAgc3RhdGUuZGF0YSA9IHsgLi4uc3RhdGUuZGF0YSwgLi4uaW5mbyB9O1xuICAgIHN0YXRlLnBoYXNlID0gNTtcblxuICAgIHJldHVybiBg4pyFICoqUGhhc2UgNTogRmluYWwgUmV2aWV3ICYgUmVwb3J0IEdlbmVyYXRpb24qKlxuXG5FeGNlbGxlbnQhIEkgbm93IGhhdmUgYWxsIHRoZSBpbmZvcm1hdGlvbiBuZWVkZWQgdG8gY3JlYXRlIHlvdXIgY29tcHJlaGVuc2l2ZSBtYXJrZXRpbmcgY2FtcGFpZ24gc3RyYXRlZ3kuXG5cbioqQ2FtcGFpZ24gU3VtbWFyeToqKlxuLSAqKk9iamVjdGl2ZToqKiAke3N0YXRlLmRhdGEub2JqZWN0aXZlIHx8ICdOb3Qgc3BlY2lmaWVkJ31cbi0gKipUYXJnZXQgQXVkaWVuY2U6KiogJHtzdGF0ZS5kYXRhLnRhcmdldEF1ZGllbmNlIHx8ICdOb3Qgc3BlY2lmaWVkJ31cbi0gKipQbGF0Zm9ybXM6KiogJHtzdGF0ZS5kYXRhLnBsYXRmb3Jtcz8uam9pbignLCAnKSB8fCAnTm90IHNwZWNpZmllZCd9XG4tICoqVGltZWxpbmU6KiogJHtzdGF0ZS5kYXRhLnRpbWVsaW5lPy5zdGFydERhdGUgfHwgJ05vdCBzcGVjaWZpZWQnfSAtICR7c3RhdGUuZGF0YS50aW1lbGluZT8uZW5kRGF0ZSB8fCAnTm90IHNwZWNpZmllZCd9XG4tICoqQnVkZ2V0OioqICR7c3RhdGUuZGF0YS5idWRnZXQgfHwgJ05vdCBzcGVjaWZpZWQnfVxuXG4qKlJlYWR5IHRvIGdlbmVyYXRlIHlvdXIgY2FtcGFpZ24gcmVwb3J0PyoqXG5cblR5cGUgXCIqKmdlbmVyYXRlIHJlcG9ydCoqXCIgdG8gY3JlYXRlIHlvdXIgY29tcHJlaGVuc2l2ZSBNYXJrZXRpbmcgQ2FtcGFpZ24gUG9zc2liaWxpdGllcyBSZXBvcnQsIG9yIHByb3ZpZGUgYW55IGNvcnJlY3Rpb25zIHRvIHRoZSBzdW1tYXJ5IGFib3ZlLlxuXG5UaGUgcmVwb3J0IHdpbGwgYmUgc2F2ZWQgdG8geW91ciBJbnN0cnVjdGlvbnMgZm9sZGVyIGZvciBmdXR1cmUgcmVmZXJlbmNlLmA7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHByb2Nlc3NQaGFzZTVSZXNwb25zZShcbiAgICBzZXNzaW9uSWQ6IHN0cmluZywgXG4gICAgcmVzcG9uc2U6IHN0cmluZywgXG4gICAgbXV0YXRpb25zOiBDb252ZXhNdXRhdGlvbnNcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuY2FtcGFpZ25TdGF0ZS5nZXQoc2Vzc2lvbklkKSE7XG4gICAgXG4gICAgaWYgKHJlc3BvbnNlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2dlbmVyYXRlIHJlcG9ydCcpIHx8IHJlc3BvbnNlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2NyZWF0ZSByZXBvcnQnKSkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2VuZXJhdGVGaW5hbFJlcG9ydChzZXNzaW9uSWQsIG11dGF0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFByb2Nlc3MgYW55IGZpbmFsIGNvcnJlY3Rpb25zXG4gICAgICBjb25zdCBjb3JyZWN0aW9ucyA9IHRoaXMuZXh0cmFjdENvcnJlY3Rpb25zKHJlc3BvbnNlKTtcbiAgICAgIHN0YXRlLmRhdGEgPSB7IC4uLnN0YXRlLmRhdGEsIC4uLmNvcnJlY3Rpb25zIH07XG4gICAgICBcbiAgICAgIHJldHVybiBg8J+TnSAqKlVwZGF0ZXMgQXBwbGllZCoqXG5cbllvdXIgY29ycmVjdGlvbnMgaGF2ZSBiZWVuIG5vdGVkLiBcblxuVHlwZSBcIioqZ2VuZXJhdGUgcmVwb3J0KipcIiB3aGVuIHlvdSdyZSByZWFkeSBmb3IgbWUgdG8gY3JlYXRlIHlvdXIgY29tcHJlaGVuc2l2ZSBNYXJrZXRpbmcgQ2FtcGFpZ24gUG9zc2liaWxpdGllcyBSZXBvcnQuYDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdlbmVyYXRlRmluYWxSZXBvcnQoc2Vzc2lvbklkOiBzdHJpbmcsIG11dGF0aW9uczogQ29udmV4TXV0YXRpb25zKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuY2FtcGFpZ25TdGF0ZS5nZXQoc2Vzc2lvbklkKTtcbiAgICBpZiAoIXN0YXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRUaW1lb3V0TWVzc2FnZSgpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXBvcnRDb250ZW50ID0gdGhpcy5jcmVhdGVDYW1wYWlnblJlcG9ydChzdGF0ZS5kYXRhKTtcbiAgICAgIGNvbnN0IGZpbGVOYW1lID0gdGhpcy5nZW5lcmF0ZVJlcG9ydEZpbGVOYW1lKCk7XG5cbiAgICAgIC8vIFNhdmUgdG8gSW5zdHJ1Y3Rpb25zIGZvbGRlclxuICAgICAgaWYgKG11dGF0aW9ucy5jcmVhdGVJbnN0cnVjdGlvbkZpbGUpIHtcbiAgICAgICAgYXdhaXQgbXV0YXRpb25zLmNyZWF0ZUluc3RydWN0aW9uRmlsZSh7XG4gICAgICAgICAgbmFtZTogZmlsZU5hbWUsXG4gICAgICAgICAgY29udGVudDogcmVwb3J0Q29udGVudCxcbiAgICAgICAgICB0b3BpYzogYE1hcmtldGluZyBDYW1wYWlnbiBTdHJhdGVneTogJHtzdGF0ZS5kYXRhLm9iamVjdGl2ZSB8fCAnQ2FtcGFpZ24gUGxhbm5pbmcnfWAsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENsZWFuIHVwIHNlc3Npb24gc3RhdGVcbiAgICAgICAgdGhpcy5jYW1wYWlnblN0YXRlLmRlbGV0ZShzZXNzaW9uSWQpO1xuXG4gICAgICAgIHJldHVybiBg4pyFICoqTWFya2V0aW5nIENhbXBhaWduIFJlcG9ydCBHZW5lcmF0ZWQhKipcblxu8J+ThCAqKkZpbGU6KiogXFxgJHtmaWxlTmFtZX1cXGBcbvCfk4EgKipMb2NhdGlvbjoqKiBJbnN0cnVjdGlvbnMgc3lzdGVtIGZvbGRlclxu8J+OryAqKkNhbXBhaWduOioqICR7c3RhdGUuZGF0YS5vYmplY3RpdmUgfHwgJ01hcmtldGluZyBDYW1wYWlnbid9XG5cbllvdXIgY29tcHJlaGVuc2l2ZSBjYW1wYWlnbiBzdHJhdGVneSBoYXMgYmVlbiBjcmVhdGVkIGFuZCBzYXZlZC4gVGhlIHJlcG9ydCBpbmNsdWRlczpcblxuLSDinIUgUGxhdGZvcm0tc3BlY2lmaWMgc3RyYXRlZ2llcyBhbmQgY29udGVudCByZWNvbW1lbmRhdGlvbnNcbi0g4pyFIFBvc3Rpbmcgc2NoZWR1bGVzIGFuZCBjb250ZW50IGNhbGVuZGFyc1xuLSDinIUgS1BJIHRyYWNraW5nIGFuZCBtZWFzdXJlbWVudCBmcmFtZXdvcmtcbi0g4pyFIEJ1ZGdldCBhbGxvY2F0aW9uIGFuZCByZXNvdXJjZSBwbGFubmluZ1xuLSDinIUgSW1wbGVtZW50YXRpb24gdGltZWxpbmUgYW5kIG5leHQgc3RlcHNcblxuVGhlIHJlcG9ydCBpcyBub3cgYXZhaWxhYmxlIGluIHlvdXIgSW5zdHJ1Y3Rpb25zIGZvbGRlciBhbmQgd2lsbCBiZSBpbmNsdWRlZCBhcyBjb250ZXh0IGZvciBmdXR1cmUgQUkgaW50ZXJhY3Rpb25zIGFib3V0IHlvdXIgbWFya2V0aW5nIGNhbXBhaWducy5cblxuKipSZWFkeSB0byBleGVjdXRlIHlvdXIgY2FtcGFpZ24gc3RyYXRlZ3khKiog8J+agFxuXG4tLS1cblxuKipDTU9fUkVQT1JUX0dFTkVSQVRFRF9TVUNDRVNTOioqICR7ZmlsZU5hbWV9YDtcblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ2xlYW4gdXAgc2Vzc2lvbiBzdGF0ZVxuICAgICAgICB0aGlzLmNhbXBhaWduU3RhdGUuZGVsZXRlKHNlc3Npb25JZCk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gYPCfk4sgKipNYXJrZXRpbmcgQ2FtcGFpZ24gUmVwb3J0IEdlbmVyYXRlZCoqXG5cbiR7cmVwb3J0Q29udGVudH1cblxu4pqg77iPICoqTm90ZToqKiBUaGUgcmVwb3J0IGNvdWxkbid0IGJlIHNhdmVkIGF1dG9tYXRpY2FsbHkuIFBsZWFzZSB1c2UgdGhlIGJ1dHRvbiBiZWxvdyB0byBjcmVhdGUgYW4gaW5zdHJ1Y3Rpb24gZmlsZS5cblxuLS0tXG5cbioqQ01PX1JFUE9SVF9NQU5VQUxfU0FWRV9ORUVERUQ6KiogJHtmaWxlTmFtZX1gO1xuICAgICAgfVxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gZ2VuZXJhdGUgY2FtcGFpZ24gcmVwb3J0OicsIGVycm9yKTtcbiAgICAgIHJldHVybiBg4p2MICoqRXJyb3IgR2VuZXJhdGluZyBSZXBvcnQqKlxuXG5GYWlsZWQgdG8gY3JlYXRlIHlvdXIgY2FtcGFpZ24gcmVwb3J0LiBFcnJvcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31cblxuUGxlYXNlIHRyeSB0aGUgY29tbWFuZCBhZ2FpbiBvciBjb250YWN0IHN1cHBvcnQgaWYgdGhlIGlzc3VlIHBlcnNpc3RzLmA7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRUaW1lb3V0TWVzc2FnZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBg4o+wICoqU2Vzc2lvbiBUaW1lb3V0KipcblxuWW91ciBjYW1wYWlnbiBwbGFubmluZyBzZXNzaW9uIGhhcyBleHBpcmVkLiBEb24ndCB3b3JyeSAtIHlvdSBjYW4gc3RhcnQgYSBuZXcgY2FtcGFpZ24gcGxhbm5pbmcgc2Vzc2lvbiBhbnl0aW1lIVxuXG5UeXBlIFxcYC9jbW8gW3lvdXIgY2FtcGFpZ24gaWRlYV1cXGAgdG8gYmVnaW4gYSBmcmVzaCBjYW1wYWlnbiBzdHJhdGVneSBzZXNzaW9uLmA7XG4gIH1cblxuICAvLyBJbmZvcm1hdGlvbiBleHRyYWN0aW9uIG1ldGhvZHNcbiAgcHJpdmF0ZSBleHRyYWN0SW5pdGlhbEluZm8oaW5wdXQ6IHN0cmluZyk6IFBhcnRpYWw8Q2FtcGFpZ25EYXRhPiB7XG4gICAgY29uc3QgZGF0YTogUGFydGlhbDxDYW1wYWlnbkRhdGE+ID0ge307XG4gICAgXG4gICAgLy8gRXh0cmFjdCBvYmplY3RpdmUga2V5d29yZHNcbiAgICBjb25zdCBvYmplY3RpdmVLZXl3b3JkcyA9IHtcbiAgICAgICdicmFuZCBhd2FyZW5lc3MnOiBbJ2JyYW5kIGF3YXJlbmVzcycsICdhd2FyZW5lc3MnLCAndmlzaWJpbGl0eScsICdyZWNvZ25pdGlvbiddLFxuICAgICAgJ2xlYWQgZ2VuZXJhdGlvbic6IFsnbGVhZCBnZW5lcmF0aW9uJywgJ2xlYWRzJywgJ3Byb3NwZWN0cycsICdjYXB0dXJlJ10sXG4gICAgICAnc2FsZXMgY29udmVyc2lvbic6IFsnc2FsZXMnLCAnY29udmVyc2lvbicsICdyZXZlbnVlJywgJ3B1cmNoYXNlJ10sXG4gICAgICAncHJvZHVjdCBsYXVuY2gnOiBbJ2xhdW5jaCcsICduZXcgcHJvZHVjdCcsICdpbnRyb2R1Y2UnLCAnZGVidXQnXSxcbiAgICAgICdjdXN0b21lciByZXRlbnRpb24nOiBbJ3JldGVudGlvbicsICdsb3lhbHR5JywgJ2V4aXN0aW5nIGN1c3RvbWVycycsICdyZXBlYXQnXVxuICAgIH07XG5cbiAgICBmb3IgKGNvbnN0IFtvYmplY3RpdmUsIGtleXdvcmRzXSBvZiBPYmplY3QuZW50cmllcyhvYmplY3RpdmVLZXl3b3JkcykpIHtcbiAgICAgIGlmIChrZXl3b3Jkcy5zb21lKGtleXdvcmQgPT4gaW5wdXQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhrZXl3b3JkKSkpIHtcbiAgICAgICAgZGF0YS5vYmplY3RpdmUgPSBvYmplY3RpdmU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEV4dHJhY3QgcGxhdGZvcm0gbWVudGlvbnNcbiAgICBjb25zdCBwbGF0Zm9ybUtleXdvcmRzID0ge1xuICAgICAgJ0xpbmtlZEluJzogWydsaW5rZWRpbicsICdsaW5rZWQgaW4nXSxcbiAgICAgICdGYWNlYm9vayc6IFsnZmFjZWJvb2snLCAnZmInXSxcbiAgICAgICdJbnN0YWdyYW0nOiBbJ2luc3RhZ3JhbScsICdpZycsICdpbnN0YSddLFxuICAgICAgJ1R3aXR0ZXIvWCc6IFsndHdpdHRlcicsICd4LmNvbScsICcgeCAnXSxcbiAgICAgICdUaWtUb2snOiBbJ3Rpa3RvaycsICd0aWsgdG9rJ10sXG4gICAgICAnUmVkZGl0JzogWydyZWRkaXQnXVxuICAgIH07XG5cbiAgICBjb25zdCBwbGF0Zm9ybXM6IHN0cmluZ1tdID0gW107XG4gICAgZm9yIChjb25zdCBbcGxhdGZvcm0sIGtleXdvcmRzXSBvZiBPYmplY3QuZW50cmllcyhwbGF0Zm9ybUtleXdvcmRzKSkge1xuICAgICAgaWYgKGtleXdvcmRzLnNvbWUoa2V5d29yZCA9PiBpbnB1dC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGtleXdvcmQpKSkge1xuICAgICAgICBwbGF0Zm9ybXMucHVzaChwbGF0Zm9ybSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwbGF0Zm9ybXMubGVuZ3RoID4gMCkge1xuICAgICAgZGF0YS5wbGF0Zm9ybXMgPSBwbGF0Zm9ybXM7XG4gICAgfVxuXG4gICAgLy8gRXh0cmFjdCBhdWRpZW5jZSBoaW50c1xuICAgIGNvbnN0IGF1ZGllbmNlS2V5d29yZHMgPSBbXG4gICAgICAnc21hbGwgYnVzaW5lc3MnLCAnZW50cmVwcmVuZXVycycsICdwcm9mZXNzaW9uYWxzJywgJ2RldmVsb3BlcnMnLFxuICAgICAgJ3N0dWRlbnRzJywgJ3BhcmVudHMnLCAnbWlsbGVubmlhbHMnLCAnZ2VuIHonLCAnYjJiJywgJ2IyYydcbiAgICBdO1xuXG4gICAgZm9yIChjb25zdCBrZXl3b3JkIG9mIGF1ZGllbmNlS2V5d29yZHMpIHtcbiAgICAgIGlmIChpbnB1dC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGtleXdvcmQpKSB7XG4gICAgICAgIGRhdGEudGFyZ2V0QXVkaWVuY2UgPSBrZXl3b3JkO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIHByaXZhdGUgZXh0cmFjdFBoYXNlMUluZm8ocmVzcG9uc2U6IHN0cmluZyk6IFBhcnRpYWw8Q2FtcGFpZ25EYXRhPiB7XG4gICAgLy8gU2ltaWxhciBleHRyYWN0aW9uIGxvZ2ljIGZvciBQaGFzZSAxIHJlc3BvbnNlc1xuICAgIHJldHVybiB0aGlzLmV4dHJhY3RJbml0aWFsSW5mbyhyZXNwb25zZSk7XG4gIH1cblxuICBwcml2YXRlIGV4dHJhY3RQaGFzZTJJbmZvKHJlc3BvbnNlOiBzdHJpbmcpOiBQYXJ0aWFsPENhbXBhaWduRGF0YT4ge1xuICAgIGNvbnN0IGRhdGE6IFBhcnRpYWw8Q2FtcGFpZ25EYXRhPiA9IHt9O1xuICAgIFxuICAgIC8vIEV4dHJhY3QgcGxhdGZvcm1zXG4gICAgY29uc3QgcGxhdGZvcm1zID0gdGhpcy5leHRyYWN0SW5pdGlhbEluZm8ocmVzcG9uc2UpLnBsYXRmb3JtcyB8fCBbXTtcbiAgICBpZiAocGxhdGZvcm1zLmxlbmd0aCA+IDApIHtcbiAgICAgIGRhdGEucGxhdGZvcm1zID0gcGxhdGZvcm1zO1xuICAgIH1cblxuICAgIC8vIEV4dHJhY3QgY29udGVudCB0eXBlIHByZWZlcmVuY2VzXG4gICAgY29uc3QgY29udGVudFR5cGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgY29uc3QgY29udGVudEtleXdvcmRzID0ge1xuICAgICAgJ3ZpZGVvJzogWyd2aWRlbycsICd2aWRlb3MnLCAncmVlbHMnLCAnc3RvcmllcyddLFxuICAgICAgJ2ltYWdlcyc6IFsnaW1hZ2VzJywgJ3Bob3RvcycsICdncmFwaGljcycsICd2aXN1YWwnXSxcbiAgICAgICd0ZXh0JzogWyd0ZXh0JywgJ2FydGljbGVzJywgJ3Bvc3RzJywgJ3dyaXR0ZW4nXSxcbiAgICAgICdtaXgnOiBbJ21peCcsICdjb21iaW5hdGlvbicsICd2YXJpZXR5JywgJ2FsbCB0eXBlcyddXG4gICAgfTtcblxuICAgIGZvciAoY29uc3QgW3R5cGUsIGtleXdvcmRzXSBvZiBPYmplY3QuZW50cmllcyhjb250ZW50S2V5d29yZHMpKSB7XG4gICAgICBpZiAoa2V5d29yZHMuc29tZShrZXl3b3JkID0+IHJlc3BvbnNlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoa2V5d29yZCkpKSB7XG4gICAgICAgIGNvbnRlbnRUeXBlc1sncHJlZmVycmVkJ10gPSB0eXBlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoT2JqZWN0LmtleXMoY29udGVudFR5cGVzKS5sZW5ndGggPiAwKSB7XG4gICAgICBkYXRhLmNvbnRlbnRUeXBlcyA9IGNvbnRlbnRUeXBlcztcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIHByaXZhdGUgZXh0cmFjdFBoYXNlM0luZm8ocmVzcG9uc2U6IHN0cmluZyk6IFBhcnRpYWw8Q2FtcGFpZ25EYXRhPiB7XG4gICAgY29uc3QgZGF0YTogUGFydGlhbDxDYW1wYWlnbkRhdGE+ID0ge307XG5cbiAgICAvLyBFeHRyYWN0IHRpbWVsaW5lIGluZm9ybWF0aW9uXG4gICAgY29uc3QgdGltZWxpbmU6IE5vbk51bGxhYmxlPENhbXBhaWduRGF0YVsndGltZWxpbmUnXT4gPSB7fTtcbiAgICBcbiAgICAvLyBMb29rIGZvciBkYXRlIHBhdHRlcm5zIGFuZCB0aW1lIHJlZmVyZW5jZXNcbiAgICBjb25zdCB0aW1lS2V5d29yZHMgPSBbXG4gICAgICAnNCB3ZWVrcycsICczIG1vbnRocycsICdvbmdvaW5nJywgJ2ltbWVkaWF0ZWx5JywgJ25leHQgbW9udGgnLFxuICAgICAgJ2RhaWx5JywgJ3dlZWtseScsICd0d2ljZSBhIHdlZWsnLCAnMyB0aW1lcyBwZXIgd2VlaydcbiAgICBdO1xuXG4gICAgZm9yIChjb25zdCBrZXl3b3JkIG9mIHRpbWVLZXl3b3Jkcykge1xuICAgICAgaWYgKHJlc3BvbnNlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoa2V5d29yZCkpIHtcbiAgICAgICAgaWYgKGtleXdvcmQuaW5jbHVkZXMoJ3dlZWsnKSB8fCBrZXl3b3JkLmluY2x1ZGVzKCdtb250aCcpKSB7XG4gICAgICAgICAgdGltZWxpbmUuZW5kRGF0ZSA9IGtleXdvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKE9iamVjdC5rZXlzKHRpbWVsaW5lKS5sZW5ndGggPiAwKSB7XG4gICAgICBkYXRhLnRpbWVsaW5lID0gdGltZWxpbmU7XG4gICAgfVxuXG4gICAgLy8gRXh0cmFjdCBidWRnZXQgbWVudGlvbnNcbiAgICBpZiAocmVzcG9uc2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnYnVkZ2V0JykgfHwgcmVzcG9uc2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnJCcpKSB7XG4gICAgICBjb25zdCBidWRnZXRNYXRjaCA9IHJlc3BvbnNlLm1hdGNoKC9cXCRbXFxkLF0rLyk7XG4gICAgICBpZiAoYnVkZ2V0TWF0Y2gpIHtcbiAgICAgICAgZGF0YS5idWRnZXQgPSBidWRnZXRNYXRjaFswXTtcbiAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnbm8gYnVkZ2V0JykgfHwgcmVzcG9uc2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZnJlZScpKSB7XG4gICAgICAgIGRhdGEuYnVkZ2V0ID0gJ09yZ2FuaWMgb25seSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhLmJ1ZGdldCA9ICdCdWRnZXQgbWVudGlvbmVkIGJ1dCBhbW91bnQgbm90IHNwZWNpZmllZCc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBwcml2YXRlIGV4dHJhY3RQaGFzZTRJbmZvKHJlc3BvbnNlOiBzdHJpbmcpOiBQYXJ0aWFsPENhbXBhaWduRGF0YT4ge1xuICAgIGNvbnN0IGRhdGE6IFBhcnRpYWw8Q2FtcGFpZ25EYXRhPiA9IHt9O1xuXG4gICAgLy8gRXh0cmFjdCBLUElzXG4gICAgY29uc3Qga3BpS2V5d29yZHMgPSBbXG4gICAgICAnZW5nYWdlbWVudCcsICdyZWFjaCcsICdpbXByZXNzaW9ucycsICd0cmFmZmljJywgJ2xlYWRzJywgXG4gICAgICAnY29udmVyc2lvbnMnLCAnc2FsZXMnLCAnZm9sbG93ZXJzJywgJ2JyYW5kIGF3YXJlbmVzcydcbiAgICBdO1xuXG4gICAgY29uc3Qga3Bpczogc3RyaW5nW10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IGtwaSBvZiBrcGlLZXl3b3Jkcykge1xuICAgICAgaWYgKHJlc3BvbnNlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoa3BpKSkge1xuICAgICAgICBrcGlzLnB1c2goa3BpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoa3Bpcy5sZW5ndGggPiAwKSB7XG4gICAgICBkYXRhLmtwaXMgPSBrcGlzO1xuICAgIH1cblxuICAgIC8vIEV4dHJhY3QgYnJhbmQgZ3VpZGVsaW5lcyBtZW50aW9uc1xuICAgIGlmIChyZXNwb25zZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdicmFuZCcpIHx8IHJlc3BvbnNlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2d1aWRlbGluZScpKSB7XG4gICAgICBkYXRhLmJyYW5kR3VpZGVsaW5lcyA9ICdCcmFuZCBndWlkZWxpbmVzIG1lbnRpb25lZCc7XG4gICAgfVxuXG4gICAgLy8gRXh0cmFjdCBjb21wZXRpdGl2ZSBjb250ZXh0XG4gICAgaWYgKHJlc3BvbnNlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2NvbXBldGl0b3InKSB8fCByZXNwb25zZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdjb21wZXRpdGlvbicpKSB7XG4gICAgICBkYXRhLmNvbXBldGl0aXZlQ29udGV4dCA9ICdDb21wZXRpdGl2ZSBjb250ZXh0IHByb3ZpZGVkJztcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIHByaXZhdGUgZXh0cmFjdENvcnJlY3Rpb25zKHJlc3BvbnNlOiBzdHJpbmcpOiBQYXJ0aWFsPENhbXBhaWduRGF0YT4ge1xuICAgIC8vIEFsbG93IHVzZXJzIHRvIG1ha2UgZmluYWwgY29ycmVjdGlvbnMgdG8gYW55IGZpZWxkXG4gICAgcmV0dXJuIHRoaXMuZXh0cmFjdEluaXRpYWxJbmZvKHJlc3BvbnNlKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlQ2FtcGFpZ25SZXBvcnQoZGF0YTogQ2FtcGFpZ25EYXRhKTogc3RyaW5nIHtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xuICAgIFxuICAgIHJldHVybiBgIyBNYXJrZXRpbmcgQ2FtcGFpZ24gUG9zc2liaWxpdGllcyBSZXBvcnRcblxuKkdlbmVyYXRlZCBvbiAke3RpbWVzdGFtcH0gYnkgRUFDIENNTyBBZ2VudCpcblxuIyMgRXhlY3V0aXZlIFN1bW1hcnlcblxuVGhpcyBjb21wcmVoZW5zaXZlIG1hcmtldGluZyBjYW1wYWlnbiBzdHJhdGVneSBvdXRsaW5lcyBhIG11bHRpLXBsYXRmb3JtIGFwcHJvYWNoIGRlc2lnbmVkIHRvIGFjaGlldmUgeW91ciBzcGVjaWZpZWQgb2JqZWN0aXZlcyB0aHJvdWdoIHRhcmdldGVkIGNvbnRlbnQgYW5kIHN0cmF0ZWdpYyBwbGF0Zm9ybSB1dGlsaXphdGlvbi5cblxuIyMgQ2FtcGFpZ24gT2JqZWN0aXZlc1xuXG4qKlByaW1hcnkgT2JqZWN0aXZlOioqICR7ZGF0YS5vYmplY3RpdmUgfHwgJ1RvIGJlIGRlZmluZWQnfVxuXG4qKlN1Y2Nlc3MgRGVmaW5pdGlvbjoqKiAke2RhdGEua3Bpcz8uam9pbignLCAnKSB8fCAnU3RhbmRhcmQgZW5nYWdlbWVudCBhbmQgY29udmVyc2lvbiBtZXRyaWNzJ31cblxuIyMgVGFyZ2V0IEF1ZGllbmNlXG5cbioqRGVtb2dyYXBoaWNzICYgQ2hhcmFjdGVyaXN0aWNzOioqICR7ZGF0YS50YXJnZXRBdWRpZW5jZSB8fCAnVGFyZ2V0IGF1ZGllbmNlIHRvIGJlIHJlZmluZWQnfVxuXG4qKktleSBQYWluIFBvaW50czoqKiBcbi0gTmVlZHMgZWZmaWNpZW50IHNvbHV0aW9ucyBmb3IgdGhlaXIgYnVzaW5lc3MgY2hhbGxlbmdlc1xuLSBWYWx1ZXMgYXV0aGVudGljLCBoZWxwZnVsIGNvbnRlbnQgb3ZlciBwcm9tb3Rpb25hbCBtZXNzYWdpbmdcbi0gQWN0aXZlIG9uIHByb2Zlc3Npb25hbCBhbmQgc29jaWFsIHBsYXRmb3Jtc1xuXG4jIyBNdWx0aS1QbGF0Zm9ybSBTdHJhdGVneVxuXG4ke3RoaXMuZ2VuZXJhdGVQbGF0Zm9ybVN0cmF0ZWdpZXMoZGF0YS5wbGF0Zm9ybXMgfHwgWydMaW5rZWRJbicsICdUd2l0dGVyL1gnXSl9XG5cbiMjIENvbnRlbnQgU3RyYXRlZ3kgJiBNZXNzYWdpbmdcblxuKipDb250ZW50IFR5cGVzOioqICR7dGhpcy5nZXRDb250ZW50VHlwZVJlY29tbWVuZGF0aW9ucyhkYXRhLmNvbnRlbnRUeXBlcyl9XG5cbioqQnJhbmQgVm9pY2U6KiogJHtkYXRhLmJyYW5kR3VpZGVsaW5lcyB8fCAnUHJvZmVzc2lvbmFsIHlldCBhcHByb2FjaGFibGUsIGZvY3VzaW5nIG9uIHZhbHVlIGRlbGl2ZXJ5J31cblxuKipLZXkgTWVzc2FnZXM6Kipcbi0gUG9zaXRpb24gYXMgaW5kdXN0cnkgZXhwZXJ0IGFuZCB0aG91Z2h0IGxlYWRlclxuLSBFbXBoYXNpemUgcHJhY3RpY2FsIHNvbHV0aW9ucyBhbmQgcmVhbCByZXN1bHRzXG4tIEJ1aWxkIHRydXN0IHRocm91Z2ggYXV0aGVudGljIGVuZ2FnZW1lbnRcblxuIyMgQ2FtcGFpZ24gVGltZWxpbmVcblxuKipEdXJhdGlvbjoqKiAke2RhdGEudGltZWxpbmU/LnN0YXJ0RGF0ZSB8fCAnVG8gYmUgZGV0ZXJtaW5lZCd9IC0gJHtkYXRhLnRpbWVsaW5lPy5lbmREYXRlIHx8ICdPbmdvaW5nJ31cblxuKipLZXkgTWlsZXN0b25lczoqKlxuLSBXZWVrIDEtMjogQ29udGVudCBmb3VuZGF0aW9uIGFuZCBpbml0aWFsIGVuZ2FnZW1lbnRcbi0gV2VlayAzLTQ6IENvbW11bml0eSBidWlsZGluZyBhbmQgcmVsYXRpb25zaGlwIGRldmVsb3BtZW50XG4tIE1vbnRoIDIrOiBDb252ZXJzaW9uIG9wdGltaXphdGlvbiBhbmQgc2NhbGluZ1xuXG4jIyBCdWRnZXQgQ29uc2lkZXJhdGlvbnNcblxuKipBbGxvY2F0aW9uOioqICR7ZGF0YS5idWRnZXQgfHwgJ0J1ZGdldCB0byBiZSBkZXRlcm1pbmVkIGJhc2VkIG9uIHBsYXRmb3JtIHBlcmZvcm1hbmNlJ31cblxuKipSZWNvbW1lbmRlZCBEaXN0cmlidXRpb246Kipcbi0gNjAlIENvbnRlbnQgY3JlYXRpb24gYW5kIG1hbmFnZW1lbnRcbi0gMzAlIFBhaWQgYWR2ZXJ0aXNpbmcgYW5kIHByb21vdGlvblxuLSAxMCUgQW5hbHl0aWNzIGFuZCBvcHRpbWl6YXRpb24gdG9vbHNcblxuIyMgS2V5IFBlcmZvcm1hbmNlIEluZGljYXRvcnMgKEtQSXMpXG5cbioqUHJpbWFyeSBNZXRyaWNzOioqXG4keyhkYXRhLmtwaXMgfHwgWydlbmdhZ2VtZW50IHJhdGUnLCAncmVhY2gnLCAnd2Vic2l0ZSB0cmFmZmljJ10pLm1hcChrcGkgPT4gYC0gJHtrcGkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBrcGkuc2xpY2UoMSl9YCkuam9pbignXFxuJyl9XG5cbioqUmVwb3J0aW5nIEZyZXF1ZW5jeToqKiBXZWVrbHkgcGVyZm9ybWFuY2UgcmV2aWV3cyB3aXRoIG1vbnRobHkgc3RyYXRlZ2ljIGFzc2Vzc21lbnRzXG5cbiMjIEltcGxlbWVudGF0aW9uIE5leHQgU3RlcHNcblxuMS4gKipDb250ZW50IENhbGVuZGFyIERldmVsb3BtZW50KipcbiAgIC0gQ3JlYXRlIDMwLWRheSBjb250ZW50IGNhbGVuZGFyIHdpdGggcGxhdGZvcm0tc3BlY2lmaWMgcG9zdHNcbiAgIC0gRXN0YWJsaXNoIGNvbnRlbnQgY3JlYXRpb24gd29ya2Zsb3cgYW5kIGFwcHJvdmFsIHByb2Nlc3NcblxuMi4gKipQbGF0Zm9ybSBTZXR1cCAmIE9wdGltaXphdGlvbioqXG4gICAtIE9wdGltaXplIHByb2ZpbGVzIGFjcm9zcyBhbGwgc2VsZWN0ZWQgcGxhdGZvcm1zXG4gICAtIEltcGxlbWVudCB0cmFja2luZyBwaXhlbHMgYW5kIGFuYWx5dGljc1xuXG4zLiAqKkNvbW11bml0eSBFbmdhZ2VtZW50IFN0cmF0ZWd5KipcbiAgIC0gSWRlbnRpZnkga2V5IGluZmx1ZW5jZXJzIGFuZCB0aG91Z2h0IGxlYWRlcnNcbiAgIC0gRGV2ZWxvcCBlbmdhZ2VtZW50IGd1aWRlbGluZXMgYW5kIHJlc3BvbnNlIHRlbXBsYXRlc1xuXG40LiAqKlBlcmZvcm1hbmNlIE1vbml0b3JpbmcqKlxuICAgLSBTZXQgdXAgYW5hbHl0aWNzIGRhc2hib2FyZHNcbiAgIC0gRXN0YWJsaXNoIHdlZWtseSByZXZpZXcgYW5kIG9wdGltaXphdGlvbiBwcm9jZXNzXG5cbiMjIFJpc2sgTWl0aWdhdGlvblxuXG4tICoqQ29udGVudCBDb25zaXN0ZW5jeToqKiBNYWludGFpbiBicmFuZCB2b2ljZSBhY3Jvc3MgYWxsIHBsYXRmb3Jtc1xuLSAqKlJlc291cmNlIE1hbmFnZW1lbnQ6KiogRW5zdXJlIHN1c3RhaW5hYmxlIGNvbnRlbnQgY3JlYXRpb24gd29ya2Zsb3dcbi0gKipQbGF0Zm9ybSBDaGFuZ2VzOioqIFN0YXkgdXBkYXRlZCBvbiBhbGdvcml0aG0gYW5kIGZlYXR1cmUgY2hhbmdlc1xuLSAqKkNvbXBldGl0aXZlIFJlc3BvbnNlOioqIE1vbml0b3IgY29tcGV0aXRvciBhY3Rpdml0aWVzIGFuZCBkaWZmZXJlbnRpYXRlIGFjY29yZGluZ2x5XG5cbi0tLVxuXG4qVGhpcyBjYW1wYWlnbiBzdHJhdGVneSBwcm92aWRlcyBhIGZvdW5kYXRpb24gZm9yIHN1Y2Nlc3NmdWwgbXVsdGktcGxhdGZvcm0gbWFya2V0aW5nLiBSZWd1bGFyIHJldmlldyBhbmQgb3B0aW1pemF0aW9uIGJhc2VkIG9uIHBlcmZvcm1hbmNlIGRhdGEgd2lsbCBlbnN1cmUgY29udGludWVkIHN1Y2Nlc3MgYW5kIFJPSSBpbXByb3ZlbWVudC4qXG5cbiMjIEFkZGl0aW9uYWwgUmVzb3VyY2VzXG5cbkZvciBpbXBsZW1lbnRhdGlvbiBzdXBwb3J0IGFuZCBvbmdvaW5nIG9wdGltaXphdGlvbiwgY29uc2lkZXI6XG4tIFBsYXRmb3JtLXNwZWNpZmljIGNvbnRlbnQgdGVtcGxhdGVzXG4tIEF1dG9tYXRpb24gdG9vbHMgZm9yIHBvc3RpbmcgYW5kIGVuZ2FnZW1lbnRcbi0gQW5hbHl0aWNzIHRyYWluaW5nIGZvciB0ZWFtIG1lbWJlcnNcbi0gQ29tcGV0aXRpdmUgYW5hbHlzaXMgYW5kIG1vbml0b3JpbmcgdG9vbHNcblxuLS0tXG5cbioqR2VuZXJhdGVkIGJ5IEVBQyBDTU8gQWdlbnQgLSBZb3VyIFN0cmF0ZWdpYyBNYXJrZXRpbmcgUGFydG5lcioqIPCfjq9gO1xuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZVBsYXRmb3JtU3RyYXRlZ2llcyhwbGF0Zm9ybXM6IHN0cmluZ1tdKTogc3RyaW5nIHtcbiAgICBjb25zdCBzdHJhdGVnaWVzOiBSZWNvcmQ8c3RyaW5nLCB7XG4gICAgICBjb250ZW50OiBzdHJpbmc7XG4gICAgICBjYWRlbmNlOiBzdHJpbmc7XG4gICAgICByZWNvbW1lbmRhdGlvbnM6IHN0cmluZztcbiAgICB9PiA9IHtcbiAgICAgICdMaW5rZWRJbic6IHtcbiAgICAgICAgY29udGVudDogJ1Byb2Zlc3Npb25hbCBpbnNpZ2h0cywgaW5kdXN0cnkgYW5hbHlzaXMsIHRob3VnaHQgbGVhZGVyc2hpcCBhcnRpY2xlcywgY29tcGFueSB1cGRhdGVzLCBlbXBsb3llZSBzcG90bGlnaHRzJyxcbiAgICAgICAgY2FkZW5jZTogJzMtNCBwb3N0cyBwZXIgd2VlaycsXG4gICAgICAgIHJlY29tbWVuZGF0aW9uczogJ0ZvY3VzIG9uIGJ1c2luZXNzIHZhbHVlLCBlbmdhZ2UgaW4gcmVsZXZhbnQgZ3JvdXBzLCBzaGFyZSBpbmR1c3RyeSBleHBlcnRpc2UsIHVzZSBMaW5rZWRJbiBuYXRpdmUgdmlkZW8nXG4gICAgICB9LFxuICAgICAgJ0ZhY2Vib29rJzoge1xuICAgICAgICBjb250ZW50OiAnTG9uZy1mb3JtIGNvbnRlbnQsIGNvbW11bml0eSBkaXNjdXNzaW9ucywgYmVoaW5kLXRoZS1zY2VuZXMgY29udGVudCwgY3VzdG9tZXIgc3RvcmllcywgbGl2ZSBRJkEgc2Vzc2lvbnMnLFxuICAgICAgICBjYWRlbmNlOiAnNC01IHBvc3RzIHBlciB3ZWVrJyxcbiAgICAgICAgcmVjb21tZW5kYXRpb25zOiAnQnVpbGQgY29tbXVuaXR5IHRocm91Z2ggRmFjZWJvb2sgR3JvdXBzLCB1c2UgRmFjZWJvb2sgTGl2ZSBmb3IgcmVhbC10aW1lIGVuZ2FnZW1lbnQsIHNoYXJlIGN1c3RvbWVyIHN1Y2Nlc3Mgc3RvcmllcydcbiAgICAgIH0sXG4gICAgICAnSW5zdGFncmFtJzoge1xuICAgICAgICBjb250ZW50OiAnSGlnaC1xdWFsaXR5IHZpc3VhbHMsIFN0b3JpZXMsIFJlZWxzLCBjYXJvdXNlbCBwb3N0cywgdXNlci1nZW5lcmF0ZWQgY29udGVudCwgYmVoaW5kLXRoZS1zY2VuZXMgY29udGVudCcsXG4gICAgICAgIGNhZGVuY2U6ICdEYWlseSBTdG9yaWVzLCA0LTUgZmVlZCBwb3N0cyBwZXIgd2VlaycsXG4gICAgICAgIHJlY29tbWVuZGF0aW9uczogJ1VzZSByZWxldmFudCBoYXNodGFncywgY29sbGFib3JhdGUgd2l0aCBtaWNyby1pbmZsdWVuY2VycywgbGV2ZXJhZ2UgSW5zdGFncmFtIFNob3BwaW5nIGZlYXR1cmVzLCBjcmVhdGUgZW5nYWdpbmcgUmVlbHMnXG4gICAgICB9LFxuICAgICAgJ1R3aXR0ZXIvWCc6IHtcbiAgICAgICAgY29udGVudDogJ1JlYWwtdGltZSB1cGRhdGVzLCBpbmR1c3RyeSBjb21tZW50YXJ5LCBxdWljayB0aXBzLCB0aHJlYWQgZGlzY3Vzc2lvbnMsIGVuZ2FnZW1lbnQgd2l0aCB0cmVuZGluZyB0b3BpY3MnLFxuICAgICAgICBjYWRlbmNlOiAnTXVsdGlwbGUgcG9zdHMgcGVyIGRheScsXG4gICAgICAgIHJlY29tbWVuZGF0aW9uczogJ0VuZ2FnZSBpbiBUd2l0dGVyIGNoYXRzLCB1c2UgcmVsZXZhbnQgaGFzaHRhZ3MsIHNoYXJlIHF1aWNrIGluc2lnaHRzLCBwYXJ0aWNpcGF0ZSBpbiB0cmVuZGluZyBjb252ZXJzYXRpb25zJ1xuICAgICAgfSxcbiAgICAgICdUaWtUb2snOiB7XG4gICAgICAgIGNvbnRlbnQ6ICdTaG9ydC1mb3JtIGVudGVydGFpbmluZyB2aWRlb3MsIGVkdWNhdGlvbmFsIGNvbnRlbnQsIHRyZW5kaW5nIGNoYWxsZW5nZXMsIGJlaGluZC10aGUtc2NlbmVzIGdsaW1wc2VzJyxcbiAgICAgICAgY2FkZW5jZTogJ0RhaWx5IHBvc3RzJyxcbiAgICAgICAgcmVjb21tZW5kYXRpb25zOiAnU3RheSBjdXJyZW50IHdpdGggdHJlbmRzLCB1c2UgcG9wdWxhciBzb3VuZHMsIGNyZWF0ZSBlZHVjYXRpb25hbCBzZXJpZXMsIGNvbGxhYm9yYXRlIHdpdGggY3JlYXRvcnMnXG4gICAgICB9LFxuICAgICAgJ1JlZGRpdCc6IHtcbiAgICAgICAgY29udGVudDogJ1ZhbHVhYmxlIGRpc2N1c3Npb25zLCBBTUFzLCBoZWxwZnVsIHJlc291cmNlcywgYXV0aGVudGljIGNvbW11bml0eSBwYXJ0aWNpcGF0aW9uJyxcbiAgICAgICAgY2FkZW5jZTogJzItMyBwb3N0cyBwZXIgd2VlaycsXG4gICAgICAgIHJlY29tbWVuZGF0aW9uczogJ1VuZGVyc3RhbmQgc3VicmVkZGl0IHJ1bGVzLCBwcm92aWRlIGdlbnVpbmUgdmFsdWUsIGF2b2lkIG92ZXItcHJvbW90aW9uLCBidWlsZCBjb21tdW5pdHkgcmVsYXRpb25zaGlwcydcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHBsYXRmb3Jtcy5tYXAocGxhdGZvcm0gPT4ge1xuICAgICAgY29uc3Qgc3RyYXRlZ3kgPSBzdHJhdGVnaWVzW3BsYXRmb3JtXTtcbiAgICAgIGlmICghc3RyYXRlZ3kpIHtcbiAgICAgICAgcmV0dXJuIGAjIyMgJHtwbGF0Zm9ybX1cXG4qUGxhdGZvcm0gc3RyYXRlZ3kgdG8gYmUgZGV2ZWxvcGVkKlxcbmA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBgIyMjICR7cGxhdGZvcm19XG5cbioqQ29udGVudCBUeXBlIFJlY29tbWVuZGF0aW9uczoqKiAke3N0cmF0ZWd5LmNvbnRlbnR9XG5cbioqUG9zdGluZyBDYWRlbmNlOioqICR7c3RyYXRlZ3kuY2FkZW5jZX1cblxuKipTcGVjaWZpYyBSZWNvbW1lbmRhdGlvbnM6KiogJHtzdHJhdGVneS5yZWNvbW1lbmRhdGlvbnN9XG5cbmA7XG4gICAgfSkuam9pbignXFxuJyk7XG4gIH1cblxuICBwcml2YXRlIGdldENvbnRlbnRUeXBlUmVjb21tZW5kYXRpb25zKGNvbnRlbnRUeXBlcz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz4pOiBzdHJpbmcge1xuICAgIGlmICghY29udGVudFR5cGVzIHx8IE9iamVjdC5rZXlzKGNvbnRlbnRUeXBlcykubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gJ01peCBvZiB2aXN1YWwgYW5kIHRleHQgY29udGVudCBvcHRpbWl6ZWQgZm9yIGVhY2ggcGxhdGZvcm0nO1xuICAgIH1cblxuICAgIGNvbnN0IHR5cGUgPSBjb250ZW50VHlwZXMucHJlZmVycmVkIHx8ICdtaXgnO1xuICAgIGNvbnN0IHJlY29tbWVuZGF0aW9uczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgICd2aWRlbyc6ICdGb2N1cyBvbiBzaG9ydC1mb3JtIHZpZGVvcywgdHV0b3JpYWxzLCBiZWhpbmQtdGhlLXNjZW5lcyBjb250ZW50LCBhbmQgbGl2ZSBzdHJlYW1zJyxcbiAgICAgICdpbWFnZXMnOiAnSGlnaC1xdWFsaXR5IGdyYXBoaWNzLCBpbmZvZ3JhcGhpY3MsIGNhcm91c2VsIHBvc3RzLCBhbmQgdmlzdWFsIHN0b3J5dGVsbGluZycsXG4gICAgICAndGV4dCc6ICdJbi1kZXB0aCBhcnRpY2xlcywgdGhvdWdodCBsZWFkZXJzaGlwIHBvc3RzLCBpbmR1c3RyeSBpbnNpZ2h0cywgYW5kIGRldGFpbGVkIGd1aWRlcycsXG4gICAgICAnbWl4JzogJ0JhbGFuY2VkIGNvbnRlbnQgYXBwcm9hY2ggd2l0aCBwbGF0Zm9ybS1zcGVjaWZpYyBvcHRpbWl6YXRpb24nXG4gICAgfTtcblxuICAgIHJldHVybiByZWNvbW1lbmRhdGlvbnNbdHlwZV0gfHwgcmVjb21tZW5kYXRpb25zWydtaXgnXTtcbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVSZXBvcnRGaWxlTmFtZSgpOiBzdHJpbmcge1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xuICAgIHJldHVybiBgbWFya2V0aW5nLWNhbXBhaWduLXN0cmF0ZWd5LSR7dGltZXN0YW1wfS5tZGA7XG4gIH1cbn1cblxuLy8gRXhwb3J0IHNpbmdsZXRvbiBpbnN0YW5jZVxuZXhwb3J0IGNvbnN0IGNtb0FnZW50ID0gbmV3IENNT0FnZW50KCk7XG4iXSwibmFtZXMiOlsiQmFzZUFnZW50IiwiQ01PQWdlbnQiLCJleGVjdXRlIiwidG9vbCIsImlucHV0IiwibXV0YXRpb25zIiwic2Vzc2lvbklkIiwiY29uc29sZSIsImxvZyIsImNsZWFuSW5wdXQiLCJyZXBsYWNlIiwidHJpbSIsImdldFdlbGNvbWVNZXNzYWdlIiwiY3VycmVudFNlc3Npb25JZCIsImNhbXBhaWduU3RhdGUiLCJoYXMiLCJjb250aW51ZUNvbnZlcnNhdGlvbiIsInN0YXJ0TmV3Q29udmVyc2F0aW9uIiwiZXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJzZXQiLCJkYXRhIiwicGhhc2UiLCJyZXNwb25zZXMiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93IiwiYXNrUGhhc2UxUXVlc3Rpb25zIiwic3RhdGUiLCJnZXQiLCJkZWxldGUiLCJnZXRUaW1lb3V0TWVzc2FnZSIsInB1c2giLCJwcm9jZXNzUGhhc2UxUmVzcG9uc2UiLCJwcm9jZXNzUGhhc2UyUmVzcG9uc2UiLCJwcm9jZXNzUGhhc2UzUmVzcG9uc2UiLCJwcm9jZXNzUGhhc2U0UmVzcG9uc2UiLCJwcm9jZXNzUGhhc2U1UmVzcG9uc2UiLCJnZW5lcmF0ZUZpbmFsUmVwb3J0IiwiaW5pdGlhbElucHV0IiwiZXh0cmFjdGVkSW5mbyIsImV4dHJhY3RJbml0aWFsSW5mbyIsInJlc3BvbnNlIiwiaW5mbyIsImV4dHJhY3RQaGFzZTFJbmZvIiwiZXh0cmFjdFBoYXNlMkluZm8iLCJleHRyYWN0UGhhc2UzSW5mbyIsImV4dHJhY3RQaGFzZTRJbmZvIiwib2JqZWN0aXZlIiwidGFyZ2V0QXVkaWVuY2UiLCJwbGF0Zm9ybXMiLCJqb2luIiwidGltZWxpbmUiLCJzdGFydERhdGUiLCJlbmREYXRlIiwiYnVkZ2V0IiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsImNvcnJlY3Rpb25zIiwiZXh0cmFjdENvcnJlY3Rpb25zIiwicmVwb3J0Q29udGVudCIsImNyZWF0ZUNhbXBhaWduUmVwb3J0IiwiZmlsZU5hbWUiLCJnZW5lcmF0ZVJlcG9ydEZpbGVOYW1lIiwiY3JlYXRlSW5zdHJ1Y3Rpb25GaWxlIiwibmFtZSIsImNvbnRlbnQiLCJ0b3BpYyIsIm9iamVjdGl2ZUtleXdvcmRzIiwia2V5d29yZHMiLCJPYmplY3QiLCJlbnRyaWVzIiwic29tZSIsImtleXdvcmQiLCJwbGF0Zm9ybUtleXdvcmRzIiwicGxhdGZvcm0iLCJsZW5ndGgiLCJhdWRpZW5jZUtleXdvcmRzIiwiY29udGVudFR5cGVzIiwiY29udGVudEtleXdvcmRzIiwidHlwZSIsImtleXMiLCJ0aW1lS2V5d29yZHMiLCJidWRnZXRNYXRjaCIsIm1hdGNoIiwia3BpS2V5d29yZHMiLCJrcGlzIiwia3BpIiwiYnJhbmRHdWlkZWxpbmVzIiwiY29tcGV0aXRpdmVDb250ZXh0IiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwiZ2VuZXJhdGVQbGF0Zm9ybVN0cmF0ZWdpZXMiLCJnZXRDb250ZW50VHlwZVJlY29tbWVuZGF0aW9ucyIsIm1hcCIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJzdHJhdGVnaWVzIiwiY2FkZW5jZSIsInJlY29tbWVuZGF0aW9ucyIsInN0cmF0ZWd5IiwicHJlZmVycmVkIiwidG9JU09TdHJpbmciLCJzcGxpdCIsImlkIiwiZGVzY3JpcHRpb24iLCJpY29uIiwidG9vbHMiLCJjb21tYW5kIiwicGFyYW1ldGVycyIsInJlcXVpcmVkIiwiTWFwIiwiY21vQWdlbnQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./store/agents/cmoAgent.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./store/agents/registry.ts":
/*!**********************************!*\
  !*** ./store/agents/registry.ts ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AgentRegistry: () => (/* binding */ AgentRegistry),\n/* harmony export */   agentRegistry: () => (/* binding */ agentRegistry),\n/* harmony export */   executeCMOAgent: () => (/* binding */ executeCMOAgent),\n/* harmony export */   executeInstructionsAgent: () => (/* binding */ executeInstructionsAgent),\n/* harmony export */   executeProjectCreatorAgent: () => (/* binding */ executeProjectCreatorAgent),\n/* harmony export */   executeTwitterPostAgent: () => (/* binding */ executeTwitterPostAgent),\n/* harmony export */   getAvailableAgents: () => (/* binding */ getAvailableAgents),\n/* harmony export */   getAvailableCommands: () => (/* binding */ getAvailableCommands)\n/* harmony export */ });\n/* harmony import */ var _cmoAgent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cmoAgent */ \"(app-pages-browser)/./store/agents/cmoAgent.ts\");\n/* harmony import */ var _directorAgent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./directorAgent */ \"(app-pages-browser)/./store/agents/directorAgent.ts\");\n/* harmony import */ var _editorAgent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editorAgent */ \"(app-pages-browser)/./store/agents/editorAgent.ts\");\n/* harmony import */ var _fileCreatorAgent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fileCreatorAgent */ \"(app-pages-browser)/./store/agents/fileCreatorAgent.ts\");\n/* harmony import */ var _instructionsAgent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./instructionsAgent */ \"(app-pages-browser)/./store/agents/instructionsAgent.ts\");\n/* harmony import */ var _projectCreatorAgent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./projectCreatorAgent */ \"(app-pages-browser)/./store/agents/projectCreatorAgent.ts\");\n/* harmony import */ var _schedulingAgent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./schedulingAgent */ \"(app-pages-browser)/./store/agents/schedulingAgent.ts\");\n// Agent Registry\n// /Users/matthewsimon/Projects/eac/eac/store/agents/registry.ts\n\n\n\n\n\n\n\n/**\n * Central registry for all available agents\n */ class AgentRegistry {\n    /**\n   * Register a new agent\n   */ registerAgent(agent) {\n        this.agents.set(agent.id, agent);\n    }\n    /**\n   * Get an agent by ID\n   */ getAgent(id) {\n        return this.agents.get(id);\n    }\n    /**\n   * Get all available agents\n   */ getAllAgents() {\n        return Array.from(this.agents.values());\n    }\n    /**\n   * Get all agent tools (flattened)\n   */ getAllTools() {\n        const tools = [];\n        for (const agent of this.agents.values()){\n            for (const tool of agent.tools){\n                tools.push({\n                    agent,\n                    tool\n                });\n            }\n        }\n        return tools;\n    }\n    /**\n   * Find agent by tool command\n   */ findAgentByCommand(command) {\n        // Normalize legacy aliases first\n        const normalized = this.legacyCommandAliases[command] || command;\n        for (const agent of this.agents.values()){\n            const tool = agent.tools.find((t)=>t.command === normalized);\n            if (tool) return {\n                agent,\n                tool\n            };\n        }\n        return undefined;\n    }\n    /**\n   * Execute an agent tool\n   */ async executeAgent(agentId, toolId, input, convexMutations, sessionId) {\n        const agent = this.getAgent(agentId);\n        if (!agent) {\n            throw new Error(\"Agent not found: \".concat(agentId));\n        }\n        const tool = agent.tools.find((t)=>t.id === toolId);\n        if (!tool) {\n            throw new Error(\"Tool not found: \".concat(toolId, \" for agent \").concat(agentId));\n        }\n        return await agent.execute(tool, input, convexMutations, sessionId);\n    }\n    /**\n   * Execute agent by command (legacy support)\n   */ async executeByCommand(command, input, convexMutations) {\n        const result = this.findAgentByCommand(command);\n        if (!result) {\n            throw new Error(\"No agent found for command: \".concat(command));\n        }\n        return await result.agent.execute(result.tool, input, convexMutations);\n    }\n    constructor(){\n        this.agents = new Map();\n        // Legacy command aliases (to be removed after deprecation window)\n        this.legacyCommandAliases = {\n            'create': '/create-project',\n            'create-project': '/create-project',\n            'create-file': '/create-file'\n        };\n        console.log('ðŸ¤– Agent Registry: Initializing...');\n        this.registerAgent(_instructionsAgent__WEBPACK_IMPORTED_MODULE_4__.instructionsAgent);\n        console.log('ðŸ¤– Registered:', _instructionsAgent__WEBPACK_IMPORTED_MODULE_4__.instructionsAgent.id, _instructionsAgent__WEBPACK_IMPORTED_MODULE_4__.instructionsAgent.name);\n        this.registerAgent(_schedulingAgent__WEBPACK_IMPORTED_MODULE_6__.schedulingAgent);\n        console.log('ðŸ¤– Registered:', _schedulingAgent__WEBPACK_IMPORTED_MODULE_6__.schedulingAgent.id, _schedulingAgent__WEBPACK_IMPORTED_MODULE_6__.schedulingAgent.name);\n        this.registerAgent(_projectCreatorAgent__WEBPACK_IMPORTED_MODULE_5__.projectCreatorAgent);\n        console.log('ðŸ¤– Registered:', _projectCreatorAgent__WEBPACK_IMPORTED_MODULE_5__.projectCreatorAgent.id, _projectCreatorAgent__WEBPACK_IMPORTED_MODULE_5__.projectCreatorAgent.name);\n        this.registerAgent(_fileCreatorAgent__WEBPACK_IMPORTED_MODULE_3__.fileCreatorAgent);\n        console.log('ðŸ¤– Registered:', _fileCreatorAgent__WEBPACK_IMPORTED_MODULE_3__.fileCreatorAgent.id, _fileCreatorAgent__WEBPACK_IMPORTED_MODULE_3__.fileCreatorAgent.name);\n        this.registerAgent(_editorAgent__WEBPACK_IMPORTED_MODULE_2__.editorAgent);\n        console.log('ðŸ¤– Registered:', _editorAgent__WEBPACK_IMPORTED_MODULE_2__.editorAgent.id, _editorAgent__WEBPACK_IMPORTED_MODULE_2__.editorAgent.name);\n        this.registerAgent(_cmoAgent__WEBPACK_IMPORTED_MODULE_0__.cmoAgent);\n        console.log('ðŸ¤– Registered:', _cmoAgent__WEBPACK_IMPORTED_MODULE_0__.cmoAgent.id, _cmoAgent__WEBPACK_IMPORTED_MODULE_0__.cmoAgent.name);\n        this.registerAgent(_directorAgent__WEBPACK_IMPORTED_MODULE_1__.directorAgent);\n        console.log('ðŸ¤– Registered:', _directorAgent__WEBPACK_IMPORTED_MODULE_1__.directorAgent.id, _directorAgent__WEBPACK_IMPORTED_MODULE_1__.directorAgent.name);\n        console.log('ðŸ¤– Total agents registered:', this.agents.size);\n    }\n}\n/**\n * Singleton agent registry instance\n */ const agentRegistry = new AgentRegistry();\n/**\n * Legacy support functions for backward compatibility\n */ async function executeInstructionsAgent(input, convexMutations) {\n    return await agentRegistry.executeAgent('instructions', 'generate-instructions', input, convexMutations);\n}\nasync function executeTwitterPostAgent(input, convexMutations) {\n    return await agentRegistry.executeAgent('twitter-post', 'create-twitter-post', input, convexMutations);\n}\n/**\n * Get all available agents for UI display\n */ function getAvailableAgents() {\n    return agentRegistry.getAllAgents().map((agent)=>({\n            id: agent.id,\n            name: agent.name,\n            description: agent.description,\n            icon: agent.icon,\n            isActive: false,\n            tools: agent.tools.map((tool)=>({\n                    id: tool.id,\n                    name: tool.name,\n                    command: tool.command,\n                    description: tool.description,\n                    parameters: tool.parameters\n                }))\n        }));\n}\n/**\n * Get available commands for autocomplete\n */ function getAvailableCommands() {\n    const commands = [];\n    for (const agent of agentRegistry.getAllAgents()){\n        for (const tool of agent.tools){\n            commands.push(tool.command);\n        }\n    }\n    return commands;\n}\n/**\n * Legacy support function for project creator agent\n */ async function executeProjectCreatorAgent(input, convexMutations) {\n    return await agentRegistry.executeAgent('project-creator', 'create-project-with-files', input, convexMutations);\n}\n/**\n * Legacy support function for CMO agent\n */ async function executeCMOAgent(input, convexMutations, sessionId) {\n    return await agentRegistry.executeAgent('cmo', 'define-campaign', input, convexMutations, sessionId);\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3N0b3JlL2FnZW50cy9yZWdpc3RyeS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxpQkFBaUI7QUFDakIsZ0VBQWdFO0FBRzFCO0FBQ1U7QUFDSjtBQUNVO0FBQ0U7QUFDSTtBQUNSO0FBRXBEOztDQUVDLEdBQ00sTUFBTU87SUE2Qlg7O0dBRUMsR0FDREMsY0FBY0MsS0FBZ0IsRUFBUTtRQUNwQyxJQUFJLENBQUNDLE1BQU0sQ0FBQ0MsR0FBRyxDQUFDRixNQUFNRyxFQUFFLEVBQUVIO0lBQzVCO0lBRUE7O0dBRUMsR0FDREksU0FBU0QsRUFBVSxFQUF5QjtRQUMxQyxPQUFPLElBQUksQ0FBQ0YsTUFBTSxDQUFDSSxHQUFHLENBQUNGO0lBQ3pCO0lBRUE7O0dBRUMsR0FDREcsZUFBNEI7UUFDMUIsT0FBT0MsTUFBTUMsSUFBSSxDQUFDLElBQUksQ0FBQ1AsTUFBTSxDQUFDUSxNQUFNO0lBQ3RDO0lBRUE7O0dBRUMsR0FDREMsY0FBYztRQUNaLE1BQU1DLFFBQWdELEVBQUU7UUFFeEQsS0FBSyxNQUFNWCxTQUFTLElBQUksQ0FBQ0MsTUFBTSxDQUFDUSxNQUFNLEdBQUk7WUFDeEMsS0FBSyxNQUFNRyxRQUFRWixNQUFNVyxLQUFLLENBQUU7Z0JBQzlCQSxNQUFNRSxJQUFJLENBQUM7b0JBQUViO29CQUFPWTtnQkFBSztZQUMzQjtRQUNGO1FBRUEsT0FBT0Q7SUFDVDtJQUVBOztHQUVDLEdBQ0RHLG1CQUFtQkMsT0FBZSxFQUErQztRQUMvRSxpQ0FBaUM7UUFDakMsTUFBTUMsYUFBYSxJQUFJLENBQUNDLG9CQUFvQixDQUFDRixRQUFRLElBQUlBO1FBQ3pELEtBQUssTUFBTWYsU0FBUyxJQUFJLENBQUNDLE1BQU0sQ0FBQ1EsTUFBTSxHQUFJO1lBQ3hDLE1BQU1HLE9BQU9aLE1BQU1XLEtBQUssQ0FBQ08sSUFBSSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFSixPQUFPLEtBQUtDO1lBQ2pELElBQUlKLE1B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QUFjaEIsWUFBWSxDQUNyQyxPQUNBLG1CQUNBRyxPQUNBQyxpQkFDQUM7QUFFSiIsInNvdXJjZXMiOlsiL1VzZXJzL21hdHRoZXdzaW1vbi9Qcm9qZWN0cy9lYWMvZWFjL3N0b3JlL2FnZW50cy9yZWdpc3RyeS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBBZ2VudCBSZWdpc3RyeVxuLy8gL1VzZXJzL21hdHRoZXdzaW1vbi9Qcm9qZWN0cy9lYWMvZWFjL3N0b3JlL2FnZW50cy9yZWdpc3RyeS50c1xuXG5pbXBvcnQgeyBCYXNlQWdlbnQgfSBmcm9tICcuL2Jhc2UnO1xuaW1wb3J0IHsgY21vQWdlbnQgfSBmcm9tICcuL2Ntb0FnZW50JztcbmltcG9ydCB7IGRpcmVjdG9yQWdlbnQgfSBmcm9tICcuL2RpcmVjdG9yQWdlbnQnO1xuaW1wb3J0IHsgZWRpdG9yQWdlbnQgfSBmcm9tICcuL2VkaXRvckFnZW50JztcbmltcG9ydCB7IGZpbGVDcmVhdG9yQWdlbnQgfSBmcm9tICcuL2ZpbGVDcmVhdG9yQWdlbnQnO1xuaW1wb3J0IHsgaW5zdHJ1Y3Rpb25zQWdlbnQgfSBmcm9tICcuL2luc3RydWN0aW9uc0FnZW50JztcbmltcG9ydCB7IHByb2plY3RDcmVhdG9yQWdlbnQgfSBmcm9tICcuL3Byb2plY3RDcmVhdG9yQWdlbnQnO1xuaW1wb3J0IHsgc2NoZWR1bGluZ0FnZW50IH0gZnJvbSAnLi9zY2hlZHVsaW5nQWdlbnQnO1xuXG4vKipcbiAqIENlbnRyYWwgcmVnaXN0cnkgZm9yIGFsbCBhdmFpbGFibGUgYWdlbnRzXG4gKi9cbmV4cG9ydCBjbGFzcyBBZ2VudFJlZ2lzdHJ5IHtcbiAgcHJpdmF0ZSBhZ2VudHM6IE1hcDxzdHJpbmcsIEJhc2VBZ2VudD4gPSBuZXcgTWFwKCk7XG4gIC8vIExlZ2FjeSBjb21tYW5kIGFsaWFzZXMgKHRvIGJlIHJlbW92ZWQgYWZ0ZXIgZGVwcmVjYXRpb24gd2luZG93KVxuICBwcml2YXRlIGxlZ2FjeUNvbW1hbmRBbGlhc2VzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICdjcmVhdGUnOiAnL2NyZWF0ZS1wcm9qZWN0JyxcbiAgICAnY3JlYXRlLXByb2plY3QnOiAnL2NyZWF0ZS1wcm9qZWN0JywgLy8gbm9ybWFsaXplIGlmIGFscmVhZHkgcGFydGlhbGx5IG1pZ3JhdGVkXG4gICAgJ2NyZWF0ZS1maWxlJzogJy9jcmVhdGUtZmlsZSdcbiAgfTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zb2xlLmxvZygn8J+kliBBZ2VudCBSZWdpc3RyeTogSW5pdGlhbGl6aW5nLi4uJyk7XG4gICAgdGhpcy5yZWdpc3RlckFnZW50KGluc3RydWN0aW9uc0FnZW50KTtcbiAgICBjb25zb2xlLmxvZygn8J+kliBSZWdpc3RlcmVkOicsIGluc3RydWN0aW9uc0FnZW50LmlkLCBpbnN0cnVjdGlvbnNBZ2VudC5uYW1lKTtcbiAgICB0aGlzLnJlZ2lzdGVyQWdlbnQoc2NoZWR1bGluZ0FnZW50KTtcbiAgICBjb25zb2xlLmxvZygn8J+kliBSZWdpc3RlcmVkOicsIHNjaGVkdWxpbmdBZ2VudC5pZCwgc2NoZWR1bGluZ0FnZW50Lm5hbWUpO1xuICAgIHRoaXMucmVnaXN0ZXJBZ2VudChwcm9qZWN0Q3JlYXRvckFnZW50KTtcbiAgICBjb25zb2xlLmxvZygn8J+kliBSZWdpc3RlcmVkOicsIHByb2plY3RDcmVhdG9yQWdlbnQuaWQsIHByb2plY3RDcmVhdG9yQWdlbnQubmFtZSk7XG4gICAgdGhpcy5yZWdpc3RlckFnZW50KGZpbGVDcmVhdG9yQWdlbnQpO1xuICAgIGNvbnNvbGUubG9nKCfwn6SWIFJlZ2lzdGVyZWQ6JywgZmlsZUNyZWF0b3JBZ2VudC5pZCwgZmlsZUNyZWF0b3JBZ2VudC5uYW1lKTtcbiAgICB0aGlzLnJlZ2lzdGVyQWdlbnQoZWRpdG9yQWdlbnQpO1xuICAgIGNvbnNvbGUubG9nKCfwn6SWIFJlZ2lzdGVyZWQ6JywgZWRpdG9yQWdlbnQuaWQsIGVkaXRvckFnZW50Lm5hbWUpO1xuICAgIHRoaXMucmVnaXN0ZXJBZ2VudChjbW9BZ2VudCk7XG4gICAgY29uc29sZS5sb2coJ/CfpJYgUmVnaXN0ZXJlZDonLCBjbW9BZ2VudC5pZCwgY21vQWdlbnQubmFtZSk7XG4gICAgdGhpcy5yZWdpc3RlckFnZW50KGRpcmVjdG9yQWdlbnQpO1xuICAgIGNvbnNvbGUubG9nKCfwn6SWIFJlZ2lzdGVyZWQ6JywgZGlyZWN0b3JBZ2VudC5pZCwgZGlyZWN0b3JBZ2VudC5uYW1lKTtcbiAgICBjb25zb2xlLmxvZygn8J+kliBUb3RhbCBhZ2VudHMgcmVnaXN0ZXJlZDonLCB0aGlzLmFnZW50cy5zaXplKTtcbiAgfVxuICBcblxuICAvKipcbiAgICogUmVnaXN0ZXIgYSBuZXcgYWdlbnRcbiAgICovXG4gIHJlZ2lzdGVyQWdlbnQoYWdlbnQ6IEJhc2VBZ2VudCk6IHZvaWQge1xuICAgIHRoaXMuYWdlbnRzLnNldChhZ2VudC5pZCwgYWdlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbiBhZ2VudCBieSBJRFxuICAgKi9cbiAgZ2V0QWdlbnQoaWQ6IHN0cmluZyk6IEJhc2VBZ2VudCB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuYWdlbnRzLmdldChpZCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBhdmFpbGFibGUgYWdlbnRzXG4gICAqL1xuICBnZXRBbGxBZ2VudHMoKTogQmFzZUFnZW50W10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuYWdlbnRzLnZhbHVlcygpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGFnZW50IHRvb2xzIChmbGF0dGVuZWQpXG4gICAqL1xuICBnZXRBbGxUb29scygpIHtcbiAgICBjb25zdCB0b29sczogQXJyYXk8eyBhZ2VudDogQmFzZUFnZW50OyB0b29sOiBhbnkgfT4gPSBbXTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IGFnZW50IG9mIHRoaXMuYWdlbnRzLnZhbHVlcygpKSB7XG4gICAgICBmb3IgKGNvbnN0IHRvb2wgb2YgYWdlbnQudG9vbHMpIHtcbiAgICAgICAgdG9vbHMucHVzaCh7IGFnZW50LCB0b29sIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gdG9vbHM7XG4gIH1cblxuICAvKipcbiAgICogRmluZCBhZ2VudCBieSB0b29sIGNvbW1hbmRcbiAgICovXG4gIGZpbmRBZ2VudEJ5Q29tbWFuZChjb21tYW5kOiBzdHJpbmcpOiB7IGFnZW50OiBCYXNlQWdlbnQ7IHRvb2w6IGFueSB9IHwgdW5kZWZpbmVkIHtcbiAgICAvLyBOb3JtYWxpemUgbGVnYWN5IGFsaWFzZXMgZmlyc3RcbiAgICBjb25zdCBub3JtYWxpemVkID0gdGhpcy5sZWdhY3lDb21tYW5kQWxpYXNlc1tjb21tYW5kXSB8fCBjb21tYW5kO1xuICAgIGZvciAoY29uc3QgYWdlbnQgb2YgdGhpcy5hZ2VudHMudmFsdWVzKCkpIHtcbiAgICAgIGNvbnN0IHRvb2wgPSBhZ2VudC50b29scy5maW5kKHQgPT4gdC5jb21tYW5kID09PSBub3JtYWxpemVkKTtcbiAgICAgIGlmICh0b29sKSByZXR1cm4geyBhZ2VudCwgdG9vbCB9O1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYW4gYWdlbnQgdG9vbFxuICAgKi9cbiAgYXN5bmMgZXhlY3V0ZUFnZW50KFxuICAgIGFnZW50SWQ6IHN0cmluZyxcbiAgICB0b29sSWQ6IHN0cmluZyxcbiAgICBpbnB1dDogc3RyaW5nLFxuICAgIGNvbnZleE11dGF0aW9uczogYW55LFxuICAgIHNlc3Npb25JZD86IHN0cmluZ1xuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGNvbnN0IGFnZW50ID0gdGhpcy5nZXRBZ2VudChhZ2VudElkKTtcbiAgICBpZiAoIWFnZW50KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEFnZW50IG5vdCBmb3VuZDogJHthZ2VudElkfWApO1xuICAgIH1cblxuICAgIGNvbnN0IHRvb2wgPSBhZ2VudC50b29scy5maW5kKHQgPT4gdC5pZCA9PT0gdG9vbElkKTtcbiAgICBpZiAoIXRvb2wpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVG9vbCBub3QgZm91bmQ6ICR7dG9vbElkfSBmb3IgYWdlbnQgJHthZ2VudElkfWApO1xuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCBhZ2VudC5leGVjdXRlKHRvb2wsIGlucHV0LCBjb252ZXhNdXRhdGlvbnMsIHNlc3Npb25JZCk7XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZSBhZ2VudCBieSBjb21tYW5kIChsZWdhY3kgc3VwcG9ydClcbiAgICovXG4gIGFzeW5jIGV4ZWN1dGVCeUNvbW1hbmQoXG4gICAgY29tbWFuZDogc3RyaW5nLFxuICAgIGlucHV0OiBzdHJpbmcsXG4gICAgY29udmV4TXV0YXRpb25zOiBhbnlcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmZpbmRBZ2VudEJ5Q29tbWFuZChjb21tYW5kKTtcbiAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBhZ2VudCBmb3VuZCBmb3IgY29tbWFuZDogJHtjb21tYW5kfWApO1xuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCByZXN1bHQuYWdlbnQuZXhlY3V0ZShyZXN1bHQudG9vbCwgaW5wdXQsIGNvbnZleE11dGF0aW9ucyk7XG4gIH1cbn1cblxuLyoqXG4gKiBTaW5nbGV0b24gYWdlbnQgcmVnaXN0cnkgaW5zdGFuY2VcbiAqL1xuZXhwb3J0IGNvbnN0IGFnZW50UmVnaXN0cnkgPSBuZXcgQWdlbnRSZWdpc3RyeSgpO1xuXG4vKipcbiAqIExlZ2FjeSBzdXBwb3J0IGZ1bmN0aW9ucyBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZUluc3RydWN0aW9uc0FnZW50KFxuICBpbnB1dDogc3RyaW5nLFxuICBjb252ZXhNdXRhdGlvbnM6IGFueVxuKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgcmV0dXJuIGF3YWl0IGFnZW50UmVnaXN0cnkuZXhlY3V0ZUFnZW50KFxuICAgICdpbnN0cnVjdGlvbnMnLFxuICAgICdnZW5lcmF0ZS1pbnN0cnVjdGlvbnMnLFxuICAgIGlucHV0LFxuICAgIGNvbnZleE11dGF0aW9uc1xuICApO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZVR3aXR0ZXJQb3N0QWdlbnQoXG4gIGlucHV0OiBzdHJpbmcsXG4gIGNvbnZleE11dGF0aW9uczogYW55XG4pOiBQcm9taXNlPHN0cmluZz4ge1xuICByZXR1cm4gYXdhaXQgYWdlbnRSZWdpc3RyeS5leGVjdXRlQWdlbnQoXG4gICAgJ3R3aXR0ZXItcG9zdCcsXG4gICAgJ2NyZWF0ZS10d2l0dGVyLXBvc3QnLFxuICAgIGlucHV0LFxuICAgIGNvbnZleE11dGF0aW9uc1xuICApO1xufVxuXG4vKipcbiAqIEdldCBhbGwgYXZhaWxhYmxlIGFnZW50cyBmb3IgVUkgZGlzcGxheVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXZhaWxhYmxlQWdlbnRzKCkge1xuICByZXR1cm4gYWdlbnRSZWdpc3RyeS5nZXRBbGxBZ2VudHMoKS5tYXAoYWdlbnQgPT4gKHtcbiAgICBpZDogYWdlbnQuaWQsXG4gICAgbmFtZTogYWdlbnQubmFtZSxcbiAgICBkZXNjcmlwdGlvbjogYWdlbnQuZGVzY3JpcHRpb24sXG4gICAgaWNvbjogYWdlbnQuaWNvbixcbiAgICBpc0FjdGl2ZTogZmFsc2UsIC8vIERlZmF1bHQgdG8gaW5hY3RpdmVcbiAgICB0b29sczogYWdlbnQudG9vbHMubWFwKHRvb2wgPT4gKHtcbiAgICAgIGlkOiB0b29sLmlkLFxuICAgICAgbmFtZTogdG9vbC5uYW1lLFxuICAgICAgY29tbWFuZDogdG9vbC5jb21tYW5kLFxuICAgICAgZGVzY3JpcHRpb246IHRvb2wuZGVzY3JpcHRpb24sXG4gICAgICBwYXJhbWV0ZXJzOiB0b29sLnBhcmFtZXRlcnMsXG4gICAgfSkpLFxuICB9KSk7XG59XG5cbi8qKlxuICogR2V0IGF2YWlsYWJsZSBjb21tYW5kcyBmb3IgYXV0b2NvbXBsZXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBdmFpbGFibGVDb21tYW5kcygpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IGNvbW1hbmRzOiBzdHJpbmdbXSA9IFtdO1xuICBcbiAgZm9yIChjb25zdCBhZ2VudCBvZiBhZ2VudFJlZ2lzdHJ5LmdldEFsbEFnZW50cygpKSB7XG4gICAgZm9yIChjb25zdCB0b29sIG9mIGFnZW50LnRvb2xzKSB7XG4gICAgICBjb21tYW5kcy5wdXNoKHRvb2wuY29tbWFuZCk7XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gY29tbWFuZHM7XG59XG5cbi8qKlxuICogTGVnYWN5IHN1cHBvcnQgZnVuY3Rpb24gZm9yIHByb2plY3QgY3JlYXRvciBhZ2VudFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZVByb2plY3RDcmVhdG9yQWdlbnQoXG4gIGlucHV0OiBzdHJpbmcsXG4gIGNvbnZleE11dGF0aW9uczogYW55XG4pOiBQcm9taXNlPHN0cmluZz4ge1xuICByZXR1cm4gYXdhaXQgYWdlbnRSZWdpc3RyeS5leGVjdXRlQWdlbnQoXG4gICAgJ3Byb2plY3QtY3JlYXRvcicsXG4gICAgJ2NyZWF0ZS1wcm9qZWN0LXdpdGgtZmlsZXMnLFxuICAgIGlucHV0LFxuICAgIGNvbnZleE11dGF0aW9uc1xuICApO1xufVxuXG4vKipcbiAqIExlZ2FjeSBzdXBwb3J0IGZ1bmN0aW9uIGZvciBDTU8gYWdlbnRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVDTU9BZ2VudChcbiAgaW5wdXQ6IHN0cmluZyxcbiAgY29udmV4TXV0YXRpb25zOiBhbnksXG4gIHNlc3Npb25JZD86IHN0cmluZ1xuKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgcmV0dXJuIGF3YWl0IGFnZW50UmVnaXN0cnkuZXhlY3V0ZUFnZW50KFxuICAgICdjbW8nLFxuICAgICdkZWZpbmUtY2FtcGFpZ24nLFxuICAgIGlucHV0LFxuICAgIGNvbnZleE11dGF0aW9ucyxcbiAgICBzZXNzaW9uSWRcbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJjbW9BZ2VudCIsImRpcmVjdG9yQWdlbnQiLCJlZGl0b3JBZ2VudCIsImZpbGVDcmVhdG9yQWdlbnQiLCJpbnN0cnVjdGlvbnNBZ2VudCIsInByb2plY3RDcmVhdG9yQWdlbnQiLCJzY2hlZHVsaW5nQWdlbnQiLCJBZ2VudFJlZ2lzdHJ5IiwicmVnaXN0ZXJBZ2VudCIsImFnZW50IiwiYWdlbnRzIiwic2V0IiwiaWQiLCJnZXRBZ2VudCIsImdldCIsImdldEFsbEFnZW50cyIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyIsImdldEFsbFRvb2xzIiwidG9vbHMiLCJ0b29sIiwicHVzaCIsImZpbmRBZ2VudEJ5Q29tbWFuZCIsImNvbW1hbmQiLCJub3JtYWxpemVkIiwibGVnYWN5Q29tbWFuZEFsaWFzZXMiLCJmaW5kIiwidCIsInVuZGVmaW5lZCIsImV4ZWN1dGVBZ2VudCIsImFnZW50SWQiLCJ0b29sSWQiLCJpbnB1dCIsImNvbnZleE11dGF0aW9ucyIsInNlc3Npb25JZCIsIkVycm9yIiwiZXhlY3V0ZSIsImV4ZWN1dGVCeUNvbW1hbmQiLCJyZXN1bHQiLCJjb25zdHJ1Y3RvciIsIk1hcCIsImNvbnNvbGUiLCJsb2ciLCJuYW1lIiwic2l6ZSIsImFnZW50UmVnaXN0cnkiLCJleGVjdXRlSW5zdHJ1Y3Rpb25zQWdlbnQiLCJleGVjdXRlVHdpdHRlclBvc3RBZ2VudCIsImdldEF2YWlsYWJsZUFnZW50cyIsIm1hcCIsImRlc2NyaXB0aW9uIiwiaWNvbiIsImlzQWN0aXZlIiwicGFyYW1ldGVycyIsImdldEF2YWlsYWJsZUNvbW1hbmRzIiwiY29tbWFuZHMiLCJleGVjdXRlUHJvamVjdENyZWF0b3JBZ2VudCIsImV4ZWN1dGVDTU9BZ2VudCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./store/agents/registry.ts\n"));

/***/ })

});